var QP=Object.defineProperty,YP=Object.defineProperties;var ZP=Object.getOwnPropertyDescriptors;var o0=Object.getOwnPropertySymbols,JP=Object.getPrototypeOf,XP=Object.prototype.hasOwnProperty,ex=Object.prototype.propertyIsEnumerable,tx=Reflect.get;var s0=(t,e,n)=>e in t?QP(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,j=(t,e)=>{for(var n in e||={})XP.call(e,n)&&s0(t,n,e[n]);if(o0)for(var n of o0(e))ex.call(e,n)&&s0(t,n,e[n]);return t},fe=(t,e)=>YP(t,ZP(e));var ti=(t,e,n)=>tx(JP(t),n,e);var _=(t,e,n)=>new Promise((r,i)=>{var o=u=>{try{a(n.next(u))}catch(l){i(l)}},s=u=>{try{a(n.throw(u))}catch(l){i(l)}},a=u=>u.done?r(u.value):Promise.resolve(u.value).then(o,s);a((n=n.apply(t,e)).next())});function eg(t,e){return Object.is(t,e)}var nt=null,al=!1,tg=1,sn=Symbol("SIGNAL");function ae(t){let e=nt;return nt=t,e}function ng(){return nt}var Ya={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function Za(t){if(al)throw new Error("");if(nt===null)return;nt.consumerOnSignalRead(t);let e=nt.nextProducerIndex++;if(dl(nt),e<nt.producerNode.length&&nt.producerNode[e]!==t&&Qa(nt)){let n=nt.producerNode[e];ll(n,nt.producerIndexOfThis[e])}nt.producerNode[e]!==t&&(nt.producerNode[e]=t,nt.producerIndexOfThis[e]=Qa(nt)?c0(t,nt,e):0),nt.producerLastReadVersion[e]=t.version}function a0(){tg++}function rg(t){if(!(Qa(t)&&!t.dirty)&&!(!t.dirty&&t.lastCleanEpoch===tg)){if(!t.producerMustRecompute(t)&&!ag(t)){Xp(t);return}t.producerRecomputeValue(t),Xp(t)}}function ig(t){if(t.liveConsumerNode===void 0)return;let e=al;al=!0;try{for(let n of t.liveConsumerNode)n.dirty||nx(n)}finally{al=e}}function og(){return nt?.consumerAllowSignalWrites!==!1}function nx(t){t.dirty=!0,ig(t),t.consumerMarkedDirty?.(t)}function Xp(t){t.dirty=!1,t.lastCleanEpoch=tg}function ul(t){return t&&(t.nextProducerIndex=0),ae(t)}function sg(t,e){if(ae(e),!(!t||t.producerNode===void 0||t.producerIndexOfThis===void 0||t.producerLastReadVersion===void 0)){if(Qa(t))for(let n=t.nextProducerIndex;n<t.producerNode.length;n++)ll(t.producerNode[n],t.producerIndexOfThis[n]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function ag(t){dl(t);for(let e=0;e<t.producerNode.length;e++){let n=t.producerNode[e],r=t.producerLastReadVersion[e];if(r!==n.version||(rg(n),r!==n.version))return!0}return!1}function cg(t){if(dl(t),Qa(t))for(let e=0;e<t.producerNode.length;e++)ll(t.producerNode[e],t.producerIndexOfThis[e]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function c0(t,e,n){if(u0(t),t.liveConsumerNode.length===0&&l0(t))for(let r=0;r<t.producerNode.length;r++)t.producerIndexOfThis[r]=c0(t.producerNode[r],t,r);return t.liveConsumerIndexOfThis.push(n),t.liveConsumerNode.push(e)-1}function ll(t,e){if(u0(t),t.liveConsumerNode.length===1&&l0(t))for(let r=0;r<t.producerNode.length;r++)ll(t.producerNode[r],t.producerIndexOfThis[r]);let n=t.liveConsumerNode.length-1;if(t.liveConsumerNode[e]=t.liveConsumerNode[n],t.liveConsumerIndexOfThis[e]=t.liveConsumerIndexOfThis[n],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,e<t.liveConsumerNode.length){let r=t.liveConsumerIndexOfThis[e],i=t.liveConsumerNode[e];dl(i),i.producerIndexOfThis[r]=e}}function Qa(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function dl(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}function u0(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}function l0(t){return t.producerNode!==void 0}function ug(t,e){let n=Object.create(rx);n.computation=t,e!==void 0&&(n.equal=e);let r=()=>{if(rg(n),Za(n),n.value===cl)throw n.error;return n.value};return r[sn]=n,r}var Zp=Symbol("UNSET"),Jp=Symbol("COMPUTING"),cl=Symbol("ERRORED"),rx=fe(j({},Ya),{value:Zp,dirty:!0,error:null,equal:eg,kind:"computed",producerMustRecompute(t){return t.value===Zp||t.value===Jp},producerRecomputeValue(t){if(t.value===Jp)throw new Error("Detected cycle in computations.");let e=t.value;t.value=Jp;let n=ul(t),r,i=!1;try{r=t.computation(),ae(null),i=e!==Zp&&e!==cl&&r!==cl&&t.equal(e,r)}catch(o){r=cl,t.error=o}finally{sg(t,n)}if(i){t.value=e;return}t.value=r,t.version++}});function ix(){throw new Error}var d0=ix;function h0(t){d0(t)}function lg(t){d0=t}var ox=null;function dg(t,e){let n=Object.create(hl);n.value=t,e!==void 0&&(n.equal=e);let r=()=>(Za(n),n.value);return r[sn]=n,r}function Ja(t,e){og()||h0(t),t.equal(t.value,e)||(t.value=e,sx(t))}function hg(t,e){og()||h0(t),Ja(t,e(t.value))}var hl=fe(j({},Ya),{equal:eg,value:void 0,kind:"signal"});function sx(t){t.version++,a0(),ig(t),ox?.()}function fg(t){let e=ae(null);try{return t()}finally{ae(e)}}var pg;function Xa(){return pg}function gr(t){let e=pg;return pg=t,e}var fl=Symbol("NotFound");function ne(t){return typeof t=="function"}function zo(t){let n=t(r=>{Error.call(r),r.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var pl=zo(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function Ui(t,e){if(t){let n=t.indexOf(e);0<=n&&t.splice(n,1)}}var $e=class t{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let o of n)o.remove(this);else n.remove(this);let{initialTeardown:r}=this;if(ne(r))try{r()}catch(o){e=o instanceof pl?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{f0(o)}catch(s){e=e??[],s instanceof pl?e=[...e,...s.errors]:e.push(s)}}if(e)throw new pl(e)}}add(e){var n;if(e&&e!==this)if(this.closed)f0(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(e)}}_hasParent(e){let{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){let{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&Ui(n,e)}remove(e){let{_finalizers:n}=this;n&&Ui(n,e),e instanceof t&&e._removeParent(this)}};$e.EMPTY=(()=>{let t=new $e;return t.closed=!0,t})();var gg=$e.EMPTY;function gl(t){return t instanceof $e||t&&"closed"in t&&ne(t.remove)&&ne(t.add)&&ne(t.unsubscribe)}function f0(t){ne(t)?t():t.unsubscribe()}var En={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var qo={setTimeout(t,e,...n){let{delegate:r}=qo;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){let{delegate:e}=qo;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function ml(t){qo.setTimeout(()=>{let{onUnhandledError:e}=En;if(e)e(t);else throw t})}function ec(){}var p0=mg("C",void 0,void 0);function g0(t){return mg("E",void 0,t)}function m0(t){return mg("N",t,void 0)}function mg(t,e,n){return{kind:t,value:e,error:n}}var Bi=null;function Wo(t){if(En.useDeprecatedSynchronousErrorHandling){let e=!Bi;if(e&&(Bi={errorThrown:!1,error:null}),t(),e){let{errorThrown:n,error:r}=Bi;if(Bi=null,n)throw r}}else t()}function y0(t){En.useDeprecatedSynchronousErrorHandling&&Bi&&(Bi.errorThrown=!0,Bi.error=t)}var $i=class extends $e{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,gl(e)&&e.add(this)):this.destination=hx}static create(e,n,r){return new Go(e,n,r)}next(e){this.isStopped?vg(m0(e),this):this._next(e)}error(e){this.isStopped?vg(g0(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?vg(p0,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},lx=Function.prototype.bind;function yg(t,e){return lx.call(t,e)}var _g=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){yl(r)}}error(e){let{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){yl(r)}else yl(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){yl(n)}}},Go=class extends $i{constructor(e,n,r){super();let i;if(ne(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let o;this&&En.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&yg(e.next,o),error:e.error&&yg(e.error,o),complete:e.complete&&yg(e.complete,o)}):i=e}this.destination=new _g(i)}};function yl(t){En.useDeprecatedSynchronousErrorHandling?y0(t):ml(t)}function dx(t){throw t}function vg(t,e){let{onStoppedNotification:n}=En;n&&qo.setTimeout(()=>n(t,e))}var hx={closed:!0,next:ec,error:dx,complete:ec};var Ko=typeof Symbol=="function"&&Symbol.observable||"@@observable";function en(t){return t}function vl(...t){return Ig(t)}function Ig(t){return t.length===0?en:t.length===1?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}var pe=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){let r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){let o=px(n)?n:new Go(n,r,i);return Wo(()=>{let{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return r=v0(r),new r((i,o)=>{let s=new Go({next:a=>{try{n(a)}catch(u){o(u),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(n){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(n)}[Ko](){return this}pipe(...n){return Ig(n)(this)}toPromise(n){return n=v0(n),new n((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return t.create=e=>new t(e),t})();function v0(t){var e;return(e=t??En.Promise)!==null&&e!==void 0?e:Promise}function fx(t){return t&&ne(t.next)&&ne(t.error)&&ne(t.complete)}function px(t){return t&&t instanceof $i||fx(t)&&gl(t)}function Eg(t){return ne(t?.lift)}function we(t){return e=>{if(Eg(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function ye(t,e,n,r,i){return new wg(t,e,n,r,i)}var wg=class extends $i{constructor(e,n,r,i,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=n?function(a){try{n(a)}catch(u){e.error(u)}}:super._next,this._error=i?function(a){try{i(a)}catch(u){e.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function Qo(){return we((t,e)=>{let n=null;t._refCount++;let r=ye(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount){n=null;return}let i=t._connection,o=n;n=null,i&&(!o||i===o)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}var Yo=class extends pe{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,Eg(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new $e;let n=this.getSubject();e.add(this.source.subscribe(ye(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=$e.EMPTY)}return e}refCount(){return Qo()(this)}};var _0=zo(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Ye=(()=>{class t extends pe{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let r=new _l(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new _0}next(n){Wo(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(n)}})}error(n){Wo(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){Wo(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:r,isStopped:i,observers:o}=this;return r||i?gg:(this.currentObservers=null,o.push(n),new $e(()=>{this.currentObservers=null,Ui(o,n)}))}_checkFinalizedStatuses(n){let{hasError:r,thrownError:i,isStopped:o}=this;r?n.error(i):o&&n.complete()}asObservable(){let n=new pe;return n.source=this,n}}return t.create=(e,n)=>new _l(e,n),t})(),_l=class extends Ye{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.next)===null||r===void 0||r.call(n,e)}error(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.error)===null||r===void 0||r.call(n,e)}complete(){var e,n;(n=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||n===void 0||n.call(e)}_subscribe(e){var n,r;return(r=(n=this.source)===null||n===void 0?void 0:n.subscribe(e))!==null&&r!==void 0?r:gg}};var yt=class extends Ye{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){let{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var Cg={now(){return(Cg.delegate||Date).now()},delegate:void 0};var Il=class extends $e{constructor(e,n){super()}schedule(e,n=0){return this}};var tc={setInterval(t,e,...n){let{delegate:r}=tc;return r?.setInterval?r.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){let{delegate:e}=tc;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};var Zo=class extends Il{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var r;if(this.closed)return this;this.state=e;let i=this.id,o=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(o,i,n)),this.pending=!0,this.delay=n,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(o,this.id,n),this}requestAsyncId(e,n,r=0){return tc.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return n;n!=null&&tc.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,n);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let r=!1,i;try{this.work(e)}catch(o){r=!0,i=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,Ui(r,this),e!=null&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}};var Jo=class t{constructor(e,n=t.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}};Jo.now=Cg.now;var Xo=class extends Jo{constructor(e,n=Jo.now){super(e,n),this.actions=[],this._active=!1}flush(e){let{actions:n}=this;if(this._active){n.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}};var bg=new Xo(Zo);var El=class extends Zo{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,r=0){return r!=null&&r>0||r==null&&this.delay>0?super.requestAsyncId(e,n,r):(e.flush(this),0)}};var wl=class extends Xo{};var Dg=new wl(El);var Ht=new pe(t=>t.complete());function I0(t){return t&&ne(t.schedule)}function E0(t){return t[t.length-1]}function Cl(t){return ne(E0(t))?t.pop():void 0}function ni(t){return I0(E0(t))?t.pop():void 0}function bl(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function C0(t,e,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(h){try{l(r.next(h))}catch(p){s(p)}}function u(h){try{l(r.throw(h))}catch(p){s(p)}}function l(h){h.done?o(h.value):i(h.value).then(a,u)}l((r=r.apply(t,e||[])).next())})}function w0(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Hi(t){return this instanceof Hi?(this.v=t,this):new Hi(t)}function b0(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(m){return function(D){return Promise.resolve(D).then(m,p)}}function a(m,D){r[m]&&(i[m]=function(k){return new Promise(function(x,U){o.push([m,k,x,U])>1||u(m,k)})},D&&(i[m]=D(i[m])))}function u(m,D){try{l(r[m](D))}catch(k){y(o[0][3],k)}}function l(m){m.value instanceof Hi?Promise.resolve(m.value.v).then(h,p):y(o[0][2],m)}function h(m){u("next",m)}function p(m){u("throw",m)}function y(m,D){m(D),o.shift(),o.length&&u(o[0][0],o[0][1])}}function D0(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof w0=="function"?w0(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=t[o]&&function(s){return new Promise(function(a,u){s=t[o](s),i(a,u,s.done,s.value)})}}function i(o,s,a,u){Promise.resolve(u).then(function(l){o({value:l,done:a})},s)}}var Dl=t=>t&&typeof t.length=="number"&&typeof t!="function";function Tl(t){return ne(t?.then)}function Sl(t){return ne(t[Ko])}function Al(t){return Symbol.asyncIterator&&ne(t?.[Symbol.asyncIterator])}function Rl(t){return new TypeError(`You provided ${t!==null&&typeof t=="object"?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function gx(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Ml=gx();function Nl(t){return ne(t?.[Ml])}function Pl(t){return b0(this,arguments,function*(){let n=t.getReader();try{for(;;){let{value:r,done:i}=yield Hi(n.read());if(i)return yield Hi(void 0);yield yield Hi(r)}}finally{n.releaseLock()}})}function xl(t){return ne(t?.getReader)}function Ze(t){if(t instanceof pe)return t;if(t!=null){if(Sl(t))return mx(t);if(Dl(t))return yx(t);if(Tl(t))return vx(t);if(Al(t))return T0(t);if(Nl(t))return _x(t);if(xl(t))return Ix(t)}throw Rl(t)}function mx(t){return new pe(e=>{let n=t[Ko]();if(ne(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function yx(t){return new pe(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}function vx(t){return new pe(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,ml)})}function _x(t){return new pe(e=>{for(let n of t)if(e.next(n),e.closed)return;e.complete()})}function T0(t){return new pe(e=>{Ex(t,e).catch(n=>e.error(n))})}function Ix(t){return T0(Pl(t))}function Ex(t,e){var n,r,i,o;return C0(this,void 0,void 0,function*(){try{for(n=D0(t);r=yield n.next(),!r.done;){let s=r.value;if(e.next(s),e.closed)return}}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=n.return)&&(yield o.call(n))}finally{if(i)throw i.error}}e.complete()})}function zt(t,e,n,r=0,i=!1){let o=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(o),!i)return o}function ri(t,e=0){return we((n,r)=>{n.subscribe(ye(r,i=>zt(r,t,()=>r.next(i),e),()=>zt(r,t,()=>r.complete(),e),i=>zt(r,t,()=>r.error(i),e)))})}function ii(t,e=0){return we((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function S0(t,e){return Ze(t).pipe(ii(e),ri(e))}function A0(t,e){return Ze(t).pipe(ii(e),ri(e))}function R0(t,e){return new pe(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}function M0(t,e){return new pe(n=>{let r;return zt(n,e,()=>{r=t[Ml](),zt(n,e,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){n.error(s);return}o?n.complete():n.next(i)},0,!0)}),()=>ne(r?.return)&&r.return()})}function kl(t,e){if(!t)throw new Error("Iterable cannot be null");return new pe(n=>{zt(n,e,()=>{let r=t[Symbol.asyncIterator]();zt(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function N0(t,e){return kl(Pl(t),e)}function P0(t,e){if(t!=null){if(Sl(t))return S0(t,e);if(Dl(t))return R0(t,e);if(Tl(t))return A0(t,e);if(Al(t))return kl(t,e);if(Nl(t))return M0(t,e);if(xl(t))return N0(t,e)}throw Rl(t)}function je(t,e){return e?P0(t,e):Ze(t)}function X(...t){let e=ni(t);return je(t,e)}function es(t,e){let n=ne(t)?t:()=>t,r=i=>i.error(n());return new pe(e?i=>e.schedule(r,0,i):r)}function Tg(t){return!!t&&(t instanceof pe||ne(t.lift)&&ne(t.subscribe))}var mr=zo(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function re(t,e){return we((n,r)=>{let i=0;n.subscribe(ye(r,o=>{r.next(t.call(e,o,i++))}))})}var{isArray:wx}=Array;function Cx(t,e){return wx(e)?t(...e):t(e)}function Ol(t){return re(e=>Cx(t,e))}var{isArray:bx}=Array,{getPrototypeOf:Dx,prototype:Tx,keys:Sx}=Object;function Fl(t){if(t.length===1){let e=t[0];if(bx(e))return{args:e,keys:null};if(Ax(e)){let n=Sx(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}function Ax(t){return t&&typeof t=="object"&&Dx(t)===Tx}function Ll(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}function nc(...t){let e=ni(t),n=Cl(t),{args:r,keys:i}=Fl(t);if(r.length===0)return je([],e);let o=new pe(Rx(r,e,i?s=>Ll(i,s):en));return n?o.pipe(Ol(n)):o}function Rx(t,e,n=en){return r=>{x0(e,()=>{let{length:i}=t,o=new Array(i),s=i,a=i;for(let u=0;u<i;u++)x0(e,()=>{let l=je(t[u],e),h=!1;l.subscribe(ye(r,p=>{o[u]=p,h||(h=!0,a--),a||r.next(n(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}function x0(t,e,n){t?zt(n,t,e):e()}function k0(t,e,n,r,i,o,s,a){let u=[],l=0,h=0,p=!1,y=()=>{p&&!u.length&&!l&&e.complete()},m=k=>l<r?D(k):u.push(k),D=k=>{o&&e.next(k),l++;let x=!1;Ze(n(k,h++)).subscribe(ye(e,U=>{i?.(U),o?m(U):e.next(U)},()=>{x=!0},void 0,()=>{if(x)try{for(l--;u.length&&l<r;){let U=u.shift();s?zt(e,s,()=>D(U)):D(U)}y()}catch(U){e.error(U)}}))};return t.subscribe(ye(e,m,()=>{p=!0,y()})),()=>{a?.()}}function rt(t,e,n=1/0){return ne(e)?rt((r,i)=>re((o,s)=>e(r,o,i,s))(Ze(t(r,i))),n):(typeof e=="number"&&(n=e),we((r,i)=>k0(r,i,t,n)))}function O0(t=1/0){return rt(en,t)}function F0(){return O0(1)}function ts(...t){return F0()(je(t,ni(t)))}function Vl(t){return new pe(e=>{Ze(t()).subscribe(e)})}function Sg(...t){let e=Cl(t),{args:n,keys:r}=Fl(t),i=new pe(o=>{let{length:s}=n;if(!s){o.complete();return}let a=new Array(s),u=s,l=s;for(let h=0;h<s;h++){let p=!1;Ze(n[h]).subscribe(ye(o,y=>{p||(p=!0,l--),a[h]=y},()=>u--,void 0,()=>{(!u||!p)&&(l||o.next(r?Ll(r,a):a),o.complete())}))}});return e?i.pipe(Ol(e)):i}function an(t,e){return we((n,r)=>{let i=0;n.subscribe(ye(r,o=>t.call(e,o,i++)&&r.next(o)))})}function oi(t){return we((e,n)=>{let r=null,i=!1,o;r=e.subscribe(ye(n,void 0,void 0,s=>{o=Ze(t(s,oi(t)(e))),r?(r.unsubscribe(),r=null,o.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(n))})}function L0(t,e,n,r,i){return(o,s)=>{let a=n,u=e,l=0;o.subscribe(ye(s,h=>{let p=l++;u=a?t(u,h,p):(a=!0,h),r&&s.next(u)},i&&(()=>{a&&s.next(u),s.complete()})))}}function ns(t,e){return ne(e)?rt(t,e,1):rt(t,1)}function si(t){return we((e,n)=>{let r=!1;e.subscribe(ye(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function yr(t){return t<=0?()=>Ht:we((e,n)=>{let r=0;e.subscribe(ye(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function jl(t=Mx){return we((e,n)=>{let r=!1;e.subscribe(ye(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function Mx(){return new mr}function rc(t){return we((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}function vr(t,e){let n=arguments.length>=2;return r=>r.pipe(t?an((i,o)=>t(i,o,r)):en,yr(1),n?si(e):jl(()=>new mr))}function rs(t){return t<=0?()=>Ht:we((e,n)=>{let r=[];e.subscribe(ye(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(let i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function Ag(t,e){let n=arguments.length>=2;return r=>r.pipe(t?an((i,o)=>t(i,o,r)):en,rs(1),n?si(e):jl(()=>new mr))}function Ul(t,e){return we(L0(t,e,arguments.length>=2,!0))}function Bl(...t){let e=ni(t);return we((n,r)=>{(e?ts(t,n,e):ts(t,n)).subscribe(r)})}function cn(t,e){return we((n,r)=>{let i=null,o=0,s=!1,a=()=>s&&!i&&r.complete();n.subscribe(ye(r,u=>{i?.unsubscribe();let l=0,h=o++;Ze(t(u,h)).subscribe(i=ye(r,p=>r.next(e?e(u,p,h,l++):p),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function Rg(t){return we((e,n)=>{Ze(t).subscribe(ye(n,()=>n.complete(),ec)),!n.closed&&e.subscribe(n)})}function vt(t,e,n){let r=ne(t)||e||n?{next:t,error:e,complete:n}:t;return r?we((i,o)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let a=!0;i.subscribe(ye(o,u=>{var l;(l=r.next)===null||l===void 0||l.call(r,u),o.next(u)},()=>{var u;a=!1,(u=r.complete)===null||u===void 0||u.call(r),o.complete()},u=>{var l;a=!1,(l=r.error)===null||l===void 0||l.call(r,u),o.error(u)},()=>{var u,l;a&&((u=r.unsubscribe)===null||u===void 0||u.call(r)),(l=r.finalize)===null||l===void 0||l.call(r)}))}):en}var DC="https://angular.dev/best-practices/security#preventing-cross-site-scripting-xss",H=class extends Error{code;constructor(e,n){super(Px(e,n)),this.code=e}};function Nx(t){return`NG0${Math.abs(t)}`}function Px(t,e){return`${Nx(t)}${e?": "+e:""}`}var TC=Symbol("InputSignalNode#UNSET"),xx=fe(j({},hl),{transformFn:void 0,applyValueToInputSignal(t,e){Ja(t,e)}});function SC(t,e){let n=Object.create(xx);n.value=t,n.transformFn=e?.transform;function r(){if(Za(n),n.value===TC){let i=null;throw new H(-950,i)}return n.value}return r[sn]=n,r}function yc(t){return{toString:t}.toString()}var $l="__parameters__";function kx(t){return function(...n){if(t){let r=t(...n);for(let i in r)this[i]=r[i]}}}function Ox(t,e,n){return yc(()=>{let r=kx(e);function i(...o){if(this instanceof i)return r.apply(this,o),this;let s=new i(...o);return a.annotation=s,a;function a(u,l,h){let p=u.hasOwnProperty($l)?u[$l]:Object.defineProperty(u,$l,{value:[]})[$l];for(;p.length<=h;)p.push(null);return(p[h]=p[h]||[]).push(s),u}}return i.prototype.ngMetadataName=t,i.annotationCls=i,i})}var qi=globalThis;function ke(t){for(let e in t)if(t[e]===ke)return e;throw Error("Could not find renamed property on target object.")}function Fx(t,e){for(let n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function Gt(t){if(typeof t=="string")return t;if(Array.isArray(t))return`[${t.map(Gt).join(", ")}]`;if(t==null)return""+t;let e=t.overriddenName||t.name;if(e)return`${e}`;let n=t.toString();if(n==null)return""+n;let r=n.indexOf(`
`);return r>=0?n.slice(0,r):n}function Wg(t,e){return t?e?`${t} ${e}`:t:e||""}var Lx=ke({__forward_ref__:ke});function qn(t){return t.__forward_ref__=qn,t.toString=function(){return Gt(this())},t}function kt(t){return AC(t)?t():t}function AC(t){return typeof t=="function"&&t.hasOwnProperty(Lx)&&t.__forward_ref__===qn}function z(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function wr(t){return{providers:t.providers||[],imports:t.imports||[]}}function Cd(t){return V0(t,MC)||V0(t,NC)}function RC(t){return Cd(t)!==null}function V0(t,e){return t.hasOwnProperty(e)?t[e]:null}function Vx(t){let e=t&&(t[MC]||t[NC]);return e||null}function j0(t){return t&&(t.hasOwnProperty(U0)||t.hasOwnProperty(jx))?t[U0]:null}var MC=ke({\u0275prov:ke}),U0=ke({\u0275inj:ke}),NC=ke({ngInjectableDef:ke}),jx=ke({ngInjectorDef:ke}),$=class{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(e,n){this._desc=e,this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=z({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function PC(t){return t&&!!t.\u0275providers}var Ux=ke({\u0275cmp:ke}),Bx=ke({\u0275dir:ke}),$x=ke({\u0275pipe:ke}),Hx=ke({\u0275mod:ke}),Yl=ke({\u0275fac:ke}),ac=ke({__NG_ELEMENT_ID__:ke}),B0=ke({__NG_ENV_ID__:ke});function cs(t){return typeof t=="string"?t:t==null?"":String(t)}function zx(t){return typeof t=="function"?t.name||t.toString():typeof t=="object"&&t!=null&&typeof t.type=="function"?t.type.name||t.type.toString():cs(t)}function xC(t,e){throw new H(-200,t)}function Fm(t,e){throw new H(-201,!1)}var ue=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(ue||{}),Gg;function kC(){return Gg}function qt(t){let e=Gg;return Gg=t,e}function OC(t,e,n){let r=Cd(t);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(n&ue.Optional)return null;if(e!==void 0)return e;Fm(t,"Injector")}var qx={},Wi=qx,Kg="__NG_DI_FLAG__",Zl=class{injector;constructor(e){this.injector=e}retrieve(e,n){let r=n;return this.injector.get(e,r.optional?fl:Wi,r)}},Jl="ngTempTokenPath",Wx="ngTokenPath",Gx=/\n/gm,Kx="\u0275",$0="__source";function Qx(t,e=ue.Default){if(Xa()===void 0)throw new H(-203,!1);if(Xa()===null)return OC(t,void 0,e);{let n=Xa(),r;return n instanceof Zl?r=n.injector:r=n,r.get(t,e&ue.Optional?null:void 0,e)}}function ce(t,e=ue.Default){return(kC()||Qx)(kt(t),e)}function P(t,e=ue.Default){return ce(t,bd(e))}function bd(t){return typeof t>"u"||typeof t=="number"?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function Qg(t){let e=[];for(let n=0;n<t.length;n++){let r=kt(t[n]);if(Array.isArray(r)){if(r.length===0)throw new H(900,!1);let i,o=ue.Default;for(let s=0;s<r.length;s++){let a=r[s],u=Zx(a);typeof u=="number"?u===-1?i=a.token:o|=u:i=a}e.push(ce(i,o))}else e.push(ce(r))}return e}function Yx(t,e){return t[Kg]=e,t.prototype[Kg]=e,t}function Zx(t){return t[Kg]}function Jx(t,e,n,r){let i=t[Jl];throw e[$0]&&i.unshift(e[$0]),t.message=Xx(`
`+t.message,i,n,r),t[Wx]=i,t[Jl]=null,t}function Xx(t,e,n,r=null){t=t&&t.charAt(0)===`
`&&t.charAt(1)==Kx?t.slice(2):t;let i=Gt(e);if(Array.isArray(e))i=e.map(Gt).join(" -> ");else if(typeof e=="object"){let o=[];for(let s in e)if(e.hasOwnProperty(s)){let a=e[s];o.push(s+":"+(typeof a=="string"?JSON.stringify(a):Gt(a)))}i=`{${o.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(Gx,`
  `)}`}var ln=Yx(Ox("Optional"),8);function Ki(t,e){let n=t.hasOwnProperty(Yl);return n?t[Yl]:null}function Lm(t,e){t.forEach(n=>Array.isArray(n)?Lm(n,e):e(n))}function FC(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function Xl(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function ek(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(i===1)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;){let o=i-2;t[i]=t[o],i--}t[e]=n,t[e+1]=r}}function Dd(t,e,n){let r=vc(t,e);return r>=0?t[r|1]=n:(r=~r,ek(t,r,e,n)),r}function Mg(t,e){let n=vc(t,e);if(n>=0)return t[n|1]}function vc(t,e){return tk(t,e,1)}function tk(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){let o=r+(i-r>>1),s=t[o<<n];if(e===s)return o<<n;s>e?i=o:r=o+1}return~(i<<n)}var Qi={},Wt=[],cc=new $(""),LC=new $("",-1),VC=new $(""),ed=class{get(e,n=Wi){if(n===Wi){let r=new Error(`NullInjectorError: No provider for ${Gt(e)}!`);throw r.name="NullInjectorError",r}return n}};function jC(t,e){let n=t[Hx]||null;if(!n&&e===!0)throw new Error(`Type ${Gt(t)} does not have '\u0275mod' property.`);return n}function Yi(t){return t[Ux]||null}function nk(t){return t[Bx]||null}function rk(t){return t[$x]||null}function Cr(t){return{\u0275providers:t}}function ik(...t){return{\u0275providers:UC(!0,t),\u0275fromNgModule:!0}}function UC(t,...e){let n=[],r=new Set,i,o=s=>{n.push(s)};return Lm(e,s=>{let a=s;Yg(a,o,[],r)&&(i||=[],i.push(a))}),i!==void 0&&BC(i,o),n}function BC(t,e){for(let n=0;n<t.length;n++){let{ngModule:r,providers:i}=t[n];Vm(i,o=>{e(o,r)})}}function Yg(t,e,n,r){if(t=kt(t),!t)return!1;let i=null,o=j0(t),s=!o&&Yi(t);if(!o&&!s){let u=t.ngModule;if(o=j0(u),o)i=u;else return!1}else{if(s&&!s.standalone)return!1;i=t}let a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){let u=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let l of u)Yg(l,e,n,r)}}else if(o){if(o.imports!=null&&!a){r.add(i);let l;try{Lm(o.imports,h=>{Yg(h,e,n,r)&&(l||=[],l.push(h))})}finally{}l!==void 0&&BC(l,e)}if(!a){let l=Ki(i)||(()=>new i);e({provide:i,useFactory:l,deps:Wt},i),e({provide:VC,useValue:i,multi:!0},i),e({provide:cc,useValue:()=>ce(i),multi:!0},i)}let u=o.providers;if(u!=null&&!a){let l=t;Vm(u,h=>{e(h,l)})}}else return!1;return i!==t&&t.providers!==void 0}function Vm(t,e){for(let n of t)PC(n)&&(n=n.\u0275providers),Array.isArray(n)?Vm(n,e):e(n)}var ok=ke({provide:String,useValue:ke});function $C(t){return t!==null&&typeof t=="object"&&ok in t}function sk(t){return!!(t&&t.useExisting)}function ak(t){return!!(t&&t.useFactory)}function us(t){return typeof t=="function"}function ck(t){return!!t.useClass}var Td=new $(""),ql={},H0={},Ng;function jm(){return Ng===void 0&&(Ng=new ed),Ng}var Ft=class{},uc=class extends Ft{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,Jg(e,s=>this.processProvider(s)),this.records.set(LC,is(void 0,this)),i.has("environment")&&this.records.set(Ft,is(void 0,this));let o=this.records.get(Td);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(VC,Wt,ue.Self))}retrieve(e,n){let r=n;return this.get(e,r.optional?fl:Wi,r)}destroy(){oc(this),this._destroyed=!0;let e=ae(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of n)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),ae(e)}}onDestroy(e){return oc(this),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){oc(this);let n=gr(this),r=qt(void 0),i;try{return e()}finally{gr(n),qt(r)}}get(e,n=Wi,r=ue.Default){if(oc(this),e.hasOwnProperty(B0))return e[B0](this);r=bd(r);let i,o=gr(this),s=qt(void 0);try{if(!(r&ue.SkipSelf)){let u=this.records.get(e);if(u===void 0){let l=fk(e)&&Cd(e);l&&this.injectableDefInScope(l)?u=is(Zg(e),ql):u=null,this.records.set(e,u)}if(u!=null)return this.hydrate(e,u)}let a=r&ue.Self?jm():this.parent;return n=r&ue.Optional&&n===Wi?null:n,a.get(e,n)}catch(a){if(a.name==="NullInjectorError"){if((a[Jl]=a[Jl]||[]).unshift(Gt(e)),o)throw a;return Jx(a,e,"R3InjectorError",this.source)}else throw a}finally{qt(s),gr(o)}}resolveInjectorInitializers(){let e=ae(null),n=gr(this),r=qt(void 0),i;try{let o=this.get(cc,Wt,ue.Self);for(let s of o)s()}finally{gr(n),qt(r),ae(e)}}toString(){let e=[],n=this.records;for(let r of n.keys())e.push(Gt(r));return`R3Injector[${e.join(", ")}]`}processProvider(e){e=kt(e);let n=us(e)?e:kt(e&&e.provide),r=lk(e);if(!us(e)&&e.multi===!0){let i=this.records.get(n);i||(i=is(void 0,ql,!0),i.factory=()=>Qg(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n){let r=ae(null);try{return n.value===H0?xC(Gt(e)):n.value===ql&&(n.value=H0,n.value=n.factory()),typeof n.value=="object"&&n.value&&hk(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{ae(r)}}injectableDefInScope(e){if(!e.providedIn)return!1;let n=kt(e.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){let n=this._onDestroyHooks.indexOf(e);n!==-1&&this._onDestroyHooks.splice(n,1)}};function Zg(t){let e=Cd(t),n=e!==null?e.factory:Ki(t);if(n!==null)return n;if(t instanceof $)throw new H(204,!1);if(t instanceof Function)return uk(t);throw new H(204,!1)}function uk(t){if(t.length>0)throw new H(204,!1);let n=Vx(t);return n!==null?()=>n.factory(t):()=>new t}function lk(t){if($C(t))return is(void 0,t.useValue);{let e=HC(t);return is(e,ql)}}function HC(t,e,n){let r;if(us(t)){let i=kt(t);return Ki(i)||Zg(i)}else if($C(t))r=()=>kt(t.useValue);else if(ak(t))r=()=>t.useFactory(...Qg(t.deps||[]));else if(sk(t))r=()=>ce(kt(t.useExisting));else{let i=kt(t&&(t.useClass||t.provide));if(dk(t))r=()=>new i(...Qg(t.deps));else return Ki(i)||Zg(i)}return r}function oc(t){if(t.destroyed)throw new H(205,!1)}function is(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function dk(t){return!!t.deps}function hk(t){return t!==null&&typeof t=="object"&&typeof t.ngOnDestroy=="function"}function fk(t){return typeof t=="function"||typeof t=="object"&&t instanceof $}function Jg(t,e){for(let n of t)Array.isArray(n)?Jg(n,e):n&&PC(n)?Jg(n.\u0275providers,e):e(n)}function jt(t,e){let n;t instanceof uc?(oc(t),n=t):n=new Zl(t);let r,i=gr(n),o=qt(void 0);try{return e()}finally{gr(i),qt(o)}}function zC(){return kC()!==void 0||Xa()!=null}function qC(t){if(!zC())throw new H(-203,!1)}function pk(t){return typeof t=="function"}var br=0,le=1,oe=2,Lt=3,Cn=4,Tn=5,lc=6,td=7,ot=8,Zi=9,_r=10,Ke=11,dc=12,z0=13,Is=14,bn=15,ls=16,os=17,ds=18,Sd=19,WC=20,ai=21,Pg=22,nd=23,un=24,xg=25,Vt=26,GC=1;var Ji=7,rd=8,id=9,Ot=10;function ci(t){return Array.isArray(t)&&typeof t[GC]=="object"}function Dr(t){return Array.isArray(t)&&t[GC]===!0}function KC(t){return(t.flags&4)!==0}function Es(t){return t.componentOffset>-1}function Um(t){return(t.flags&1)===1}function Bn(t){return!!t.template}function od(t){return(t[oe]&512)!==0}function ws(t){return(t[oe]&256)===256}var Xg=class{previousValue;currentValue;firstChange;constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}};function QC(t,e,n,r){e!==null?e.applyValueToInputSignal(e,r):t[n]=r}var ui=(()=>{let t=()=>YC;return t.ngInherit=!0,t})();function YC(t){return t.type.prototype.ngOnChanges&&(t.setInput=mk),gk}function gk(){let t=JC(this),e=t?.current;if(e){let n=t.previous;if(n===Qi)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function mk(t,e,n,r,i){let o=this.declaredInputs[r],s=JC(t)||yk(t,{previous:Qi,current:null}),a=s.current||(s.current={}),u=s.previous,l=u[o];a[o]=new Xg(l&&l.currentValue,n,u===Qi),QC(t,e,i,n)}var ZC="__ngSimpleChanges__";function JC(t){return t[ZC]||null}function yk(t,e){return t[ZC]=e}var q0=null;var Oe=function(t,e=null,n){q0?.(t,e,n)},vk="svg",_k="math";function $n(t){for(;Array.isArray(t);)t=t[br];return t}function XC(t,e){return $n(e[t])}function Wn(t,e){return $n(e[t.index])}function Bm(t,e){return t.data[e]}function eb(t,e){return t[e]}function Hn(t,e){let n=e[t];return ci(n)?n:n[br]}function $m(t){return(t[oe]&128)===128}function Ik(t){return Dr(t[Lt])}function hs(t,e){return e==null?null:t[e]}function tb(t){t[os]=0}function nb(t){t[oe]&1024||(t[oe]|=1024,$m(t)&&Rd(t))}function Ek(t,e){for(;t>0;)e=e[Is],t--;return e}function Ad(t){return!!(t[oe]&9216||t[un]?.dirty)}function em(t){t[_r].changeDetectionScheduler?.notify(8),t[oe]&64&&(t[oe]|=1024),Ad(t)&&Rd(t)}function Rd(t){t[_r].changeDetectionScheduler?.notify(0);let e=Xi(t);for(;e!==null&&!(e[oe]&8192||(e[oe]|=8192,!$m(e)));)e=Xi(e)}function rb(t,e){if(ws(t))throw new H(911,!1);t[ai]===null&&(t[ai]=[]),t[ai].push(e)}function wk(t,e){if(t[ai]===null)return;let n=t[ai].indexOf(e);n!==-1&&t[ai].splice(n,1)}function Xi(t){let e=t[Lt];return Dr(e)?e[Lt]:e}function ib(t){return t[td]??=[]}function ob(t){return t.cleanup??=[]}var de={lFrame:fb(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var tm=!1;function Ck(){return de.lFrame.elementDepthCount}function bk(){de.lFrame.elementDepthCount++}function Dk(){de.lFrame.elementDepthCount--}function sb(){return de.bindingsEnabled}function Tk(){return de.skipHydrationRootTNode!==null}function Sk(t){return de.skipHydrationRootTNode===t}function Ak(){de.skipHydrationRootTNode=null}function Ce(){return de.lFrame.lView}function It(){return de.lFrame.tView}function Sn(t){return de.lFrame.contextLView=t,t[ot]}function An(t){return de.lFrame.contextLView=null,t}function dn(){let t=ab();for(;t!==null&&t.type===64;)t=t.parent;return t}function ab(){return de.lFrame.currentTNode}function Rk(){let t=de.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function _c(t,e){let n=de.lFrame;n.currentTNode=t,n.isParent=e}function cb(){return de.lFrame.isParent}function Mk(){de.lFrame.isParent=!1}function Nk(){return de.lFrame.contextLView}function ub(){return tm}function W0(t){let e=tm;return tm=t,e}function Hm(){let t=de.lFrame,e=t.bindingRootIndex;return e===-1&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function Pk(){return de.lFrame.bindingIndex}function xk(t){return de.lFrame.bindingIndex=t}function Cs(){return de.lFrame.bindingIndex++}function zm(t){let e=de.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function kk(){return de.lFrame.inI18n}function Ok(t,e){let n=de.lFrame;n.bindingIndex=n.bindingRootIndex=t,nm(e)}function Fk(){return de.lFrame.currentDirectiveIndex}function nm(t){de.lFrame.currentDirectiveIndex=t}function Lk(t){let e=de.lFrame.currentDirectiveIndex;return e===-1?null:t[e]}function lb(t){de.lFrame.currentQueryIndex=t}function Vk(t){let e=t[le];return e.type===2?e.declTNode:e.type===1?t[Tn]:null}function db(t,e,n){if(n&ue.SkipSelf){let i=e,o=t;for(;i=i.parent,i===null&&!(n&ue.Host);)if(i=Vk(o),i===null||(o=o[Is],i.type&10))break;if(i===null)return!1;e=i,t=o}let r=de.lFrame=hb();return r.currentTNode=e,r.lView=t,!0}function qm(t){let e=hb(),n=t[le];de.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function hb(){let t=de.lFrame,e=t===null?null:t.child;return e===null?fb(t):e}function fb(t){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return t!==null&&(t.child=e),e}function pb(){let t=de.lFrame;return de.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var gb=pb;function Wm(){let t=pb();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function jk(t){return(de.lFrame.contextLView=Ek(t,de.lFrame.contextLView))[ot]}function Tr(){return de.lFrame.selectedIndex}function eo(t){de.lFrame.selectedIndex=t}function Md(){let t=de.lFrame;return Bm(t.tView,t.selectedIndex)}function Uk(){return de.lFrame.currentNamespace}var mb=!0;function Gm(){return mb}function Km(t){mb=t}function Bk(t,e,n){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){let s=YC(e);(n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s)}i&&(n.preOrderHooks??=[]).push(0-t,i),o&&((n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o))}function yb(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){let o=t.data[n].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:u,ngAfterViewChecked:l,ngOnDestroy:h}=o;s&&(t.contentHooks??=[]).push(-n,s),a&&((t.contentHooks??=[]).push(n,a),(t.contentCheckHooks??=[]).push(n,a)),u&&(t.viewHooks??=[]).push(-n,u),l&&((t.viewHooks??=[]).push(n,l),(t.viewCheckHooks??=[]).push(n,l)),h!=null&&(t.destroyHooks??=[]).push(n,h)}}function Wl(t,e,n){vb(t,e,3,n)}function Gl(t,e,n,r){(t[oe]&3)===n&&vb(t,e,n,r)}function kg(t,e){let n=t[oe];(n&3)===e&&(n&=16383,n+=1,t[oe]=n)}function vb(t,e,n,r){let i=r!==void 0?t[os]&65535:0,o=r??-1,s=e.length-1,a=0;for(let u=i;u<s;u++)if(typeof e[u+1]=="number"){if(a=e[u],r!=null&&a>=r)break}else e[u]<0&&(t[os]+=65536),(a<o||o==-1)&&($k(t,n,e,u),t[os]=(t[os]&4294901760)+u+2),u++}function G0(t,e){Oe(4,t,e);let n=ae(null);try{e.call(t)}finally{ae(n),Oe(5,t,e)}}function $k(t,e,n,r){let i=n[r]<0,o=n[r+1],s=i?-n[r]:n[r],a=t[s];i?t[oe]>>14<t[os]>>16&&(t[oe]&3)===e&&(t[oe]+=16384,G0(a,o)):G0(a,o)}var as=-1,to=class{factory;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(e,n,r){this.factory=e,this.canSeeViewProviders=n,this.injectImpl=r}};function Hk(t){return(t.flags&8)!==0}function zk(t){return(t.flags&16)!==0}function qk(t,e,n){let r=0;for(;r<n.length;){let i=n[r];if(typeof i=="number"){if(i!==0)break;r++;let o=n[r++],s=n[r++],a=n[r++];t.setAttribute(e,s,a,o)}else{let o=i,s=n[++r];Wk(o)?t.setProperty(e,o,s):t.setAttribute(e,o,s),r++}}return r}function _b(t){return t===3||t===4||t===6}function Wk(t){return t.charCodeAt(0)===64}function hc(t,e){if(!(e===null||e.length===0))if(t===null||t.length===0)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?n=i:n===0||(n===-1||n===2?K0(t,n,i,null,e[++r]):K0(t,n,i,null,null))}}return t}function K0(t,e,n,r,i){let o=0,s=t.length;if(e===-1)s=-1;else for(;o<t.length;){let a=t[o++];if(typeof a=="number"){if(a===e){s=-1;break}else if(a>e){s=o-1;break}}}for(;o<t.length;){let a=t[o];if(typeof a=="number")break;if(a===n){i!==null&&(t[o+1]=i);return}o++,i!==null&&o++}s!==-1&&(t.splice(s,0,e),o=s+1),t.splice(o++,0,n),i!==null&&t.splice(o++,0,i)}function Ib(t){return t!==as}function sd(t){return t&32767}function Gk(t){return t>>16}function ad(t,e){let n=Gk(t),r=e;for(;n>0;)r=r[Is],n--;return r}var rm=!0;function cd(t){let e=rm;return rm=t,e}var Kk=256,Eb=Kk-1,wb=5,Qk=0,Un={};function Yk(t,e,n){let r;typeof n=="string"?r=n.charCodeAt(0)||0:n.hasOwnProperty(ac)&&(r=n[ac]),r==null&&(r=n[ac]=Qk++);let i=r&Eb,o=1<<i;e.data[t+(i>>wb)]|=o}function ud(t,e){let n=Cb(t,e);if(n!==-1)return n;let r=e[le];r.firstCreatePass&&(t.injectorIndex=e.length,Og(r.data,t),Og(e,null),Og(r.blueprint,null));let i=Qm(t,e),o=t.injectorIndex;if(Ib(i)){let s=sd(i),a=ad(i,e),u=a[le].data;for(let l=0;l<8;l++)e[o+l]=a[s+l]|u[s+l]}return e[o+8]=i,o}function Og(t,e){t.push(0,0,0,0,0,0,0,0,e)}function Cb(t,e){return t.injectorIndex===-1||t.parent&&t.parent.injectorIndex===t.injectorIndex||e[t.injectorIndex+8]===null?-1:t.injectorIndex}function Qm(t,e){if(t.parent&&t.parent.injectorIndex!==-1)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;i!==null;){if(r=Ab(i),r===null)return as;if(n++,i=i[Is],r.injectorIndex!==-1)return r.injectorIndex|n<<16}return as}function im(t,e,n){Yk(t,e,n)}function Zk(t,e){if(e==="class")return t.classes;if(e==="style")return t.styles;let n=t.attrs;if(n){let r=n.length,i=0;for(;i<r;){let o=n[i];if(_b(o))break;if(o===0)i=i+2;else if(typeof o=="number")for(i++;i<r&&typeof n[i]=="string";)i++;else{if(o===e)return n[i+1];i=i+2}}}return null}function bb(t,e,n){if(n&ue.Optional||t!==void 0)return t;Fm(e,"NodeInjector")}function Db(t,e,n,r){if(n&ue.Optional&&r===void 0&&(r=null),(n&(ue.Self|ue.Host))===0){let i=t[Zi],o=qt(void 0);try{return i?i.get(e,r,n&ue.Optional):OC(e,r,n&ue.Optional)}finally{qt(o)}}return bb(r,e,n)}function Tb(t,e,n,r=ue.Default,i){if(t!==null){if(e[oe]&2048&&!(r&ue.Self)){let s=n1(t,e,n,r,Un);if(s!==Un)return s}let o=Sb(t,e,n,r,Un);if(o!==Un)return o}return Db(e,n,r,i)}function Sb(t,e,n,r,i){let o=e1(n);if(typeof o=="function"){if(!db(e,t,r))return r&ue.Host?bb(i,n,r):Db(e,n,r,i);try{let s;if(s=o(r),s==null&&!(r&ue.Optional))Fm(n);else return s}finally{gb()}}else if(typeof o=="number"){let s=null,a=Cb(t,e),u=as,l=r&ue.Host?e[bn][Tn]:null;for((a===-1||r&ue.SkipSelf)&&(u=a===-1?Qm(t,e):e[a+8],u===as||!Y0(r,!1)?a=-1:(s=e[le],a=sd(u),e=ad(u,e)));a!==-1;){let h=e[le];if(Q0(o,a,h.data)){let p=Jk(a,e,n,s,r,l);if(p!==Un)return p}u=e[a+8],u!==as&&Y0(r,e[le].data[a+8]===l)&&Q0(o,a,e)?(s=h,a=sd(u),e=ad(u,e)):a=-1}}return i}function Jk(t,e,n,r,i,o){let s=e[le],a=s.data[t+8],u=r==null?Es(a)&&rm:r!=s&&(a.type&3)!==0,l=i&ue.Host&&o===a,h=Xk(a,s,n,u,l);return h!==null?ld(e,s,h,a):Un}function Xk(t,e,n,r,i){let o=t.providerIndexes,s=e.data,a=o&1048575,u=t.directiveStart,l=t.directiveEnd,h=o>>20,p=r?a:a+h,y=i?a+h:l;for(let m=p;m<y;m++){let D=s[m];if(m<u&&n===D||m>=u&&D.type===n)return m}if(i){let m=s[u];if(m&&Bn(m)&&m.type===n)return u}return null}function ld(t,e,n,r){let i=t[n],o=e.data;if(i instanceof to){let s=i;s.resolving&&xC(zx(o[n]));let a=cd(s.canSeeViewProviders);s.resolving=!0;let u,l=s.injectImpl?qt(s.injectImpl):null,h=db(t,r,ue.Default);try{i=t[n]=s.factory(void 0,o,t,r),e.firstCreatePass&&n>=r.directiveStart&&Bk(n,o[n],e)}finally{l!==null&&qt(l),cd(a),s.resolving=!1,gb()}}return i}function e1(t){if(typeof t=="string")return t.charCodeAt(0)||0;let e=t.hasOwnProperty(ac)?t[ac]:void 0;return typeof e=="number"?e>=0?e&Eb:t1:e}function Q0(t,e,n){let r=1<<t;return!!(n[e+(t>>wb)]&r)}function Y0(t,e){return!(t&ue.Self)&&!(t&ue.Host&&e)}var Gi=class{_tNode;_lView;constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return Tb(this._tNode,this._lView,e,bd(r),n)}};function t1(){return new Gi(dn(),Ce())}function Sr(t){return yc(()=>{let e=t.prototype.constructor,n=e[Yl]||om(e),r=Object.prototype,i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){let o=i[Yl]||om(i);if(o&&o!==n)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function om(t){return AC(t)?()=>{let e=om(kt(t));return e&&e()}:Ki(t)}function n1(t,e,n,r,i){let o=t,s=e;for(;o!==null&&s!==null&&s[oe]&2048&&!od(s);){let a=Sb(o,s,n,r|ue.Self,Un);if(a!==Un)return a;let u=o.parent;if(!u){let l=s[WC];if(l){let h=l.get(n,Un,r);if(h!==Un)return h}u=Ab(s),s=s[Is]}o=u}return i}function Ab(t){let e=t[le],n=e.type;return n===2?e.declTNode:n===1?t[Tn]:null}function Ym(t){return Zk(dn(),t)}function Z0(t,e=null,n=null,r){let i=Rb(t,e,n,r);return i.resolveInjectorInitializers(),i}function Rb(t,e=null,n=null,r,i=new Set){let o=[n||Wt,ik(t)];return r=r||(typeof t=="object"?void 0:Gt(t)),new uc(o,e||jm(),r||null,i)}var _t=class t{static THROW_IF_NOT_FOUND=Wi;static NULL=new ed;static create(e,n){if(Array.isArray(e))return Z0({name:""},n,e,"");{let r=e.name??"";return Z0({name:r},e.parent,e.providers,r)}}static \u0275prov=z({token:t,providedIn:"any",factory:()=>ce(LC)});static __NG_ELEMENT_ID__=-1};var r1=new $("");r1.__NG_ELEMENT_ID__=t=>{let e=dn();if(e===null)throw new H(204,!1);if(e.type&2)return e.value;if(t&ue.Optional)return null;throw new H(204,!1)};var Mb=!1,Ic=(()=>{class t{static __NG_ELEMENT_ID__=i1;static __NG_ENV_ID__=n=>n}return t})(),sm=class extends Ic{_lView;constructor(e){super(),this._lView=e}onDestroy(e){let n=this._lView;return ws(n)?(e(),()=>{}):(rb(n,e),()=>wk(n,e))}};function i1(){return new sm(Ce())}var fs=class{},Zm=new $("",{providedIn:"root",factory:()=>!1});var Nb=new $(""),Pb=new $(""),io=(()=>{class t{taskId=0;pendingTasks=new Set;get _hasPendingTasks(){return this.hasPendingTasks.value}hasPendingTasks=new yt(!1);add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let n=this.taskId++;return this.pendingTasks.add(n),n}has(n){return this.pendingTasks.has(n)}remove(n){this.pendingTasks.delete(n),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static \u0275prov=z({token:t,providedIn:"root",factory:()=>new t})}return t})(),Nd=(()=>{class t{internalPendingTasks=P(io);scheduler=P(fs);add(){let n=this.internalPendingTasks.add();return()=>{this.internalPendingTasks.has(n)&&(this.scheduler.notify(11),this.internalPendingTasks.remove(n))}}run(n){return _(this,null,function*(){let r=this.add();try{return yield n()}finally{r()}})}static \u0275prov=z({token:t,providedIn:"root",factory:()=>new t})}return t})(),am=class extends Ye{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(e=!1){super(),this.__isAsync=e,zC()&&(this.destroyRef=P(Ic,{optional:!0})??void 0,this.pendingTasks=P(io,{optional:!0})??void 0)}emit(e){let n=ae(null);try{super.next(e)}finally{ae(n)}}subscribe(e,n,r){let i=e,o=n||(()=>null),s=r;if(e&&typeof e=="object"){let u=e;i=u.next?.bind(u),o=u.error?.bind(u),s=u.complete?.bind(u)}this.__isAsync&&(o=this.wrapInTimeout(o),i&&(i=this.wrapInTimeout(i)),s&&(s=this.wrapInTimeout(s)));let a=super.subscribe({next:i,error:o,complete:s});return e instanceof $e&&e.add(a),a}wrapInTimeout(e){return n=>{let r=this.pendingTasks?.add();setTimeout(()=>{try{e(n)}finally{r!==void 0&&this.pendingTasks?.remove(r)}})}}},Ue=am;function dd(...t){}function xb(t){let e,n;function r(){t=dd;try{n!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(n),e!==void 0&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{t(),r()}),typeof requestAnimationFrame=="function"&&(n=requestAnimationFrame(()=>{t(),r()})),()=>r()}function J0(t){return queueMicrotask(()=>t()),()=>{t=dd}}var Jm="isAngularZone",hd=Jm+"_ID",o1=0,Pe=class t{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new Ue(!1);onMicrotaskEmpty=new Ue(!1);onStable=new Ue(!1);onError=new Ue(!1);constructor(e){let{enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:o=Mb}=e;if(typeof Zone>"u")throw new H(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!i&&r,s.shouldCoalesceRunChangeDetection=i,s.callbackScheduled=!1,s.scheduleInRootZone=o,c1(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(Jm)===!0}static assertInAngularZone(){if(!t.isInAngularZone())throw new H(909,!1)}static assertNotInAngularZone(){if(t.isInAngularZone())throw new H(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,e,s1,dd,dd);try{return o.runTask(s,n,r)}finally{o.cancelTask(s)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}},s1={};function Xm(t){if(t._nesting==0&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function a1(t){if(t.isCheckStableRunning||t.callbackScheduled)return;t.callbackScheduled=!0;function e(){xb(()=>{t.callbackScheduled=!1,cm(t),t.isCheckStableRunning=!0,Xm(t),t.isCheckStableRunning=!1})}t.scheduleInRootZone?Zone.root.run(()=>{e()}):t._outer.run(()=>{e()}),cm(t)}function c1(t){let e=()=>{a1(t)},n=o1++;t._inner=t._inner.fork({name:"angular",properties:{[Jm]:!0,[hd]:n,[hd+n]:!0},onInvokeTask:(r,i,o,s,a,u)=>{if(u1(u))return r.invokeTask(o,s,a,u);try{return X0(t),r.invokeTask(o,s,a,u)}finally{(t.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||t.shouldCoalesceRunChangeDetection)&&e(),eC(t)}},onInvoke:(r,i,o,s,a,u,l)=>{try{return X0(t),r.invoke(o,s,a,u,l)}finally{t.shouldCoalesceRunChangeDetection&&!t.callbackScheduled&&!l1(u)&&e(),eC(t)}},onHasTask:(r,i,o,s)=>{r.hasTask(o,s),i===o&&(s.change=="microTask"?(t._hasPendingMicrotasks=s.microTask,cm(t),Xm(t)):s.change=="macroTask"&&(t.hasPendingMacrotasks=s.macroTask))},onHandleError:(r,i,o,s)=>(r.handleError(o,s),t.runOutsideAngular(()=>t.onError.emit(s)),!1)})}function cm(t){t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&t.callbackScheduled===!0?t.hasPendingMicrotasks=!0:t.hasPendingMicrotasks=!1}function X0(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function eC(t){t._nesting--,Xm(t)}var um=class{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new Ue;onMicrotaskEmpty=new Ue;onStable=new Ue;onError=new Ue;run(e,n,r){return e.apply(n,r)}runGuarded(e,n,r){return e.apply(n,r)}runOutsideAngular(e){return e()}runTask(e,n,r,i){return e.apply(n,r)}};function u1(t){return kb(t,"__ignore_ng_zone__")}function l1(t){return kb(t,"__scheduler_tick__")}function kb(t,e){return!Array.isArray(t)||t.length!==1?!1:t[0]?.data?.[e]===!0}var Ir=class{_console=console;handleError(e){this._console.error("ERROR",e)}},d1=new $("",{providedIn:"root",factory:()=>{let t=P(Pe),e=P(Ir);return n=>t.runOutsideAngular(()=>e.handleError(n))}});function tC(t,e){return SC(t,e)}function h1(t){return SC(TC,t)}var Ob=(tC.required=h1,tC);function f1(){return ey(dn(),Ce())}function ey(t,e){return new Ar(Wn(t,e))}var Ar=(()=>{class t{nativeElement;constructor(n){this.nativeElement=n}static __NG_ELEMENT_ID__=f1}return t})();function p1(t){return typeof t=="function"&&t[sn]!==void 0}function hn(t,e){let n=dg(t,e?.equal),r=n[sn];return n.set=i=>Ja(r,i),n.update=i=>hg(r,i),n.asReadonly=g1.bind(n),n}function g1(){let t=this[sn];if(t.readonlyFn===void 0){let e=()=>this();e[sn]=t,t.readonlyFn=e}return t.readonlyFn}function Fb(t){return p1(t)&&typeof t.set=="function"}function Lb(t){return(t.flags&128)===128}var Vb=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(Vb||{}),jb=new Map,m1=0;function y1(){return m1++}function v1(t){jb.set(t[Sd],t)}function lm(t){jb.delete(t[Sd])}var nC="__ngContext__";function Ec(t,e){ci(e)?(t[nC]=e[Sd],v1(e)):t[nC]=e}function Ub(t){return $b(t[dc])}function Bb(t){return $b(t[Cn])}function $b(t){for(;t!==null&&!Dr(t);)t=t[Cn];return t}var dm;function Hb(t){dm=t}function _1(){if(dm!==void 0)return dm;if(typeof document<"u")return document;throw new H(210,!1)}var Pd=new $("",{providedIn:"root",factory:()=>I1}),I1="ng",ty=new $(""),oo=new $("",{providedIn:"platform",factory:()=>"unknown"});var ny=new $("",{providedIn:"root",factory:()=>_1().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var E1="h",w1="b";var zb=!1,C1=new $("",{providedIn:"root",factory:()=>zb});var qb=function(t){return t[t.CHANGE_DETECTION=0]="CHANGE_DETECTION",t[t.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",t}(qb||{}),xd=new $(""),rC=new Set;function wc(t){rC.has(t)||(rC.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}var b1=(()=>{class t{impl=null;execute(){this.impl?.execute()}static \u0275prov=z({token:t,providedIn:"root",factory:()=>new t})}return t})();var D1=()=>null;function Wb(t,e,n=!1){return D1(t,e,n)}function Gb(t,e){let n=t.contentQueries;if(n!==null){let r=ae(null);try{for(let i=0;i<n.length;i+=2){let o=n[i],s=n[i+1];if(s!==-1){let a=t.data[s];lb(o),a.contentQueries(2,e[s],s)}}}finally{ae(r)}}}function hm(t,e,n){lb(0);let r=ae(null);try{e(t,n)}finally{ae(r)}}function Kb(t,e,n){if(KC(e)){let r=ae(null);try{let i=e.directiveStart,o=e.directiveEnd;for(let s=i;s<o;s++){let a=t.data[s];if(a.contentQueries){let u=n[s];a.contentQueries(1,u,s)}}}finally{ae(r)}}}var zn=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(zn||{});var Hl;function T1(){if(Hl===void 0&&(Hl=null,qi.trustedTypes))try{Hl=qi.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return Hl}function iC(t){return T1()?.createScriptURL(t)||t}var fd=class{changingThisBreaksApplicationSecurity;constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${DC})`}};function Cc(t){return t instanceof fd?t.changingThisBreaksApplicationSecurity:t}function Qb(t,e){let n=S1(t);if(n!=null&&n!==e){if(n==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${n} (see ${DC})`)}return n===e}function S1(t){return t instanceof fd&&t.getTypeName()||null}var A1=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function R1(t){return t=String(t),t.match(A1)?t:"unsafe:"+t}var ry=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(ry||{});function li(t){let e=Zb();return e?e.sanitize(ry.URL,t)||"":Qb(t,"URL")?Cc(t):R1(cs(t))}function M1(t){let e=Zb();if(e)return iC(e.sanitize(ry.RESOURCE_URL,t)||"");if(Qb(t,"ResourceURL"))return iC(Cc(t));throw new H(904,!1)}function N1(t,e){return e==="src"&&(t==="embed"||t==="frame"||t==="iframe"||t==="media"||t==="script")||e==="href"&&(t==="base"||t==="link")?M1:li}function Yb(t,e,n){return N1(e,n)(t)}function Zb(){let t=Ce();return t&&t[_r].sanitizer}function Jb(t){return t instanceof Function?t():t}function P1(t,e,n){let r=t.length;for(;;){let i=t.indexOf(e,n);if(i===-1)return i;if(i===0||t.charCodeAt(i-1)<=32){let o=e.length;if(i+o===r||t.charCodeAt(i+o)<=32)return i}n=i+1}}var Xb="ng-template";function x1(t,e,n,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&P1(e[i+1].toLowerCase(),n,0)!==-1)return!0}else if(iy(t))return!1;if(i=e.indexOf(1,i),i>-1){let o;for(;++i<e.length&&typeof(o=e[i])=="string";)if(o.toLowerCase()===n)return!0}return!1}function iy(t){return t.type===4&&t.value!==Xb}function k1(t,e,n){let r=t.type===4&&!n?Xb:t.value;return e===r}function O1(t,e,n){let r=4,i=t.attrs,o=i!==null?V1(i):0,s=!1;for(let a=0;a<e.length;a++){let u=e[a];if(typeof u=="number"){if(!s&&!wn(r)&&!wn(u))return!1;if(s&&wn(u))continue;s=!1,r=u|r&1;continue}if(!s)if(r&4){if(r=2|r&1,u!==""&&!k1(t,u,n)||u===""&&e.length===1){if(wn(r))return!1;s=!0}}else if(r&8){if(i===null||!x1(t,i,u,n)){if(wn(r))return!1;s=!0}}else{let l=e[++a],h=F1(u,i,iy(t),n);if(h===-1){if(wn(r))return!1;s=!0;continue}if(l!==""){let p;if(h>o?p="":p=i[h+1].toLowerCase(),r&2&&l!==p){if(wn(r))return!1;s=!0}}}}return wn(r)||s}function wn(t){return(t&1)===0}function F1(t,e,n,r){if(e===null)return-1;let i=0;if(r||!n){let o=!1;for(;i<e.length;){let s=e[i];if(s===t)return i;if(s===3||s===6)o=!0;else if(s===1||s===2){let a=e[++i];for(;typeof a=="string";)a=e[++i];continue}else{if(s===4)break;if(s===0){i+=4;continue}}i+=o?1:2}return-1}else return j1(e,t)}function L1(t,e,n=!1){for(let r=0;r<e.length;r++)if(O1(t,e[r],n))return!0;return!1}function V1(t){for(let e=0;e<t.length;e++){let n=t[e];if(_b(n))return e}return t.length}function j1(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){let r=t[n];if(typeof r=="number")return-1;if(r===e)return n;n++}return-1}function oC(t,e){return t?":not("+e.trim()+")":e}function U1(t){let e=t[0],n=1,r=2,i="",o=!1;for(;n<t.length;){let s=t[n];if(typeof s=="string")if(r&2){let a=t[++n];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+s:r&4&&(i+=" "+s);else i!==""&&!wn(s)&&(e+=oC(o,i),i=""),r=s,o=o||!wn(r);n++}return i!==""&&(e+=oC(o,i)),e}function B1(t){return t.map(U1).join(",")}function $1(t){let e=[],n=[],r=1,i=2;for(;r<t.length;){let o=t[r];if(typeof o=="string")i===2?o!==""&&e.push(o,t[++r]):i===8&&n.push(o);else{if(!wn(i))break;i=o}r++}return n.length&&e.push(1,...n),e}var Kt={};function H1(t,e){return t.createText(e)}function z1(t,e,n){t.setValue(e,n)}function eD(t,e,n){return t.createElement(e,n)}function pd(t,e,n,r,i){t.insertBefore(e,n,r,i)}function tD(t,e,n){t.appendChild(e,n)}function sC(t,e,n,r,i){r!==null?pd(t,e,n,r,i):tD(t,e,n)}function q1(t,e,n){t.removeChild(null,e,n)}function W1(t,e,n){t.setAttribute(e,"style",n)}function G1(t,e,n){n===""?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function nD(t,e,n){let{mergedAttrs:r,classes:i,styles:o}=n;r!==null&&qk(t,e,r),i!==null&&G1(t,e,i),o!==null&&W1(t,e,o)}function oy(t,e,n,r,i,o,s,a,u,l,h){let p=Vt+r,y=p+i,m=K1(p,y),D=typeof l=="function"?l():l;return m[le]={type:t,blueprint:m,template:n,queries:null,viewQuery:a,declTNode:e,data:m.slice().fill(null,p),bindingStartIndex:p,expandoStartIndex:y,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:u,consts:D,incompleteFirstPass:!1,ssrId:h}}function K1(t,e){let n=[];for(let r=0;r<e;r++)n.push(r<t?null:Kt);return n}function Q1(t){let e=t.tView;return e===null||e.incompleteFirstPass?t.tView=oy(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function sy(t,e,n,r,i,o,s,a,u,l,h){let p=e.blueprint.slice();return p[br]=i,p[oe]=r|4|128|8|64|1024,(l!==null||t&&t[oe]&2048)&&(p[oe]|=2048),tb(p),p[Lt]=p[Is]=t,p[ot]=n,p[_r]=s||t&&t[_r],p[Ke]=a||t&&t[Ke],p[Zi]=u||t&&t[Zi]||null,p[Tn]=o,p[Sd]=y1(),p[lc]=h,p[WC]=l,p[bn]=e.type==2?t[bn]:p,p}function Y1(t,e,n){let r=Wn(e,t),i=Q1(n),o=t[_r].rendererFactory,s=ay(t,sy(t,i,null,rD(n),r,e,null,o.createRenderer(r,n),null,null,null));return t[e.index]=s}function rD(t){let e=16;return t.signals?e=4096:t.onPush&&(e=64),e}function iD(t,e,n,r){if(n===0)return-1;let i=e.length;for(let o=0;o<n;o++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function ay(t,e){return t[dc]?t[z0][Cn]=e:t[dc]=e,t[z0]=e,e}function O(t=1){oD(It(),Ce(),Tr()+t,!1)}function oD(t,e,n,r){if(!r)if((e[oe]&3)===3){let o=t.preOrderCheckHooks;o!==null&&Wl(e,o,n)}else{let o=t.preOrderHooks;o!==null&&Gl(e,o,0,n)}eo(n)}var kd=function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t}(kd||{});function fm(t,e,n,r){let i=ae(null);try{let[o,s,a]=t.inputs[n],u=null;(s&kd.SignalBased)!==0&&(u=e[o][sn]),u!==null&&u.transformFn!==void 0?r=u.transformFn(r):a!==null&&(r=a.call(e,r)),t.setInput!==null?t.setInput(e,u,r,n,o):QC(e,u,o,r)}finally{ae(i)}}function sD(t,e,n,r,i){let o=Tr(),s=r&2;try{eo(-1),s&&e.length>Vt&&oD(t,e,Vt,!1),Oe(s?2:0,i),n(r,i)}finally{eo(o),Oe(s?3:1,i)}}function cy(t,e,n){nO(t,e,n),(n.flags&64)===64&&rO(t,e,n)}function aD(t,e,n=Wn){let r=e.localNames;if(r!==null){let i=e.index+1;for(let o=0;o<r.length;o+=2){let s=r[o+1],a=s===-1?n(e,t):t[s];t[i++]=a}}}function Z1(t,e,n,r){let o=r.get(C1,zb)||n===zn.ShadowDom,s=t.selectRootElement(e,o);return J1(s),s}function J1(t){X1(t)}var X1=()=>null;function eO(t){return t==="class"?"className":t==="for"?"htmlFor":t==="formaction"?"formAction":t==="innerHtml"?"innerHTML":t==="readonly"?"readOnly":t==="tabindex"?"tabIndex":t}function uy(t,e,n,r,i,o,s,a){if(!a&&ly(e,t,n,r,i)){Es(e)&&tO(n,e.index);return}if(e.type&3){let u=Wn(e,n);r=eO(r),i=s!=null?s(i,e.value||"",r):i,o.setProperty(u,r,i)}else e.type&12}function tO(t,e){let n=Hn(e,t);n[oe]&16||(n[oe]|=64)}function nO(t,e,n){let r=n.directiveStart,i=n.directiveEnd;Es(n)&&Y1(e,n,t.data[r+n.componentOffset]),t.firstCreatePass||ud(n,e);let o=n.initialInputs;for(let s=r;s<i;s++){let a=t.data[s],u=ld(e,t,s,n);if(Ec(u,e),o!==null&&aO(e,s-r,u,a,n,o),Bn(a)){let l=Hn(n.index,e);l[ot]=ld(e,t,s,n)}}}function rO(t,e,n){let r=n.directiveStart,i=n.directiveEnd,o=n.index,s=Fk();try{eo(o);for(let a=r;a<i;a++){let u=t.data[a],l=e[a];nm(a),(u.hostBindings!==null||u.hostVars!==0||u.hostAttrs!==null)&&iO(u,l)}}finally{eo(-1),nm(s)}}function iO(t,e){t.hostBindings!==null&&t.hostBindings(1,e)}function cD(t,e){let n=t.directiveRegistry,r=null;if(n)for(let i=0;i<n.length;i++){let o=n[i];L1(e,o.selectors,!1)&&(r??=[],Bn(o)?r.unshift(o):r.push(o))}return r}function oO(t,e,n,r,i,o){let s=Wn(t,e);sO(e[Ke],s,o,t.value,n,r,i)}function sO(t,e,n,r,i,o,s){if(o==null)t.removeAttribute(e,i,n);else{let a=s==null?cs(o):s(o,r||"",i);t.setAttribute(e,i,a,n)}}function aO(t,e,n,r,i,o){let s=o[e];if(s!==null)for(let a=0;a<s.length;a+=2){let u=s[a],l=s[a+1];fm(r,n,u,l)}}function cO(t,e){let n=t[Zi],r=n?n.get(Ir,null):null;r&&r.handleError(e)}function ly(t,e,n,r,i){let o=t.inputs?.[r],s=t.hostDirectiveInputs?.[r],a=!1;if(s)for(let u=0;u<s.length;u+=2){let l=s[u],h=s[u+1],p=e.data[l];fm(p,n[l],h,i),a=!0}if(o)for(let u of o){let l=n[u],h=e.data[u];fm(h,l,r,i),a=!0}return a}function uO(t,e){let n=Hn(e,t),r=n[le];lO(r,n);let i=n[br];i!==null&&n[lc]===null&&(n[lc]=Wb(i,n[Zi])),Oe(18),dy(r,n,n[ot]),Oe(19,n[ot])}function lO(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}function dy(t,e,n){qm(e);try{let r=t.viewQuery;r!==null&&hm(1,r,n);let i=t.template;i!==null&&sD(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),e[ds]?.finishViewCreation(t),t.staticContentQueries&&Gb(t,e),t.staticViewQueries&&hm(2,t.viewQuery,n);let o=t.components;o!==null&&dO(e,o)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[oe]&=-5,Wm()}}function dO(t,e){for(let n=0;n<e.length;n++)uO(t,e[n])}function hy(t,e,n,r){let i=ae(null);try{let o=e.tView,a=t[oe]&4096?4096:16,u=sy(t,o,n,a,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),l=t[e.index];u[ls]=l;let h=t[ds];return h!==null&&(u[ds]=h.createEmbeddedView(o)),dy(o,u,n),u}finally{ae(i)}}function fc(t,e){return!e||e.firstChild===null||Lb(t)}var hO;function fy(t,e){return hO(t,e)}var Er=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(Er||{});function uD(t){return(t.flags&32)===32}function ss(t,e,n,r,i){if(r!=null){let o,s=!1;Dr(r)?o=r:ci(r)&&(s=!0,r=r[br]);let a=$n(r);t===0&&n!==null?i==null?tD(e,n,a):pd(e,n,a,i||null,!0):t===1&&n!==null?pd(e,n,a,i||null,!0):t===2?q1(e,a,s):t===3&&e.destroyNode(a),o!=null&&bO(e,t,o,n,i)}}function fO(t,e){lD(t,e),e[br]=null,e[Tn]=null}function pO(t,e,n,r,i,o){r[br]=i,r[Tn]=e,Fd(t,r,n,1,i,o)}function lD(t,e){e[_r].changeDetectionScheduler?.notify(9),Fd(t,e,e[Ke],2,null,null)}function gO(t){let e=t[dc];if(!e)return Fg(t[le],t);for(;e;){let n=null;if(ci(e))n=e[dc];else{let r=e[Ot];r&&(n=r)}if(!n){for(;e&&!e[Cn]&&e!==t;)ci(e)&&Fg(e[le],e),e=e[Lt];e===null&&(e=t),ci(e)&&Fg(e[le],e),n=e&&e[Cn]}e=n}}function py(t,e){let n=t[id],r=n.indexOf(e);n.splice(r,1)}function Od(t,e){if(ws(e))return;let n=e[Ke];n.destroyNode&&Fd(t,e,n,3,null,null),gO(e)}function Fg(t,e){if(ws(e))return;let n=ae(null);try{e[oe]&=-129,e[oe]|=256,e[un]&&cg(e[un]),yO(t,e),mO(t,e),e[le].type===1&&e[Ke].destroy();let r=e[ls];if(r!==null&&Dr(e[Lt])){r!==e[Lt]&&py(r,e);let i=e[ds];i!==null&&i.detachView(t)}lm(e)}finally{ae(n)}}function mO(t,e){let n=t.cleanup,r=e[td];if(n!==null)for(let s=0;s<n.length-1;s+=2)if(typeof n[s]=="string"){let a=n[s+3];a>=0?r[a]():r[-a].unsubscribe(),s+=2}else{let a=r[n[s+1]];n[s].call(a)}r!==null&&(e[td]=null);let i=e[ai];if(i!==null){e[ai]=null;for(let s=0;s<i.length;s++){let a=i[s];a()}}let o=e[nd];if(o!==null){e[nd]=null;for(let s of o)s.destroy()}}function yO(t,e){let n;if(t!=null&&(n=t.destroyHooks)!=null)for(let r=0;r<n.length;r+=2){let i=e[n[r]];if(!(i instanceof to)){let o=n[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let a=i[o[s]],u=o[s+1];Oe(4,a,u);try{u.call(a)}finally{Oe(5,a,u)}}else{Oe(4,i,o);try{o.call(i)}finally{Oe(5,i,o)}}}}}function vO(t,e,n){return _O(t,e.parent,n)}function _O(t,e,n){let r=e;for(;r!==null&&r.type&168;)e=r,r=e.parent;if(r===null)return n[br];if(Es(r)){let{encapsulation:i}=t.data[r.directiveStart+r.componentOffset];if(i===zn.None||i===zn.Emulated)return null}return Wn(r,n)}function IO(t,e,n){return wO(t,e,n)}function EO(t,e,n){return t.type&40?Wn(t,n):null}var wO=EO,aC;function gy(t,e,n,r){let i=vO(t,r,e),o=e[Ke],s=r.parent||e[Tn],a=IO(s,r,e);if(i!=null)if(Array.isArray(n))for(let u=0;u<n.length;u++)sC(o,i,n[u],a,!1);else sC(o,i,n,a,!1);aC!==void 0&&aC(o,r,e,n,i)}function sc(t,e){if(e!==null){let n=e.type;if(n&3)return Wn(e,t);if(n&4)return pm(-1,t[e.index]);if(n&8){let r=e.child;if(r!==null)return sc(t,r);{let i=t[e.index];return Dr(i)?pm(-1,i):$n(i)}}else{if(n&128)return sc(t,e.next);if(n&32)return fy(e,t)()||$n(t[e.index]);{let r=dD(t,e);if(r!==null){if(Array.isArray(r))return r[0];let i=Xi(t[bn]);return sc(i,r)}else return sc(t,e.next)}}}return null}function dD(t,e){if(e!==null){let r=t[bn][Tn],i=e.projection;return r.projection[i]}return null}function pm(t,e){let n=Ot+t+1;if(n<e.length){let r=e[n],i=r[le].firstChild;if(i!==null)return sc(r,i)}return e[Ji]}function my(t,e,n,r,i,o,s){for(;n!=null;){if(n.type===128){n=n.next;continue}let a=r[n.index],u=n.type;if(s&&e===0&&(a&&Ec($n(a),r),n.flags|=2),!uD(n))if(u&8)my(t,e,n.child,r,i,o,!1),ss(e,t,i,a,o);else if(u&32){let l=fy(n,r),h;for(;h=l();)ss(e,t,i,h,o);ss(e,t,i,a,o)}else u&16?CO(t,e,r,n,i,o):ss(e,t,i,a,o);n=s?n.projectionNext:n.next}}function Fd(t,e,n,r,i,o){my(n,r,t.firstChild,e,i,o,!1)}function CO(t,e,n,r,i,o){let s=n[bn],u=s[Tn].projection[r.projection];if(Array.isArray(u))for(let l=0;l<u.length;l++){let h=u[l];ss(e,t,i,h,o)}else{let l=u,h=s[Lt];Lb(r)&&(l.flags|=128),my(t,e,l,h,i,o,!0)}}function bO(t,e,n,r,i){let o=n[Ji],s=$n(n);o!==s&&ss(e,t,r,o,i);for(let a=Ot;a<n.length;a++){let u=n[a];Fd(u[le],u,t,e,r,o)}}function DO(t,e,n,r,i){if(e)i?t.addClass(n,r):t.removeClass(n,r);else{let o=r.indexOf("-")===-1?void 0:Er.DashCase;i==null?t.removeStyle(n,r,o):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=Er.Important),t.setStyle(n,r,i,o))}}function gd(t,e,n,r,i=!1){for(;n!==null;){if(n.type===128){n=i?n.projectionNext:n.next;continue}let o=e[n.index];o!==null&&r.push($n(o)),Dr(o)&&TO(o,r);let s=n.type;if(s&8)gd(t,e,n.child,r);else if(s&32){let a=fy(n,e),u;for(;u=a();)r.push(u)}else if(s&16){let a=dD(e,n);if(Array.isArray(a))r.push(...a);else{let u=Xi(e[bn]);gd(u[le],u,a,r,!0)}}n=i?n.projectionNext:n.next}return r}function TO(t,e){for(let n=Ot;n<t.length;n++){let r=t[n],i=r[le].firstChild;i!==null&&gd(r[le],r,i,e)}t[Ji]!==t[br]&&e.push(t[Ji])}function hD(t){if(t[xg]!==null){for(let e of t[xg])e.impl.addSequence(e);t[xg].length=0}}var fD=[];function SO(t){return t[un]??AO(t)}function AO(t){let e=fD.pop()??Object.create(MO);return e.lView=t,e}function RO(t){t.lView[un]!==t&&(t.lView=null,fD.push(t))}var MO=fe(j({},Ya),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:t=>{Rd(t.lView)},consumerOnSignalRead(){this.lView[un]=this}});function NO(t){let e=t[un]??Object.create(PO);return e.lView=t,e}var PO=fe(j({},Ya),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:t=>{let e=Xi(t.lView);for(;e&&!pD(e[le]);)e=Xi(e);e&&nb(e)},consumerOnSignalRead(){this.lView[un]=this}});function pD(t){return t.type!==2}function gD(t){if(t[nd]===null)return;let e=!0;for(;e;){let n=!1;for(let r of t[nd])r.dirty&&(n=!0,r.zone===null||Zone.current===r.zone?r.run():r.zone.run(()=>r.run()));e=n&&!!(t[oe]&8192)}}var xO=100;function mD(t,e=!0,n=0){let i=t[_r].rendererFactory,o=!1;o||i.begin?.();try{kO(t,n)}catch(s){throw e&&cO(t,s),s}finally{o||i.end?.()}}function kO(t,e){let n=ub();try{W0(!0),gm(t,e);let r=0;for(;Ad(t);){if(r===xO)throw new H(103,!1);r++,gm(t,1)}}finally{W0(n)}}function OO(t,e,n,r){if(ws(e))return;let i=e[oe],o=!1,s=!1;qm(e);let a=!0,u=null,l=null;o||(pD(t)?(l=SO(e),u=ul(l)):ng()===null?(a=!1,l=NO(e),u=ul(l)):e[un]&&(cg(e[un]),e[un]=null));try{tb(e),xk(t.bindingStartIndex),n!==null&&sD(t,e,n,2,r);let h=(i&3)===3;if(!o)if(h){let m=t.preOrderCheckHooks;m!==null&&Wl(e,m,null)}else{let m=t.preOrderHooks;m!==null&&Gl(e,m,0,null),kg(e,0)}if(s||FO(e),gD(e),yD(e,0),t.contentQueries!==null&&Gb(t,e),!o)if(h){let m=t.contentCheckHooks;m!==null&&Wl(e,m)}else{let m=t.contentHooks;m!==null&&Gl(e,m,1),kg(e,1)}VO(t,e);let p=t.components;p!==null&&_D(e,p,0);let y=t.viewQuery;if(y!==null&&hm(2,y,r),!o)if(h){let m=t.viewCheckHooks;m!==null&&Wl(e,m)}else{let m=t.viewHooks;m!==null&&Gl(e,m,2),kg(e,2)}if(t.firstUpdatePass===!0&&(t.firstUpdatePass=!1),e[Pg]){for(let m of e[Pg])m();e[Pg]=null}o||(hD(e),e[oe]&=-73)}catch(h){throw o||Rd(e),h}finally{l!==null&&(sg(l,u),a&&RO(l)),Wm()}}function yD(t,e){for(let n=Ub(t);n!==null;n=Bb(n))for(let r=Ot;r<n.length;r++){let i=n[r];vD(i,e)}}function FO(t){for(let e=Ub(t);e!==null;e=Bb(e)){if(!(e[oe]&2))continue;let n=e[id];for(let r=0;r<n.length;r++){let i=n[r];nb(i)}}}function LO(t,e,n){Oe(18);let r=Hn(e,t);vD(r,n),Oe(19,r[ot])}function vD(t,e){$m(t)&&gm(t,e)}function gm(t,e){let r=t[le],i=t[oe],o=t[un],s=!!(e===0&&i&16);if(s||=!!(i&64&&e===0),s||=!!(i&1024),s||=!!(o?.dirty&&ag(o)),s||=!1,o&&(o.dirty=!1),t[oe]&=-9217,s)OO(r,t,r.template,t[ot]);else if(i&8192){gD(t),yD(t,1);let a=r.components;a!==null&&_D(t,a,1),hD(t)}}function _D(t,e,n){for(let r=0;r<e.length;r++)LO(t,e[r],n)}function VO(t,e){let n=t.hostBindingOpCodes;if(n!==null)try{for(let r=0;r<n.length;r++){let i=n[r];if(i<0)eo(~i);else{let o=i,s=n[++r],a=n[++r];Ok(s,o);let u=e[o];Oe(24,u),a(2,u),Oe(25,u)}}}finally{eo(-1)}}function yy(t,e){let n=ub()?64:1088;for(t[_r].changeDetectionScheduler?.notify(e);t;){t[oe]|=n;let r=Xi(t);if(od(t)&&!r)return t;t=r}return null}function ID(t,e,n,r){return[t,!0,0,e,null,r,null,n,null,null]}function ED(t,e){let n=Ot+e;if(n<t.length)return t[n]}function Ld(t,e,n,r=!0){let i=e[le];if(jO(i,e,t,n),r){let s=pm(n,t),a=e[Ke],u=a.parentNode(t[Ji]);u!==null&&pO(i,t[Tn],a,e,u,s)}let o=e[lc];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function wD(t,e){let n=pc(t,e);return n!==void 0&&Od(n[le],n),n}function pc(t,e){if(t.length<=Ot)return;let n=Ot+e,r=t[n];if(r){let i=r[ls];i!==null&&i!==t&&py(i,r),e>0&&(t[n-1][Cn]=r[Cn]);let o=Xl(t,Ot+e);fO(r[le],r);let s=o[ds];s!==null&&s.detachView(o[le]),r[Lt]=null,r[Cn]=null,r[oe]&=-129}return r}function jO(t,e,n,r){let i=Ot+r,o=n.length;r>0&&(n[i-1][Cn]=e),r<o-Ot?(e[Cn]=n[i],FC(n,Ot+r,e)):(n.push(e),e[Cn]=null),e[Lt]=n;let s=e[ls];s!==null&&n!==s&&CD(s,e);let a=e[ds];a!==null&&a.insertView(t),em(e),e[oe]|=128}function CD(t,e){let n=t[id],r=e[Lt];if(ci(r))t[oe]|=2;else{let i=r[Lt][bn];e[bn]!==i&&(t[oe]|=2)}n===null?t[id]=[e]:n.push(e)}var md=class{_lView;_cdRefInjectingView;notifyErrorHandler;_appRef=null;_attachedToViewContainer=!1;get rootNodes(){let e=this._lView,n=e[le];return gd(n,e,n.firstChild,[])}constructor(e,n,r=!0){this._lView=e,this._cdRefInjectingView=n,this.notifyErrorHandler=r}get context(){return this._lView[ot]}set context(e){this._lView[ot]=e}get destroyed(){return ws(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[Lt];if(Dr(e)){let n=e[rd],r=n?n.indexOf(this):-1;r>-1&&(pc(e,r),Xl(n,r))}this._attachedToViewContainer=!1}Od(this._lView[le],this._lView)}onDestroy(e){rb(this._lView,e)}markForCheck(){yy(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[oe]&=-129}reattach(){em(this._lView),this._lView[oe]|=128}detectChanges(){this._lView[oe]|=1024,mD(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new H(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=od(this._lView),n=this._lView[ls];n!==null&&!e&&py(n,this._lView),lD(this._lView[le],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new H(902,!1);this._appRef=e;let n=od(this._lView),r=this._lView[ls];r!==null&&!n&&CD(r,this._lView),em(this._lView)}};function vy(t,e,n,r,i){let o=t.data[e];if(o===null)o=UO(t,e,n,r,i),kk()&&(o.flags|=32);else if(o.type&64){o.type=n,o.value=r,o.attrs=i;let s=Rk();o.injectorIndex=s===null?-1:s.injectorIndex}return _c(o,!0),o}function UO(t,e,n,r,i){let o=ab(),s=cb(),a=s?o:o&&o.parent,u=t.data[e]=$O(t,a,n,e,r,i);return BO(t,u,o,s),u}function BO(t,e,n,r){t.firstChild===null&&(t.firstChild=e),n!==null&&(r?n.child==null&&e.parent!==null&&(n.child=e):n.next===null&&(n.next=e,e.prev=n))}function $O(t,e,n,r,i,o){let s=e?e.injectorIndex:-1,a=0;return Tk()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:null,inputs:null,hostDirectiveInputs:null,outputs:null,hostDirectiveOutputs:null,directiveToIndex:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}var j8=new RegExp(`^(\\d+)*(${w1}|${E1})*(.*)`);var HO=()=>null;function gc(t,e){return HO(t,e)}var zO=class{},bD=class{},mm=class{resolveComponentFactory(e){throw Error(`No component factory found for ${Gt(e)}.`)}},Vd=class{static NULL=new mm},ps=class{},di=(()=>{class t{destroyNode=null;static __NG_ELEMENT_ID__=()=>qO()}return t})();function qO(){let t=Ce(),e=dn(),n=Hn(e.index,t);return(ci(n)?n:t)[Ke]}var WO=(()=>{class t{static \u0275prov=z({token:t,providedIn:"root",factory:()=>null})}return t})();var Lg={},ym=class{injector;parentInjector;constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){r=bd(r);let i=this.injector.get(e,Lg,r);return i!==Lg||n===Lg?i:this.parentInjector.get(e,n,r)}};function cC(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,o=0;if(e!==null)for(let s=0;s<e.length;s++){let a=e[s];if(typeof a=="number")o=a;else if(o==1)i=Wg(i,a);else if(o==2){let u=a,l=e[++s];r=Wg(r,u+": "+l+";")}}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}function ve(t,e=ue.Default){let n=Ce();if(n===null)return ce(t,e);let r=dn();return Tb(r,n,kt(t),e)}function DD(t,e,n,r,i){let o=r===null?null:{"":-1},s=i(t,n);if(s!==null){let a,u=null,l=null,h=KO(s);h===null?a=s:[a,u,l]=h,ZO(t,e,n,a,o,u,l)}o!==null&&r!==null&&GO(n,r,o)}function GO(t,e,n){let r=t.localNames=[];for(let i=0;i<e.length;i+=2){let o=n[e[i+1]];if(o==null)throw new H(-301,!1);r.push(e[i],o)}}function KO(t){let e=null,n=!1;for(let s=0;s<t.length;s++){let a=t[s];if(s===0&&Bn(a)&&(e=a),a.findHostDirectiveDefs!==null){n=!0;break}}if(!n)return null;let r=null,i=null,o=null;for(let s of t)s.findHostDirectiveDefs!==null&&(r??=[],i??=new Map,o??=new Map,QO(s,r,o,i)),s===e&&(r??=[],r.push(s));return r!==null?(r.push(...e===null?t:t.slice(1)),[r,i,o]):null}function QO(t,e,n,r){let i=e.length;t.findHostDirectiveDefs(t,e,r),n.set(t,[i,e.length-1])}function YO(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function ZO(t,e,n,r,i,o,s){let a=r.length,u=!1;for(let y=0;y<a;y++){let m=r[y];!u&&Bn(m)&&(u=!0,YO(t,n,y)),im(ud(n,e),t,m.type)}rF(n,t.data.length,a);for(let y=0;y<a;y++){let m=r[y];m.providersResolver&&m.providersResolver(m)}let l=!1,h=!1,p=iD(t,e,a,null);a>0&&(n.directiveToIndex=new Map);for(let y=0;y<a;y++){let m=r[y];if(n.mergedAttrs=hc(n.mergedAttrs,m.hostAttrs),XO(t,n,e,p,m),nF(p,m,i),s!==null&&s.has(m)){let[k,x]=s.get(m);n.directiveToIndex.set(m.type,[p,k+n.directiveStart,x+n.directiveStart])}else(o===null||!o.has(m))&&n.directiveToIndex.set(m.type,p);m.contentQueries!==null&&(n.flags|=4),(m.hostBindings!==null||m.hostAttrs!==null||m.hostVars!==0)&&(n.flags|=64);let D=m.type.prototype;!l&&(D.ngOnChanges||D.ngOnInit||D.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),l=!0),!h&&(D.ngOnChanges||D.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),h=!0),p++}JO(t,n,o)}function JO(t,e,n){for(let r=e.directiveStart;r<e.directiveEnd;r++){let i=t.data[r];if(n===null||!n.has(i))uC(0,e,i,r),uC(1,e,i,r),dC(e,r,!1);else{let o=n.get(i);lC(0,e,o,r),lC(1,e,o,r),dC(e,r,!0)}}}function uC(t,e,n,r){let i=t===0?n.inputs:n.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s;t===0?s=e.inputs??={}:s=e.outputs??={},s[o]??=[],s[o].push(r),TD(e,o)}}function lC(t,e,n,r){let i=t===0?n.inputs:n.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s=i[o],a;t===0?a=e.hostDirectiveInputs??={}:a=e.hostDirectiveOutputs??={},a[s]??=[],a[s].push(r,o),TD(e,s)}}function TD(t,e){e==="class"?t.flags|=8:e==="style"&&(t.flags|=16)}function dC(t,e,n){let{attrs:r,inputs:i,hostDirectiveInputs:o}=t;if(r===null||!n&&i===null||n&&o===null||iy(t)){t.initialInputs??=[],t.initialInputs.push(null);return}let s=null,a=0;for(;a<r.length;){let u=r[a];if(u===0){a+=4;continue}else if(u===5){a+=2;continue}else if(typeof u=="number")break;if(!n&&i.hasOwnProperty(u)){let l=i[u];for(let h of l)if(h===e){s??=[],s.push(u,r[a+1]);break}}else if(n&&o.hasOwnProperty(u)){let l=o[u];for(let h=0;h<l.length;h+=2)if(l[h]===e){s??=[],s.push(l[h+1],r[a+1]);break}}a+=2}t.initialInputs??=[],t.initialInputs.push(s)}function XO(t,e,n,r,i){t.data[r]=i;let o=i.factory||(i.factory=Ki(i.type,!0)),s=new to(o,Bn(i),ve);t.blueprint[r]=s,n[r]=s,eF(t,e,r,iD(t,n,i.hostVars,Kt),i)}function eF(t,e,n,r,i){let o=i.hostBindings;if(o){let s=t.hostBindingOpCodes;s===null&&(s=t.hostBindingOpCodes=[]);let a=~e.index;tF(s)!=a&&s.push(a),s.push(n,r,o)}}function tF(t){let e=t.length;for(;e>0;){let n=t[--e];if(typeof n=="number"&&n<0)return n}return 0}function nF(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;Bn(e)&&(n[""]=t)}}function rF(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function SD(t,e,n,r,i,o,s,a){let u=e.consts,l=hs(u,s),h=vy(e,t,2,r,l);return o&&DD(e,n,h,hs(u,a),i),h.mergedAttrs=hc(h.mergedAttrs,h.attrs),h.attrs!==null&&cC(h,h.attrs,!1),h.mergedAttrs!==null&&cC(h,h.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,h),h}function AD(t,e){yb(t,e),KC(e)&&t.queries.elementEnd(e)}var yd=class extends Vd{ngModule;constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let n=Yi(e);return new gs(n,this.ngModule)}};function iF(t){return Object.keys(t).map(e=>{let[n,r,i]=t[e],o={propName:n,templateName:e,isSignal:(r&kd.SignalBased)!==0};return i&&(o.transform=i),o})}function oF(t){return Object.keys(t).map(e=>({propName:t[e],templateName:e}))}function sF(t,e,n){let r=e instanceof Ft?e:e?.injector;return r&&t.getStandaloneInjector!==null&&(r=t.getStandaloneInjector(r)||r),r?new ym(n,r):n}function aF(t){let e=t.get(ps,null);if(e===null)throw new H(407,!1);let n=t.get(WO,null),r=t.get(fs,null);return{rendererFactory:e,sanitizer:n,changeDetectionScheduler:r}}function cF(t,e){let n=(t.selectors[0][0]||"div").toLowerCase();return eD(e,n,n==="svg"?vk:n==="math"?_k:null)}var gs=class extends bD{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;cachedInputs=null;cachedOutputs=null;get inputs(){return this.cachedInputs??=iF(this.componentDef.inputs),this.cachedInputs}get outputs(){return this.cachedOutputs??=oF(this.componentDef.outputs),this.cachedOutputs}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=B1(e.selectors),this.ngContentSelectors=e.ngContentSelectors??[],this.isBoundToModule=!!n}create(e,n,r,i){Oe(22);let o=ae(null);try{let s=this.componentDef,a=r?["ng-version","19.2.9"]:$1(this.componentDef.selectors[0]),u=oy(0,null,null,1,0,null,null,null,null,[a],null),l=sF(s,i||this.ngModule,e),h=aF(l),p=h.rendererFactory.createRenderer(null,s),y=r?Z1(p,r,s.encapsulation,l):cF(s,p),m=sy(null,u,null,512|rD(s),null,null,h,p,l,null,Wb(y,l,!0));m[Vt]=y,qm(m);let D=null;try{let k=SD(Vt,u,m,"#host",()=>[this.componentDef],!0,0);y&&(nD(p,y,k),Ec(y,m)),cy(u,m,k),Kb(u,k,m),AD(u,k),n!==void 0&&uF(k,this.ngContentSelectors,n),D=Hn(k.index,m),m[ot]=D[ot],dy(u,m,null)}catch(k){throw D!==null&&lm(D),lm(m),k}finally{Oe(23),Wm()}return new vm(this.componentType,m)}finally{ae(o)}}},vm=class extends zO{_rootLView;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(e,n){super(),this._rootLView=n,this._tNode=Bm(n[le],Vt),this.location=ey(this._tNode,n),this.instance=Hn(this._tNode.index,n)[ot],this.hostView=this.changeDetectorRef=new md(n,void 0,!1),this.componentType=e}setInput(e,n){let r=this._tNode;if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;let i=this._rootLView,o=ly(r,i[le],i,e,n);this.previousInputValues.set(e,n);let s=Hn(r.index,i);yy(s,1)}get injector(){return new Gi(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function uF(t,e,n){let r=t.projection=[];for(let i=0;i<e.length;i++){let o=n[i];r.push(o!=null&&o.length?Array.from(o):null)}}var jd=(()=>{class t{static __NG_ELEMENT_ID__=lF}return t})();function lF(){let t=dn();return hF(t,Ce())}var dF=jd,RD=class extends dF{_lContainer;_hostTNode;_hostLView;constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return ey(this._hostTNode,this._hostLView)}get injector(){return new Gi(this._hostTNode,this._hostLView)}get parentInjector(){let e=Qm(this._hostTNode,this._hostLView);if(Ib(e)){let n=ad(e,this._hostLView),r=sd(e),i=n[le].data[r+8];return new Gi(i,n)}else return new Gi(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let n=hC(this._lContainer);return n!==null&&n[e]||null}get length(){return this._lContainer.length-Ot}createEmbeddedView(e,n,r){let i,o;typeof r=="number"?i=r:r!=null&&(i=r.index,o=r.injector);let s=gc(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(n||{},o,s);return this.insertImpl(a,i,fc(this._hostTNode,s)),a}createComponent(e,n,r,i,o){let s=e&&!pk(e),a;if(s)a=n;else{let D=n||{};a=D.index,r=D.injector,i=D.projectableNodes,o=D.environmentInjector||D.ngModuleRef}let u=s?e:new gs(Yi(e)),l=r||this.parentInjector;if(!o&&u.ngModule==null){let k=(s?l:this.parentInjector).get(Ft,null);k&&(o=k)}let h=Yi(u.componentType??{}),p=gc(this._lContainer,h?.id??null),y=p?.firstChild??null,m=u.create(l,i,y,o);return this.insertImpl(m.hostView,a,fc(this._hostTNode,p)),m}insert(e,n){return this.insertImpl(e,n,!0)}insertImpl(e,n,r){let i=e._lView;if(Ik(i)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let u=i[Lt],l=new RD(u,u[Tn],u[Lt]);l.detach(l.indexOf(e))}}let o=this._adjustIndex(n),s=this._lContainer;return Ld(s,i,o,r),e.attachToViewContainerRef(),FC(Vg(s),o,e),e}move(e,n){return this.insert(e,n)}indexOf(e){let n=hC(this._lContainer);return n!==null?n.indexOf(e):-1}remove(e){let n=this._adjustIndex(e,-1),r=pc(this._lContainer,n);r&&(Xl(Vg(this._lContainer),n),Od(r[le],r))}detach(e){let n=this._adjustIndex(e,-1),r=pc(this._lContainer,n);return r&&Xl(Vg(this._lContainer),n)!=null?new md(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function hC(t){return t[rd]}function Vg(t){return t[rd]||(t[rd]=[])}function hF(t,e){let n,r=e[t.index];return Dr(r)?n=r:(n=ID(r,e,null,t),e[t.index]=n,ay(e,n)),pF(n,e,t,r),new RD(n,t,e)}function fF(t,e){let n=t[Ke],r=n.createComment(""),i=Wn(e,t),o=n.parentNode(i);return pd(n,o,r,n.nextSibling(i),!1),r}var pF=yF,gF=()=>!1;function mF(t,e,n){return gF(t,e,n)}function yF(t,e,n,r){if(t[Ji])return;let i;n.type&8?i=$n(r):i=fF(e,n),t[Ji]=i}var ms=class{},_y=class{};var _m=class extends ms{ngModuleType;_parent;_bootstrapComponents=[];_r3Injector;instance;destroyCbs=[];componentFactoryResolver=new yd(this);constructor(e,n,r,i=!0){super(),this.ngModuleType=e,this._parent=n;let o=jC(e);this._bootstrapComponents=Jb(o.bootstrap),this._r3Injector=Rb(e,n,[{provide:ms,useValue:this},{provide:Vd,useValue:this.componentFactoryResolver},...r],Gt(e),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},Im=class extends _y{moduleType;constructor(e){super(),this.moduleType=e}create(e){return new _m(this.moduleType,e,[])}};var vd=class extends ms{injector;componentFactoryResolver=new yd(this);instance=null;constructor(e){super();let n=new uc([...e.providers,{provide:ms,useValue:this},{provide:Vd,useValue:this.componentFactoryResolver}],e.parent||jm(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function Ud(t,e,n=null){return new vd({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}var vF=(()=>{class t{_injector;cachedInjectors=new Map;constructor(n){this._injector=n}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){let r=UC(!1,n.type),i=r.length>0?Ud([r],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n,i)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(let n of this.cachedInjectors.values())n!==null&&n.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=z({token:t,providedIn:"environment",factory:()=>new t(ce(Ft))})}return t})();function ee(t){return yc(()=>{let e=MD(t),n=fe(j({},e),{decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===Vb.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:e.standalone?i=>i.get(vF).getOrCreateStandaloneInjector(n):null,getExternalStyles:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||zn.Emulated,styles:t.styles||Wt,_:null,schemas:t.schemas||null,tView:null,id:""});e.standalone&&wc("NgStandalone"),ND(n);let r=t.dependencies;return n.directiveDefs=fC(r,!1),n.pipeDefs=fC(r,!0),n.id=CF(n),n})}function _F(t){return Yi(t)||nk(t)}function IF(t){return t!==null}function Rr(t){return yc(()=>({type:t.type,bootstrap:t.bootstrap||Wt,declarations:t.declarations||Wt,imports:t.imports||Wt,exports:t.exports||Wt,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function EF(t,e){if(t==null)return Qi;let n={};for(let r in t)if(t.hasOwnProperty(r)){let i=t[r],o,s,a,u;Array.isArray(i)?(a=i[0],o=i[1],s=i[2]??o,u=i[3]||null):(o=i,s=i,a=kd.None,u=null),n[o]=[r,a,u],e[o]=s}return n}function wF(t){if(t==null)return Qi;let e={};for(let n in t)t.hasOwnProperty(n)&&(e[t[n]]=n);return e}function Qe(t){return yc(()=>{let e=MD(t);return ND(e),e})}function Iy(t){return{type:t.type,name:t.name,factory:null,pure:t.pure!==!1,standalone:t.standalone??!0,onDestroy:t.type.prototype.ngOnDestroy||null}}function MD(t){let e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputConfig:t.inputs||Qi,exportAs:t.exportAs||null,standalone:t.standalone??!0,signals:t.signals===!0,selectors:t.selectors||Wt,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:EF(t.inputs,e),outputs:wF(t.outputs),debugInfo:null}}function ND(t){t.features?.forEach(e=>e(t))}function fC(t,e){if(!t)return null;let n=e?rk:_F;return()=>(typeof t=="function"?t():t).map(r=>n(r)).filter(IF)}function CF(t){let e=0,n=typeof t.consts=="function"?"":t.consts,r=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,n,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery];for(let o of r.join("|"))e=Math.imul(31,e)+o.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function bF(t){return Object.getPrototypeOf(t.prototype).constructor}function fn(t){let e=bF(t.type),n=!0,r=[t];for(;e;){let i;if(Bn(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new H(903,!1);i=e.\u0275dir}if(i){if(n){r.push(i);let s=t;s.inputs=jg(t.inputs),s.declaredInputs=jg(t.declaredInputs),s.outputs=jg(t.outputs);let a=i.hostBindings;a&&RF(t,a);let u=i.viewQuery,l=i.contentQueries;if(u&&SF(t,u),l&&AF(t,l),DF(t,i),Fx(t.outputs,i.outputs),Bn(i)&&i.data.animation){let h=t.data;h.animation=(h.animation||[]).concat(i.data.animation)}}let o=i.features;if(o)for(let s=0;s<o.length;s++){let a=o[s];a&&a.ngInherit&&a(t),a===fn&&(n=!1)}}e=Object.getPrototypeOf(e)}TF(r)}function DF(t,e){for(let n in e.inputs){if(!e.inputs.hasOwnProperty(n)||t.inputs.hasOwnProperty(n))continue;let r=e.inputs[n];r!==void 0&&(t.inputs[n]=r,t.declaredInputs[n]=e.declaredInputs[n])}}function TF(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){let i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=hc(i.hostAttrs,n=hc(n,i.hostAttrs))}}function jg(t){return t===Qi?{}:t===Wt?[]:t}function SF(t,e){let n=t.viewQuery;n?t.viewQuery=(r,i)=>{e(r,i),n(r,i)}:t.viewQuery=e}function AF(t,e){let n=t.contentQueries;n?t.contentQueries=(r,i,o)=>{e(r,i,o),n(r,i,o)}:t.contentQueries=e}function RF(t,e){let n=t.hostBindings;n?t.hostBindings=(r,i)=>{e(r,i),n(r,i)}:t.hostBindings=e}function PD(t,e,n){return t[e]=n}function MF(t,e){return t[e]}function Dn(t,e,n){let r=t[e];return Object.is(r,n)?!1:(t[e]=n,!0)}function NF(t,e,n,r){let i=Dn(t,e,n);return Dn(t,e+1,r)||i}function PF(t,e,n,r,i,o,s,a,u){let l=e.consts,h=vy(e,t,4,s||null,a||null);sb()&&DD(e,n,h,hs(l,u),cD),h.mergedAttrs=hc(h.mergedAttrs,h.attrs),yb(e,h);let p=h.tView=oy(2,h,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,l,null);return e.queries!==null&&(e.queries.template(e,h),p.queries=e.queries.embeddedTView(h)),h}function Em(t,e,n,r,i,o,s,a,u,l){let h=n+Vt,p=e.firstCreatePass?PF(h,e,t,r,i,o,s,a,u):e.data[h];_c(p,!1);let y=xF(e,t,p,n);Gm()&&gy(e,t,y,p),Ec(y,t);let m=ID(y,t,y,p);return t[h]=m,ay(t,m),mF(m,p,t),Um(p)&&cy(e,t,p),u!=null&&aD(t,p,l),p}function hi(t,e,n,r,i,o,s,a){let u=Ce(),l=It(),h=hs(l.consts,o);return Em(u,l,t,e,n,r,i,h,s,a),hi}var xF=kF;function kF(t,e,n,r){return Km(!0),e[Ke].createComment("")}var xD=(()=>{class t{log(n){console.log(n)}warn(n){console.warn(n)}static \u0275fac=function(r){return new(r||t)};static \u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})();var kD=new $("");var OF=(()=>{class t{static \u0275prov=z({token:t,providedIn:"root",factory:()=>new wm})}return t})(),wm=class{queuedEffectCount=0;queues=new Map;schedule(e){this.enqueue(e)}remove(e){let n=e.zone,r=this.queues.get(n);r.has(e)&&(r.delete(e),this.queuedEffectCount--)}enqueue(e){let n=e.zone;this.queues.has(n)||this.queues.set(n,new Set);let r=this.queues.get(n);r.has(e)||(this.queuedEffectCount++,r.add(e))}flush(){for(;this.queuedEffectCount>0;)for(let[e,n]of this.queues)e===null?this.flushQueue(n):e.run(()=>this.flushQueue(n))}flushQueue(e){for(let n of e)e.delete(n),this.queuedEffectCount--,n.run()}};function so(t){return!!t&&typeof t.then=="function"}function OD(t){return!!t&&typeof t.subscribe=="function"}var FF=new $("");var FD=(()=>{class t{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((n,r)=>{this.resolve=n,this.reject=r});appInits=P(FF,{optional:!0})??[];injector=P(_t);constructor(){}runInitializers(){if(this.initialized)return;let n=[];for(let i of this.appInits){let o=jt(this.injector,i);if(so(o))n.push(o);else if(OD(o)){let s=new Promise((a,u)=>{o.subscribe({complete:a,error:u})});n.push(s)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{r()}).catch(i=>{this.reject(i)}),n.length===0&&r(),this.initialized=!0}static \u0275fac=function(r){return new(r||t)};static \u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Ey=new $("");function LF(){lg(()=>{throw new H(600,!1)})}function VF(t){return t.isBoundToModule}var jF=10;var no=(()=>{class t{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=P(d1);afterRenderManager=P(b1);zonelessEnabled=P(Zm);rootEffectScheduler=P(OF);dirtyFlags=0;tracingSnapshot=null;externalTestViews=new Set;afterTick=new Ye;get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];isStable=P(io).hasPendingTasks.pipe(re(n=>!n));constructor(){P(xd,{optional:!0})}whenStable(){let n;return new Promise(r=>{n=this.isStable.subscribe({next:i=>{i&&r()}})}).finally(()=>{n.unsubscribe()})}_injector=P(Ft);_rendererFactory=null;get injector(){return this._injector}bootstrap(n,r){return this.bootstrapImpl(n,r)}bootstrapImpl(n,r,i=_t.NULL){Oe(10);let o=n instanceof bD;if(!this._injector.get(FD).done){let m="";throw new H(405,m)}let a;o?a=n:a=this._injector.get(Vd).resolveComponentFactory(n),this.componentTypes.push(a.componentType);let u=VF(a)?void 0:this._injector.get(ms),l=r||a.selector,h=a.create(i,[],l,u),p=h.location.nativeElement,y=h.injector.get(kD,null);return y?.registerApplication(p),h.onDestroy(()=>{this.detachView(h.hostView),Kl(this.components,h),y?.unregisterApplication(p)}),this._loadComponent(h),Oe(11,h),h}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){Oe(12),this.tracingSnapshot!==null?this.tracingSnapshot.run(qb.CHANGE_DETECTION,this.tickImpl):this.tickImpl()}tickImpl=()=>{if(this._runningTick)throw new H(101,!1);let n=ae(null);try{this._runningTick=!0,this.synchronize()}catch(r){this.internalErrorHandler(r)}finally{this._runningTick=!1,this.tracingSnapshot?.dispose(),this.tracingSnapshot=null,ae(n),this.afterTick.next(),Oe(13)}};synchronize(){this._rendererFactory===null&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(ps,null,{optional:!0}));let n=0;for(;this.dirtyFlags!==0&&n++<jF;)Oe(14),this.synchronizeOnce(),Oe(15)}synchronizeOnce(){if(this.dirtyFlags&16&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush()),this.dirtyFlags&7){let n=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:r,notifyErrorHandler:i}of this.allViews)UF(r,i,n,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&23)return}else this._rendererFactory?.begin?.(),this._rendererFactory?.end?.();this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:n})=>Ad(n))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(n){let r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){let r=n;Kl(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n),this._injector.get(Ey,[]).forEach(i=>i(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>Kl(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new H(406,!1);let n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(r){return new(r||t)};static \u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function Kl(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function UF(t,e,n,r){if(!n&&!Ad(t))return;mD(t,e,n&&!r?0:1)}function bc(t,e,n,r){let i=Ce(),o=Cs();if(Dn(i,o,e)){let s=It(),a=Md();oO(a,i,t,e,n,r)}return bc}function LD(t,e,n,r){return Dn(t,Cs(),n)?e+cs(n)+r:Kt}function BF(t,e,n,r,i,o){let s=Pk(),a=NF(t,s,n,i);return zm(2),a?e+cs(n)+r+cs(i)+o:Kt}function zl(t,e){return t<<17|e<<2}function ro(t){return t>>17&32767}function $F(t){return(t&2)==2}function HF(t,e){return t&131071|e<<17}function Cm(t){return t|2}function ys(t){return(t&131068)>>2}function Ug(t,e){return t&-131069|e<<2}function zF(t){return(t&1)===1}function bm(t){return t|1}function qF(t,e,n,r,i,o){let s=o?e.classBindings:e.styleBindings,a=ro(s),u=ys(s);t[r]=n;let l=!1,h;if(Array.isArray(n)){let p=n;h=p[1],(h===null||vc(p,h)>0)&&(l=!0)}else h=n;if(i)if(u!==0){let y=ro(t[a+1]);t[r+1]=zl(y,a),y!==0&&(t[y+1]=Ug(t[y+1],r)),t[a+1]=HF(t[a+1],r)}else t[r+1]=zl(a,0),a!==0&&(t[a+1]=Ug(t[a+1],r)),a=r;else t[r+1]=zl(u,0),a===0?a=r:t[u+1]=Ug(t[u+1],r),u=r;l&&(t[r+1]=Cm(t[r+1])),pC(t,h,r,!0),pC(t,h,r,!1),WF(e,h,t,r,o),s=zl(a,u),o?e.classBindings=s:e.styleBindings=s}function WF(t,e,n,r,i){let o=i?t.residualClasses:t.residualStyles;o!=null&&typeof e=="string"&&vc(o,e)>=0&&(n[r+1]=bm(n[r+1]))}function pC(t,e,n,r){let i=t[n+1],o=e===null,s=r?ro(i):ys(i),a=!1;for(;s!==0&&(a===!1||o);){let u=t[s],l=t[s+1];GF(u,e)&&(a=!0,t[s+1]=r?bm(l):Cm(l)),s=r?ro(l):ys(l)}a&&(t[n+1]=r?Cm(i):bm(i))}function GF(t,e){return t===null||e==null||(Array.isArray(t)?t[1]:t)===e?!0:Array.isArray(t)&&typeof e=="string"?vc(t,e)>=0:!1}var it={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function VD(t){return t.substring(it.key,it.keyEnd)}function KF(t){return t.substring(it.value,it.valueEnd)}function QF(t){return BD(t),jD(t,vs(t,0,it.textEnd))}function jD(t,e){let n=it.textEnd;return n===e?-1:(e=it.keyEnd=ZF(t,it.key=e,n),vs(t,e,n))}function YF(t){return BD(t),UD(t,vs(t,0,it.textEnd))}function UD(t,e){let n=it.textEnd,r=it.key=vs(t,e,n);return n===r?-1:(r=it.keyEnd=JF(t,r,n),r=gC(t,r,n,58),r=it.value=vs(t,r,n),r=it.valueEnd=XF(t,r,n),gC(t,r,n,59))}function BD(t){it.key=0,it.keyEnd=0,it.value=0,it.valueEnd=0,it.textEnd=t.length}function vs(t,e,n){for(;e<n&&t.charCodeAt(e)<=32;)e++;return e}function ZF(t,e,n){for(;e<n&&t.charCodeAt(e)>32;)e++;return e}function JF(t,e,n){let r;for(;e<n&&((r=t.charCodeAt(e))===45||r===95||(r&-33)>=65&&(r&-33)<=90||r>=48&&r<=57);)e++;return e}function gC(t,e,n,r){return e=vs(t,e,n),e<n&&e++,e}function XF(t,e,n){let r=-1,i=-1,o=-1,s=e,a=s;for(;s<n;){let u=t.charCodeAt(s++);if(u===59)return a;u===34||u===39?a=s=mC(t,u,s,n):e===s-4&&o===85&&i===82&&r===76&&u===40?a=s=mC(t,41,s,n):u>32&&(a=s),o=i,i=r,r=u&-33}return a}function mC(t,e,n,r){let i=-1,o=n;for(;o<r;){let s=t.charCodeAt(o++);if(s==e&&i!==92)return o;s==92&&i===92?i=0:i=s}throw new Error}function q(t,e,n){let r=Ce(),i=Cs();if(Dn(r,i,e)){let o=It(),s=Md();uy(o,s,r,t,e,r[Ke],n,!1)}return q}function Dm(t,e,n,r,i){ly(e,t,n,i?"class":"style",r)}function Bd(t,e){return nL(t,e,null,!0),Bd}function $D(t){HD(WD,eL,t,!1)}function eL(t,e){for(let n=YF(e);n>=0;n=UD(e,n))WD(t,VD(e),KF(e))}function ao(t){HD(cL,tL,t,!0)}function tL(t,e){for(let n=QF(e);n>=0;n=jD(e,n))Dd(t,VD(e),!0)}function nL(t,e,n,r){let i=Ce(),o=It(),s=zm(2);if(o.firstUpdatePass&&qD(o,t,s,r),e!==Kt&&Dn(i,s,e)){let a=o.data[Tr()];GD(o,a,i,i[Ke],t,i[s+1]=lL(e,n),r,s)}}function HD(t,e,n,r){let i=It(),o=zm(2);i.firstUpdatePass&&qD(i,null,o,r);let s=Ce();if(n!==Kt&&Dn(s,o,n)){let a=i.data[Tr()];if(KD(a,r)&&!zD(i,o)){let u=r?a.classesWithoutHost:a.stylesWithoutHost;u!==null&&(n=Wg(u,n||"")),Dm(i,a,s,n,r)}else uL(i,a,s,s[Ke],s[o+1],s[o+1]=aL(t,e,n),r,o)}}function zD(t,e){return e>=t.expandoStartIndex}function qD(t,e,n,r){let i=t.data;if(i[n+1]===null){let o=i[Tr()],s=zD(t,n);KD(o,r)&&e===null&&!s&&(e=!1),e=rL(i,o,e,r),qF(i,o,e,n,s,r)}}function rL(t,e,n,r){let i=Lk(t),o=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(n=Bg(null,t,e,n,r),n=mc(n,e.attrs,r),o=null);else{let s=e.directiveStylingLast;if(s===-1||t[s]!==i)if(n=Bg(i,t,e,n,r),o===null){let u=iL(t,e,r);u!==void 0&&Array.isArray(u)&&(u=Bg(null,t,e,u[1],r),u=mc(u,e.attrs,r),oL(t,e,r,u))}else o=sL(t,e,r)}return o!==void 0&&(r?e.residualClasses=o:e.residualStyles=o),n}function iL(t,e,n){let r=n?e.classBindings:e.styleBindings;if(ys(r)!==0)return t[ro(r)]}function oL(t,e,n,r){let i=n?e.classBindings:e.styleBindings;t[ro(i)]=r}function sL(t,e,n){let r,i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++){let s=t[o].hostAttrs;r=mc(r,s,n)}return mc(r,e.attrs,n)}function Bg(t,e,n,r,i){let o=null,s=n.directiveEnd,a=n.directiveStylingLast;for(a===-1?a=n.directiveStart:a++;a<s&&(o=e[a],r=mc(r,o.hostAttrs,i),o!==t);)a++;return t!==null&&(n.directiveStylingLast=a),r}function mc(t,e,n){let r=n?1:2,i=-1;if(e!==null)for(let o=0;o<e.length;o++){let s=e[o];typeof s=="number"?i=s:i===r&&(Array.isArray(t)||(t=t===void 0?[]:["",t]),Dd(t,s,n?!0:e[++o]))}return t===void 0?null:t}function aL(t,e,n){if(n==null||n==="")return Wt;let r=[],i=Cc(n);if(Array.isArray(i))for(let o=0;o<i.length;o++)t(r,i[o],!0);else if(typeof i=="object")for(let o in i)i.hasOwnProperty(o)&&t(r,o,i[o]);else typeof i=="string"&&e(r,i);return r}function WD(t,e,n){Dd(t,e,Cc(n))}function cL(t,e,n){let r=String(e);r!==""&&!r.includes(" ")&&Dd(t,r,n)}function uL(t,e,n,r,i,o,s,a){i===Kt&&(i=Wt);let u=0,l=0,h=0<i.length?i[0]:null,p=0<o.length?o[0]:null;for(;h!==null||p!==null;){let y=u<i.length?i[u+1]:void 0,m=l<o.length?o[l+1]:void 0,D=null,k;h===p?(u+=2,l+=2,y!==m&&(D=p,k=m)):p===null||h!==null&&h<p?(u+=2,D=h):(l+=2,D=p,k=m),D!==null&&GD(t,e,n,r,D,k,s,a),h=u<i.length?i[u]:null,p=l<o.length?o[l]:null}}function GD(t,e,n,r,i,o,s,a){if(!(e.type&3))return;let u=t.data,l=u[a+1],h=zF(l)?yC(u,e,n,i,ys(l),s):void 0;if(!_d(h)){_d(o)||$F(l)&&(o=yC(u,null,n,i,a,s));let p=XC(Tr(),n);DO(r,s,p,i,o)}}function yC(t,e,n,r,i,o){let s=e===null,a;for(;i>0;){let u=t[i],l=Array.isArray(u),h=l?u[1]:u,p=h===null,y=n[i+1];y===Kt&&(y=p?Wt:void 0);let m=p?Mg(y,r):h===r?y:void 0;if(l&&!_d(m)&&(m=Mg(u,r)),_d(m)&&(a=m,s))return a;let D=t[i+1];i=s?ro(D):ys(D)}if(e!==null){let u=o?e.residualClasses:e.residualStyles;u!=null&&(a=Mg(u,r))}return a}function _d(t){return t!==void 0}function lL(t,e){return t==null||t===""||(typeof e=="string"?t=t+e:typeof t=="object"&&(t=Gt(Cc(t)))),t}function KD(t,e){return(t.flags&(e?8:16))!==0}var Tm=class{destroy(e){}updateValue(e,n){}swap(e,n){let r=Math.min(e,n),i=Math.max(e,n),o=this.detach(i);if(i-r>1){let s=this.detach(r);this.attach(r,o),this.attach(i,s)}else this.attach(r,o)}move(e,n){this.attach(n,this.detach(e))}};function $g(t,e,n,r,i){return t===n&&Object.is(e,r)?1:Object.is(i(t,e),i(n,r))?-1:0}function dL(t,e,n){let r,i,o=0,s=t.length-1,a=void 0;if(Array.isArray(e)){let u=e.length-1;for(;o<=s&&o<=u;){let l=t.at(o),h=e[o],p=$g(o,l,o,h,n);if(p!==0){p<0&&t.updateValue(o,h),o++;continue}let y=t.at(s),m=e[u],D=$g(s,y,u,m,n);if(D!==0){D<0&&t.updateValue(s,m),s--,u--;continue}let k=n(o,l),x=n(s,y),U=n(o,h);if(Object.is(U,x)){let K=n(u,m);Object.is(K,k)?(t.swap(o,s),t.updateValue(s,m),u--,s--):t.move(s,o),t.updateValue(o,h),o++;continue}if(r??=new Id,i??=_C(t,o,s,n),Sm(t,r,o,U))t.updateValue(o,h),o++,s++;else if(i.has(U))r.set(k,t.detach(o)),s--;else{let K=t.create(o,e[o]);t.attach(o,K),o++,s++}}for(;o<=u;)vC(t,r,n,o,e[o]),o++}else if(e!=null){let u=e[Symbol.iterator](),l=u.next();for(;!l.done&&o<=s;){let h=t.at(o),p=l.value,y=$g(o,h,o,p,n);if(y!==0)y<0&&t.updateValue(o,p),o++,l=u.next();else{r??=new Id,i??=_C(t,o,s,n);let m=n(o,p);if(Sm(t,r,o,m))t.updateValue(o,p),o++,s++,l=u.next();else if(!i.has(m))t.attach(o,t.create(o,p)),o++,s++,l=u.next();else{let D=n(o,h);r.set(D,t.detach(o)),s--}}}for(;!l.done;)vC(t,r,n,t.length,l.value),l=u.next()}for(;o<=s;)t.destroy(t.detach(s--));r?.forEach(u=>{t.destroy(u)})}function Sm(t,e,n,r){return e!==void 0&&e.has(r)?(t.attach(n,e.get(r)),e.delete(r),!0):!1}function vC(t,e,n,r,i){if(Sm(t,e,r,n(r,i)))t.updateValue(r,i);else{let o=t.create(r,i);t.attach(r,o)}}function _C(t,e,n,r){let i=new Set;for(let o=e;o<=n;o++)i.add(r(o,t.at(o)));return i}var Id=class{kvMap=new Map;_vMap=void 0;has(e){return this.kvMap.has(e)}delete(e){if(!this.has(e))return!1;let n=this.kvMap.get(e);return this._vMap!==void 0&&this._vMap.has(n)?(this.kvMap.set(e,this._vMap.get(n)),this._vMap.delete(n)):this.kvMap.delete(e),!0}get(e){return this.kvMap.get(e)}set(e,n){if(this.kvMap.has(e)){let r=this.kvMap.get(e);this._vMap===void 0&&(this._vMap=new Map);let i=this._vMap;for(;i.has(r);)r=i.get(r);i.set(r,n)}else this.kvMap.set(e,n)}forEach(e){for(let[n,r]of this.kvMap)if(e(r,n),this._vMap!==void 0){let i=this._vMap;for(;i.has(r);)r=i.get(r),e(r,n)}}};function co(t,e){wc("NgControlFlow");let n=Ce(),r=Cs(),i=n[r]!==Kt?n[r]:-1,o=i!==-1?Ed(n,Vt+i):void 0,s=0;if(Dn(n,r,t)){let a=ae(null);try{if(o!==void 0&&wD(o,s),t!==-1){let u=Vt+t,l=Ed(n,u),h=Nm(n[le],u),p=gc(l,h.tView.ssrId),y=hy(n,h,e,{dehydratedView:p});Ld(l,y,s,fc(h,p))}}finally{ae(a)}}else if(o!==void 0){let a=ED(o,s);a!==void 0&&(a[ot]=e)}}var Am=class{lContainer;$implicit;$index;constructor(e,n,r){this.lContainer=e,this.$implicit=n,this.$index=r}get $count(){return this.lContainer.length-Ot}};function fi(t,e){return e}var Rm=class{hasEmptyBlock;trackByFn;liveCollection;constructor(e,n,r){this.hasEmptyBlock=e,this.trackByFn=n,this.liveCollection=r}};function Gn(t,e,n,r,i,o,s,a,u,l,h,p,y){wc("NgControlFlow");let m=Ce(),D=It(),k=u!==void 0,x=Ce(),U=a?s.bind(x[bn][ot]):s,K=new Rm(k,U);x[Vt+t]=K,Em(m,D,t+1,e,n,r,i,hs(D.consts,o)),k&&Em(m,D,t+2,u,l,h,p,hs(D.consts,y))}var Mm=class extends Tm{lContainer;hostLView;templateTNode;operationsCounter=void 0;needsIndexUpdate=!1;constructor(e,n,r){super(),this.lContainer=e,this.hostLView=n,this.templateTNode=r}get length(){return this.lContainer.length-Ot}at(e){return this.getLView(e)[ot].$implicit}attach(e,n){let r=n[lc];this.needsIndexUpdate||=e!==this.length,Ld(this.lContainer,n,e,fc(this.templateTNode,r))}detach(e){return this.needsIndexUpdate||=e!==this.length-1,hL(this.lContainer,e)}create(e,n){let r=gc(this.lContainer,this.templateTNode.tView.ssrId),i=hy(this.hostLView,this.templateTNode,new Am(this.lContainer,n,e),{dehydratedView:r});return this.operationsCounter?.recordCreate(),i}destroy(e){Od(e[le],e),this.operationsCounter?.recordDestroy()}updateValue(e,n){this.getLView(e)[ot].$implicit=n}reset(){this.needsIndexUpdate=!1,this.operationsCounter?.reset()}updateIndexes(){if(this.needsIndexUpdate)for(let e=0;e<this.length;e++)this.getLView(e)[ot].$index=e}getLView(e){return fL(this.lContainer,e)}};function Kn(t){let e=ae(null),n=Tr();try{let r=Ce(),i=r[le],o=r[n],s=n+1,a=Ed(r,s);if(o.liveCollection===void 0){let l=Nm(i,s);o.liveCollection=new Mm(a,r,l)}else o.liveCollection.reset();let u=o.liveCollection;if(dL(u,t,o.trackByFn),u.updateIndexes(),o.hasEmptyBlock){let l=Cs(),h=u.length===0;if(Dn(r,l,h)){let p=n+2,y=Ed(r,p);if(h){let m=Nm(i,p),D=gc(y,m.tView.ssrId),k=hy(r,m,void 0,{dehydratedView:D});Ld(y,k,0,fc(m,D))}else wD(y,0)}}}finally{ae(e)}}function Ed(t,e){return t[e]}function hL(t,e){return pc(t,e)}function fL(t,e){return ED(t,e)}function Nm(t,e){return Bm(t,e)}function E(t,e,n,r){let i=Ce(),o=It(),s=Vt+t,a=i[Ke],u=o.firstCreatePass?SD(s,o,i,e,cD,sb(),n,r):o.data[s],l=pL(o,i,u,a,e,t);i[s]=l;let h=Um(u);return _c(u,!0),nD(a,l,u),!uD(u)&&Gm()&&gy(o,i,l,u),(Ck()===0||h)&&Ec(l,i),bk(),h&&(cy(o,i,u),Kb(o,u,i)),r!==null&&aD(i,u),E}function I(){let t=dn();cb()?Mk():(t=t.parent,_c(t,!1));let e=t;Sk(e)&&Ak(),Dk();let n=It();return n.firstCreatePass&&AD(n,e),e.classesWithoutHost!=null&&Hk(e)&&Dm(n,e,Ce(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&zk(e)&&Dm(n,e,Ce(),e.stylesWithoutHost,!1),I}function Q(t,e,n,r){return E(t,e,n,r),I(),Q}var pL=(t,e,n,r,i,o)=>(Km(!0),eD(r,i,Uk()));function bs(){return Ce()}var zi=void 0;function gL(t){let e=Math.floor(Math.abs(t)),n=t.toString().replace(/^[^.]*\.?/,"").length;return e===1&&n===0?1:5}var mL=["en",[["a","p"],["AM","PM"],zi],[["AM","PM"],zi,zi],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],zi,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],zi,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",zi,"{1} 'at' {0}",zi],[".",",",";","%","+","-","E","\xD7","\u2030","\u221E","NaN",":"],["#,##0.###","#,##0%","\xA4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",gL],Hg={};function $d(t){let e=yL(t),n=IC(e);if(n)return n;let r=e.split("-")[0];if(n=IC(r),n)return n;if(r==="en")return mL;throw new H(701,!1)}function IC(t){return t in Hg||(Hg[t]=qi.ng&&qi.ng.common&&qi.ng.common.locales&&qi.ng.common.locales[t]),Hg[t]}var uo=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}(uo||{});function yL(t){return t.toLowerCase().replace(/_/g,"-")}var wd="en-US",vL="USD";var _L=wd;function IL(t){typeof t=="string"&&(_L=t.toLowerCase().replace(/_/g,"-"))}function EC(t,e,n){return function r(i){if(i===Function)return n;let o=Es(t)?Hn(t.index,e):e;yy(o,5);let s=e[ot],a=wC(e,s,n,i),u=r.__ngNextListenerFn__;for(;u;)a=wC(e,s,u,i)&&a,u=u.__ngNextListenerFn__;return a}}function wC(t,e,n,r){let i=ae(null);try{return Oe(6,e,n),n(r)!==!1}catch(o){return EL(t,o),!1}finally{Oe(7,e,n),ae(i)}}function EL(t,e){let n=t[Zi],r=n?n.get(Ir,null):null;r&&r.handleError(e)}function CC(t,e,n,r,i,o){let s=e[n],a=e[le],l=a.data[n].outputs[r],h=s[l],p=a.firstCreatePass?ob(a):null,y=ib(e),m=h.subscribe(o),D=y.length;y.push(o,m),p&&p.push(i,t.index,D,-(D+1))}var wL=new Map;function ge(t,e,n,r){let i=Ce(),o=It(),s=dn();return QD(o,i,i[Ke],s,t,e,r),ge}function CL(t,e,n,r){let i=t.cleanup;if(i!=null)for(let o=0;o<i.length-1;o+=2){let s=i[o];if(s===n&&i[o+1]===r){let a=e[td],u=i[o+2];return a.length>u?a[u]:null}typeof s=="string"&&(o+=2)}return null}function QD(t,e,n,r,i,o,s){let a=Um(r),l=t.firstCreatePass?ob(t):null,h=ib(e),p=!0;if(r.type&3||s){let y=Wn(r,e),m=s?s(y):y,D=h.length,k=s?U=>s($n(U[r.index])):r.index,x=null;if(!s&&a&&(x=CL(t,e,i,r.index)),x!==null){let U=x.__ngLastListenerFn__||x;U.__ngNextListenerFn__=o,x.__ngLastListenerFn__=o,p=!1}else{o=EC(r,e,o);let U=e[Zi].get(Pd);wL.get(U)?.(m,i,o);let J=n.listen(m,i,o);h.push(o,J),l&&l.push(i,k,D,D+1)}}else o=EC(r,e,o);if(p){let y=r.outputs?.[i],m=r.hostDirectiveOutputs?.[i];if(m&&m.length)for(let D=0;D<m.length;D+=2){let k=m[D],x=m[D+1];CC(r,e,k,x,i,o)}if(y&&y.length)for(let D of y)CC(r,e,D,i,i,o)}}function lo(t=1){return jk(t)}function pi(t,e,n){return YD(t,"",e,"",n),pi}function YD(t,e,n,r,i){let o=Ce(),s=LD(o,e,n,r);if(s!==Kt){let a=It(),u=Md();uy(a,u,o,t,s,o[Ke],i,!1)}return YD}function bL(t,e,n,r){n>=t.data.length&&(t.data[n]=null,t.blueprint[n]=null),e[n]=r}function ZD(t){let e=Nk();return eb(e,Vt+t)}function S(t,e=""){let n=Ce(),r=It(),i=t+Vt,o=r.firstCreatePass?vy(r,i,1,e,null):r.data[i],s=DL(r,n,o,e,t);n[i]=s,Gm()&&gy(r,n,s,o),_c(o,!1)}var DL=(t,e,n,r,i)=>(Km(!0),H1(e[Ke],r));function Ut(t){return st("",t,""),Ut}function st(t,e,n){let r=Ce(),i=LD(r,t,e,n);return i!==Kt&&JD(r,Tr(),i),st}function wy(t,e,n,r,i){let o=Ce(),s=BF(o,t,e,n,r,i);return s!==Kt&&JD(o,Tr(),s),wy}function JD(t,e,n){let r=XC(e,t);z1(t[Ke],r,n)}function Ie(t,e,n){Fb(e)&&(e=e());let r=Ce(),i=Cs();if(Dn(r,i,e)){let o=It(),s=Md();uy(o,s,r,t,e,r[Ke],n,!1)}return Ie}function be(t,e){let n=Fb(t);return n&&t.set(e),n}function Ee(t,e){let n=Ce(),r=It(),i=dn();return QD(r,n,n[Ke],i,t,e),Ee}function TL(t,e,n){let r=It();if(r.firstCreatePass){let i=Bn(t);Pm(n,r.data,r.blueprint,i,!0),Pm(e,r.data,r.blueprint,i,!1)}}function Pm(t,e,n,r,i){if(t=kt(t),Array.isArray(t))for(let o=0;o<t.length;o++)Pm(t[o],e,n,r,i);else{let o=It(),s=Ce(),a=dn(),u=us(t)?t:kt(t.provide),l=HC(t),h=a.providerIndexes&1048575,p=a.directiveStart,y=a.providerIndexes>>20;if(us(t)||!t.multi){let m=new to(l,i,ve),D=qg(u,e,i?h:h+y,p);D===-1?(im(ud(a,s),o,u),zg(o,t,e.length),e.push(u),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(m),s.push(m)):(n[D]=m,s[D]=m)}else{let m=qg(u,e,h+y,p),D=qg(u,e,h,h+y),k=m>=0&&n[m],x=D>=0&&n[D];if(i&&!x||!i&&!k){im(ud(a,s),o,u);let U=RL(i?AL:SL,n.length,i,r,l);!i&&x&&(n[D].providerFactory=U),zg(o,t,e.length,0),e.push(u),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(U),s.push(U)}else{let U=XD(n[i?D:m],l,!i&&r);zg(o,t,m>-1?m:D,U)}!i&&r&&x&&n[D].componentProviders++}}}function zg(t,e,n,r){let i=us(e),o=ck(e);if(i||o){let u=(o?kt(e.useClass):e).prototype.ngOnDestroy;if(u){let l=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){let h=l.indexOf(n);h===-1?l.push(n,[r,u]):l[h+1].push(r,u)}else l.push(n,u)}}}function XD(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function qg(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function SL(t,e,n,r){return xm(this.multi,[])}function AL(t,e,n,r){let i=this.multi,o;if(this.providerFactory){let s=this.providerFactory.componentProviders,a=ld(n,n[le],this.providerFactory.index,r);o=a.slice(0,s),xm(i,o);for(let u=s;u<a.length;u++)o.push(a[u])}else o=[],xm(i,o);return o}function xm(t,e){for(let n=0;n<t.length;n++){let r=t[n];e.push(r())}return e}function RL(t,e,n,r,i){let o=new to(t,n,ve);return o.multi=[],o.index=e,o.componentProviders=0,XD(o,i,r&&!n),o}function gi(t,e=[]){return n=>{n.providersResolver=(r,i)=>TL(r,i?i(t):t,e)}}function Fe(t,e,n){let r=Hm()+t,i=Ce();return i[r]===Kt?PD(i,r,n?e.call(n):e()):MF(i,r)}function Hd(t,e,n,r){return eT(Ce(),Hm(),t,e,n,r)}function ML(t,e){let n=t[e];return n===Kt?void 0:n}function eT(t,e,n,r,i,o){let s=e+n;return Dn(t,s,i)?PD(t,s+1,o?r.call(o,i):r(i)):ML(t,s+1)}function Qt(t,e){let n=It(),r,i=t+Vt;n.firstCreatePass?(r=NL(e,n.pipeRegistry),n.data[i]=r,r.onDestroy&&(n.destroyHooks??=[]).push(i,r.onDestroy)):r=n.data[i];let o=r.factory||(r.factory=Ki(r.type,!0)),s,a=qt(ve);try{let u=cd(!1),l=o();return cd(u),bL(n,Ce(),i,l),l}finally{qt(a)}}function NL(t,e){if(e)for(let n=e.length-1;n>=0;n--){let r=e[n];if(t===r.name)return r}}function Yt(t,e,n){let r=t+Vt,i=Ce(),o=eb(i,r);return PL(i,r)?eT(i,Hm(),e,o.transform,n,o):o.transform(n)}function PL(t,e){return t[le].data[e].pure}var _s=class{full;major;minor;patch;constructor(e){this.full=e;let n=e.split(".");this.major=n[0],this.minor=n[1],this.patch=n.slice(2).join(".")}},tT=new _s("19.2.9"),km=class{ngModuleFactory;componentFactories;constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}},nT=(()=>{class t{compileModuleSync(n){return new Im(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){let r=this.compileModuleSync(n),i=jC(n),o=Jb(i.declarations).reduce((s,a)=>{let u=Yi(a);return u&&s.push(new gs(u)),s},[]);return new km(r,o)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}static \u0275fac=function(r){return new(r||t)};static \u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var xL=(()=>{class t{zone=P(Pe);changeDetectionScheduler=P(fs);applicationRef=P(no);_onMicrotaskEmptySubscription;initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static \u0275fac=function(r){return new(r||t)};static \u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),kL=new $("",{factory:()=>!1});function rT({ngZoneFactory:t,ignoreChangesOutsideZone:e,scheduleInRootZone:n}){return t??=()=>new Pe(fe(j({},oT()),{scheduleInRootZone:n})),[{provide:Pe,useFactory:t},{provide:cc,multi:!0,useFactory:()=>{let r=P(xL,{optional:!0});return()=>r.initialize()}},{provide:cc,multi:!0,useFactory:()=>{let r=P(OL);return()=>{r.initialize()}}},e===!0?{provide:Nb,useValue:!0}:[],{provide:Pb,useValue:n??Mb}]}function iT(t){let e=t?.ignoreChangesOutsideZone,n=t?.scheduleInRootZone,r=rT({ngZoneFactory:()=>{let i=oT(t);return i.scheduleInRootZone=n,i.shouldCoalesceEventChangeDetection&&wc("NgZone_CoalesceEvent"),new Pe(i)},ignoreChangesOutsideZone:e,scheduleInRootZone:n});return Cr([{provide:kL,useValue:!0},{provide:Zm,useValue:!1},r])}function oT(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}var OL=(()=>{class t{subscription=new $e;initialized=!1;zone=P(Pe);pendingTasks=P(io);initialize(){if(this.initialized)return;this.initialized=!0;let n=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(n=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{Pe.assertNotInAngularZone(),queueMicrotask(()=>{n!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(n),n=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{Pe.assertInAngularZone(),n??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static \u0275fac=function(r){return new(r||t)};static \u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var FL=(()=>{class t{appRef=P(no);taskService=P(io);ngZone=P(Pe);zonelessEnabled=P(Zm);tracing=P(xd,{optional:!0});disableScheduling=P(Nb,{optional:!0})??!1;zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new $e;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(hd):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(P(Pb,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof um||!this.zoneIsDefined)}notify(n){if(!this.zonelessEnabled&&n===5)return;let r=!1;switch(n){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 6:{this.appRef.dirtyFlags|=2,r=!0;break}case 12:{this.appRef.dirtyFlags|=16,r=!0;break}case 13:{this.appRef.dirtyFlags|=2,r=!0;break}case 11:{r=!0;break}case 9:case 8:case 7:case 10:default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick(r))return;let i=this.useMicrotaskScheduler?J0:xb;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>i(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>i(()=>this.tick()))}shouldScheduleTick(n){return!(this.disableScheduling&&!n||this.appRef.destroyed||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(hd+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(this.appRef.dirtyFlags===0){this.cleanup();return}!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let n=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){throw this.taskService.remove(n),r}finally{this.cleanup()}this.useMicrotaskScheduler=!0,J0(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(n)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let n=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(n)}}static \u0275fac=function(r){return new(r||t)};static \u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function LL(){return typeof $localize<"u"&&$localize.locale||wd}var zd=new $("",{providedIn:"root",factory:()=>P(zd,ue.Optional|ue.SkipSelf)||LL()}),sT=new $("",{providedIn:"root",factory:()=>vL});var Om=new $(""),VL=new $("");function ic(t){return!t.moduleRef}function jL(t){let e=ic(t)?t.r3Injector:t.moduleRef.injector,n=e.get(Pe);return n.run(()=>{ic(t)?t.r3Injector.resolveInjectorInitializers():t.moduleRef.resolveInjectorInitializers();let r=e.get(Ir,null),i;if(n.runOutsideAngular(()=>{i=n.onError.subscribe({next:o=>{r.handleError(o)}})}),ic(t)){let o=()=>e.destroy(),s=t.platformInjector.get(Om);s.add(o),e.onDestroy(()=>{i.unsubscribe(),s.delete(o)})}else{let o=()=>t.moduleRef.destroy(),s=t.platformInjector.get(Om);s.add(o),t.moduleRef.onDestroy(()=>{Kl(t.allPlatformModules,t.moduleRef),i.unsubscribe(),s.delete(o)})}return BL(r,n,()=>{let o=e.get(FD);return o.runInitializers(),o.donePromise.then(()=>{let s=e.get(zd,wd);if(IL(s||wd),!e.get(VL,!0))return ic(t)?e.get(no):(t.allPlatformModules.push(t.moduleRef),t.moduleRef);if(ic(t)){let u=e.get(no);return t.rootComponent!==void 0&&u.bootstrap(t.rootComponent),u}else return UL(t.moduleRef,t.allPlatformModules),t.moduleRef})})})}function UL(t,e){let n=t.injector.get(no);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(r=>n.bootstrap(r));else if(t.instance.ngDoBootstrap)t.instance.ngDoBootstrap(n);else throw new H(-403,!1);e.push(t)}function BL(t,e,n){try{let r=n();return so(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}var Ql=null;function $L(t=[],e){return _t.create({name:e,providers:[{provide:Td,useValue:"platform"},{provide:Om,useValue:new Set([()=>Ql=null])},...t]})}function HL(t=[]){if(Ql)return Ql;let e=$L(t);return Ql=e,LF(),zL(e),e}function zL(t){let e=t.get(ty,null);jt(t,()=>{e?.forEach(n=>n())})}function Cy(){return!1}var Ds=(()=>{class t{static __NG_ELEMENT_ID__=qL}return t})();function qL(t){return WL(dn(),Ce(),(t&16)===16)}function WL(t,e,n){if(Es(t)&&!n){let r=Hn(t.index,e);return new md(r,r)}else if(t.type&175){let r=e[bn];return new md(r,e)}return null}function aT(t){Oe(8);try{let{rootComponent:e,appProviders:n,platformProviders:r}=t,i=HL(r),o=[rT({}),{provide:fs,useExisting:FL},...n||[]],s=new vd({providers:o,parent:i,debugName:"",runEnvironmentInitializers:!1});return jL({r3Injector:s.injector,platformInjector:i,rootComponent:e})}catch(e){return Promise.reject(e)}finally{Oe(9)}}function ho(t){return typeof t=="boolean"?t:t!=null&&t!=="false"}function Qn(t){return fg(t)}function Rn(t,e){return ug(t,e?.equal)}var bC=class{[sn];constructor(e){this[sn]=e}destroy(){this[sn].destroy()}};function cT(t){let e=Yi(t);if(!e)return null;let n=new gs(e);return{get selector(){return n.selector},get type(){return n.componentType},get inputs(){return n.inputs},get outputs(){return n.outputs},get ngContentSelectors(){return n.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}var At=new $("");var dT=null;function pn(){return dT}function by(t){dT??=t}var Dc=class{},Dy=(()=>{class t{historyGo(n){throw new Error("")}static \u0275fac=function(r){return new(r||t)};static \u0275prov=z({token:t,factory:()=>P(hT),providedIn:"platform"})}return t})();var hT=(()=>{class t extends Dy{_location;_history;_doc=P(At);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return pn().getBaseHref(this._doc)}onPopState(n){let r=pn().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",n,!1),()=>r.removeEventListener("popstate",n)}onHashChange(n){let r=pn().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",n,!1),()=>r.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,r,i){this._history.pushState(n,r,i)}replaceState(n,r,i){this._history.replaceState(n,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}static \u0275fac=function(r){return new(r||t)};static \u0275prov=z({token:t,factory:()=>new t,providedIn:"platform"})}return t})();function fT(t,e){return t?e?t.endsWith("/")?e.startsWith("/")?t+e.slice(1):t+e:e.startsWith("/")?t+e:`${t}/${e}`:t:e}function uT(t){let e=t.search(/#|\?|$/);return t[e-1]==="/"?t.slice(0,e-1)+t.slice(e):t}function mi(t){return t&&t[0]!=="?"?`?${t}`:t}var Ts=(()=>{class t{historyGo(n){throw new Error("")}static \u0275fac=function(r){return new(r||t)};static \u0275prov=z({token:t,factory:()=>P(gT),providedIn:"root"})}return t})(),pT=new $(""),gT=(()=>{class t extends Ts{_platformLocation;_baseHref;_removeListenerFns=[];constructor(n,r){super(),this._platformLocation=n,this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??P(At).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return fT(this._baseHref,n)}path(n=!1){let r=this._platformLocation.pathname+mi(this._platformLocation.search),i=this._platformLocation.hash;return i&&n?`${r}${i}`:r}pushState(n,r,i,o){let s=this.prepareExternalUrl(i+mi(o));this._platformLocation.pushState(n,r,s)}replaceState(n,r,i,o){let s=this.prepareExternalUrl(i+mi(o));this._platformLocation.replaceState(n,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static \u0275fac=function(r){return new(r||t)(ce(Dy),ce(pT,8))};static \u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),yi=(()=>{class t{_subject=new Ye;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(n){this._locationStrategy=n;let r=this._locationStrategy.getBaseHref();this._basePath=QL(uT(lT(r))),this._locationStrategy.onPopState(i=>{this._subject.next({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,r=""){return this.path()==this.normalize(n+mi(r))}normalize(n){return t.stripTrailingSlash(KL(this._basePath,lT(n)))}prepareExternalUrl(n){return n&&n[0]!=="/"&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,r="",i=null){this._locationStrategy.pushState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+mi(r)),i)}replaceState(n,r="",i=null){this._locationStrategy.replaceState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+mi(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",r){this._urlChangeListeners.forEach(i=>i(n,r))}subscribe(n,r,i){return this._subject.subscribe({next:n,error:r??void 0,complete:i??void 0})}static normalizeQueryParams=mi;static joinWithSlash=fT;static stripTrailingSlash=uT;static \u0275fac=function(r){return new(r||t)(ce(Ts))};static \u0275prov=z({token:t,factory:()=>GL(),providedIn:"root"})}return t})();function GL(){return new yi(ce(Ts))}function KL(t,e){if(!t||!e.startsWith(t))return e;let n=e.substring(t.length);return n===""||["/",";","?","#"].includes(n[0])?n:e}function lT(t){return t.replace(/\/index.html$/,"")}function QL(t){if(new RegExp("^(https?:)?//").test(t)){let[,n]=t.split(/\/\/[^\/]+/);return n}return t}var vT={ADP:[void 0,void 0,0],AFN:[void 0,"\u060B",0],ALL:[void 0,void 0,0],AMD:[void 0,"\u058F",2],AOA:[void 0,"Kz"],ARS:[void 0,"$"],AUD:["A$","$"],AZN:[void 0,"\u20BC"],BAM:[void 0,"KM"],BBD:[void 0,"$"],BDT:[void 0,"\u09F3"],BHD:[void 0,void 0,3],BIF:[void 0,void 0,0],BMD:[void 0,"$"],BND:[void 0,"$"],BOB:[void 0,"Bs"],BRL:["R$"],BSD:[void 0,"$"],BWP:[void 0,"P"],BYN:[void 0,void 0,2],BYR:[void 0,void 0,0],BZD:[void 0,"$"],CAD:["CA$","$",2],CHF:[void 0,void 0,2],CLF:[void 0,void 0,4],CLP:[void 0,"$",0],CNY:["CN\xA5","\xA5"],COP:[void 0,"$",2],CRC:[void 0,"\u20A1",2],CUC:[void 0,"$"],CUP:[void 0,"$"],CZK:[void 0,"K\u010D",2],DJF:[void 0,void 0,0],DKK:[void 0,"kr",2],DOP:[void 0,"$"],EGP:[void 0,"E\xA3"],ESP:[void 0,"\u20A7",0],EUR:["\u20AC"],FJD:[void 0,"$"],FKP:[void 0,"\xA3"],GBP:["\xA3"],GEL:[void 0,"\u20BE"],GHS:[void 0,"GH\u20B5"],GIP:[void 0,"\xA3"],GNF:[void 0,"FG",0],GTQ:[void 0,"Q"],GYD:[void 0,"$",2],HKD:["HK$","$"],HNL:[void 0,"L"],HRK:[void 0,"kn"],HUF:[void 0,"Ft",2],IDR:[void 0,"Rp",2],ILS:["\u20AA"],INR:["\u20B9"],IQD:[void 0,void 0,0],IRR:[void 0,void 0,0],ISK:[void 0,"kr",0],ITL:[void 0,void 0,0],JMD:[void 0,"$"],JOD:[void 0,void 0,3],JPY:["\xA5",void 0,0],KHR:[void 0,"\u17DB"],KMF:[void 0,"CF",0],KPW:[void 0,"\u20A9",0],KRW:["\u20A9",void 0,0],KWD:[void 0,void 0,3],KYD:[void 0,"$"],KZT:[void 0,"\u20B8"],LAK:[void 0,"\u20AD",0],LBP:[void 0,"L\xA3",0],LKR:[void 0,"Rs"],LRD:[void 0,"$"],LTL:[void 0,"Lt"],LUF:[void 0,void 0,0],LVL:[void 0,"Ls"],LYD:[void 0,void 0,3],MGA:[void 0,"Ar",0],MGF:[void 0,void 0,0],MMK:[void 0,"K",0],MNT:[void 0,"\u20AE",2],MRO:[void 0,void 0,0],MUR:[void 0,"Rs",2],MXN:["MX$","$"],MYR:[void 0,"RM"],NAD:[void 0,"$"],NGN:[void 0,"\u20A6"],NIO:[void 0,"C$"],NOK:[void 0,"kr",2],NPR:[void 0,"Rs"],NZD:["NZ$","$"],OMR:[void 0,void 0,3],PHP:["\u20B1"],PKR:[void 0,"Rs",2],PLN:[void 0,"z\u0142"],PYG:[void 0,"\u20B2",0],RON:[void 0,"lei"],RSD:[void 0,void 0,0],RUB:[void 0,"\u20BD"],RWF:[void 0,"RF",0],SBD:[void 0,"$"],SEK:[void 0,"kr",2],SGD:[void 0,"$"],SHP:[void 0,"\xA3"],SLE:[void 0,void 0,2],SLL:[void 0,void 0,0],SOS:[void 0,void 0,0],SRD:[void 0,"$"],SSP:[void 0,"\xA3"],STD:[void 0,void 0,0],STN:[void 0,"Db"],SYP:[void 0,"\xA3",0],THB:[void 0,"\u0E3F"],TMM:[void 0,void 0,0],TND:[void 0,void 0,3],TOP:[void 0,"T$"],TRL:[void 0,void 0,0],TRY:[void 0,"\u20BA"],TTD:[void 0,"$"],TWD:["NT$","$",2],TZS:[void 0,void 0,2],UAH:[void 0,"\u20B4"],UGX:[void 0,void 0,0],USD:["$"],UYI:[void 0,void 0,0],UYU:[void 0,"$"],UYW:[void 0,void 0,4],UZS:[void 0,void 0,2],VEF:[void 0,"Bs",2],VND:["\u20AB",void 0,0],VUV:[void 0,void 0,0],XAF:["FCFA",void 0,0],XCD:["EC$","$"],XOF:["F\u202FCFA",void 0,0],XPF:["CFPF",void 0,0],XXX:["\xA4"],YER:[void 0,void 0,0],ZAR:[void 0,"R"],ZMK:[void 0,void 0,0],ZMW:[void 0,"ZK"],ZWD:[void 0,void 0,0]},Ay=function(t){return t[t.Decimal=0]="Decimal",t[t.Percent=1]="Percent",t[t.Currency=2]="Currency",t[t.Scientific=3]="Scientific",t}(Ay||{});var Yn={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};function Ss(t,e){let n=$d(t),r=n[uo.NumberSymbols][e];if(typeof r>"u"){if(e===Yn.CurrencyDecimal)return n[uo.NumberSymbols][Yn.Decimal];if(e===Yn.CurrencyGroup)return n[uo.NumberSymbols][Yn.Group]}return r}function _T(t,e){return $d(t)[uo.NumberFormats][e]}function YL(t){return $d(t)[uo.Currencies]}function IT(t,e,n="en"){let r=YL(n)[t]||vT[t]||[],i=r[1];return e==="narrow"&&typeof i=="string"?i:r[0]||t}var ZL=2;function ET(t){let e,n=vT[t];return n&&(e=n[2]),typeof e=="number"?e:ZL}var JL=/^(\d+)?\.((\d+)(-(\d+))?)?$/,mT=22,qd=".",Tc="0",XL=";",eV=",",Ty="#",yT="\xA4";function tV(t,e,n,r,i,o,s=!1){let a="",u=!1;if(!isFinite(t))a=Ss(n,Yn.Infinity);else{let l=iV(t);s&&(l=rV(l));let h=e.minInt,p=e.minFrac,y=e.maxFrac;if(o){let K=o.match(JL);if(K===null)throw new Error(`${o} is not a valid digit info`);let J=K[1],Me=K[3],ut=K[5];J!=null&&(h=Sy(J)),Me!=null&&(p=Sy(Me)),ut!=null?y=Sy(ut):Me!=null&&p>y&&(y=p)}oV(l,p,y);let m=l.digits,D=l.integerLen,k=l.exponent,x=[];for(u=m.every(K=>!K);D<h;D++)m.unshift(0);for(;D<0;D++)m.unshift(0);D>0?x=m.splice(D,m.length):(x=m,m=[0]);let U=[];for(m.length>=e.lgSize&&U.unshift(m.splice(-e.lgSize,m.length).join(""));m.length>e.gSize;)U.unshift(m.splice(-e.gSize,m.length).join(""));m.length&&U.unshift(m.join("")),a=U.join(Ss(n,r)),x.length&&(a+=Ss(n,i)+x.join("")),k&&(a+=Ss(n,Yn.Exponential)+"+"+k)}return t<0&&!u?a=e.negPre+a+e.negSuf:a=e.posPre+a+e.posSuf,a}function wT(t,e,n,r,i){let o=_T(e,Ay.Currency),s=nV(o,Ss(e,Yn.MinusSign));return s.minFrac=ET(r),s.maxFrac=s.minFrac,tV(t,s,e,Yn.CurrencyGroup,Yn.CurrencyDecimal,i).replace(yT,n).replace(yT,"").trim()}function nV(t,e="-"){let n={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},r=t.split(XL),i=r[0],o=r[1],s=i.indexOf(qd)!==-1?i.split(qd):[i.substring(0,i.lastIndexOf(Tc)+1),i.substring(i.lastIndexOf(Tc)+1)],a=s[0],u=s[1]||"";n.posPre=a.substring(0,a.indexOf(Ty));for(let h=0;h<u.length;h++){let p=u.charAt(h);p===Tc?n.minFrac=n.maxFrac=h+1:p===Ty?n.maxFrac=h+1:n.posSuf+=p}let l=a.split(eV);if(n.gSize=l[1]?l[1].length:0,n.lgSize=l[2]||l[1]?(l[2]||l[1]).length:0,o){let h=i.length-n.posPre.length-n.posSuf.length,p=o.indexOf(Ty);n.negPre=o.substring(0,p).replace(/'/g,""),n.negSuf=o.slice(p+h).replace(/'/g,"")}else n.negPre=e+n.posPre,n.negSuf=n.posSuf;return n}function rV(t){if(t.digits[0]===0)return t;let e=t.digits.length-t.integerLen;return t.exponent?t.exponent+=2:(e===0?t.digits.push(0,0):e===1&&t.digits.push(0),t.integerLen+=2),t}function iV(t){let e=Math.abs(t)+"",n=0,r,i,o,s,a;for((i=e.indexOf(qd))>-1&&(e=e.replace(qd,"")),(o=e.search(/e/i))>0?(i<0&&(i=o),i+=+e.slice(o+1),e=e.substring(0,o)):i<0&&(i=e.length),o=0;e.charAt(o)===Tc;o++);if(o===(a=e.length))r=[0],i=1;else{for(a--;e.charAt(a)===Tc;)a--;for(i-=o,r=[],s=0;o<=a;o++,s++)r[s]=Number(e.charAt(o))}return i>mT&&(r=r.splice(0,mT-1),n=i-1,i=1),{digits:r,exponent:n,integerLen:i}}function oV(t,e,n){if(e>n)throw new Error(`The minimum number of digits after fraction (${e}) is higher than the maximum (${n}).`);let r=t.digits,i=r.length-t.integerLen,o=Math.min(Math.max(e,i),n),s=o+t.integerLen,a=r[s];if(s>0){r.splice(Math.max(t.integerLen,s));for(let p=s;p<r.length;p++)r[p]=0}else{i=Math.max(0,i),t.integerLen=1,r.length=Math.max(1,s=o+1),r[0]=0;for(let p=1;p<s;p++)r[p]=0}if(a>=5)if(s-1<0){for(let p=0;p>s;p--)r.unshift(0),t.integerLen++;r.unshift(1),t.integerLen++}else r[s-1]++;for(;i<Math.max(0,o);i++)r.push(0);let u=o!==0,l=e+t.integerLen,h=r.reduceRight(function(p,y,m,D){return y=y+p,D[m]=y<10?y:y-10,u&&(D[m]===0&&m>=l?D.pop():u=!1),y>=10?1:0},0);h&&(r.unshift(h),t.integerLen++)}function Sy(t){let e=parseInt(t);if(isNaN(e))throw new Error("Invalid integer literal when parsing "+t);return e}function CT(t,e){return new H(2100,!1)}var sV=/(?:[0-9A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF38\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])\S*/g,Ry=(()=>{class t{transform(n){if(n==null)return null;if(typeof n!="string")throw CT(t,n);return n.replace(sV,r=>r[0].toUpperCase()+r.slice(1).toLowerCase())}static \u0275fac=function(r){return new(r||t)};static \u0275pipe=Iy({name:"titlecase",type:t,pure:!0})}return t})();var Mn=(()=>{class t{_locale;_defaultCurrencyCode;constructor(n,r="USD"){this._locale=n,this._defaultCurrencyCode=r}transform(n,r=this._defaultCurrencyCode,i="symbol",o,s){if(!aV(n))return null;s||=this._locale,typeof i=="boolean"&&(i=i?"symbol":"code");let a=r||this._defaultCurrencyCode;i!=="code"&&(i==="symbol"||i==="symbol-narrow"?a=IT(a,i==="symbol"?"wide":"narrow",s):a=i);try{let u=cV(n);return wT(u,s,a,r,o)}catch(u){throw CT(t,u.message)}}static \u0275fac=function(r){return new(r||t)(ve(zd,16),ve(sT,16))};static \u0275pipe=Iy({name:"currency",type:t,pure:!0})}return t})();function aV(t){return!(t==null||t===""||t!==t)}function cV(t){if(typeof t=="string"&&!isNaN(Number(t)-parseFloat(t)))return Number(t);if(typeof t!="number")throw new Error(`${t} is not a number`);return t}var Je=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275mod=Rr({type:t});static \u0275inj=wr({})}return t})();function My(t,e){e=encodeURIComponent(e);for(let n of t.split(";")){let r=n.indexOf("="),[i,o]=r==-1?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}var Ny="browser",bT="server";function Wd(t){return t===bT}var Sc=class{};var Qd=new $(""),Oy=(()=>{class t{_zone;_plugins;_eventNameToPlugin=new Map;constructor(n,r){this._zone=r,n.forEach(i=>{i.manager=this}),this._plugins=n.slice().reverse()}addEventListener(n,r,i,o){return this._findPluginFor(r).addEventListener(n,r,i,o)}getZone(){return this._zone}_findPluginFor(n){let r=this._eventNameToPlugin.get(n);if(r)return r;if(r=this._plugins.find(o=>o.supports(n)),!r)throw new H(5101,!1);return this._eventNameToPlugin.set(n,r),r}static \u0275fac=function(r){return new(r||t)(ce(Qd),ce(Pe))};static \u0275prov=z({token:t,factory:t.\u0275fac})}return t})(),Ac=class{_doc;constructor(e){this._doc=e}manager},Gd="ng-app-id";function DT(t){for(let e of t)e.remove()}function TT(t,e){let n=e.createElement("style");return n.textContent=t,n}function lV(t,e,n,r){let i=t.head?.querySelectorAll(`style[${Gd}="${e}"],link[${Gd}="${e}"]`);if(i)for(let o of i)o.removeAttribute(Gd),o instanceof HTMLLinkElement?r.set(o.href.slice(o.href.lastIndexOf("/")+1),{usage:0,elements:[o]}):o.textContent&&n.set(o.textContent,{usage:0,elements:[o]})}function xy(t,e){let n=e.createElement("link");return n.setAttribute("rel","stylesheet"),n.setAttribute("href",t),n}var Fy=(()=>{class t{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;isServer;constructor(n,r,i,o={}){this.doc=n,this.appId=r,this.nonce=i,this.isServer=Wd(o),lV(n,r,this.inline,this.external),this.hosts.add(n.head)}addStyles(n,r){for(let i of n)this.addUsage(i,this.inline,TT);r?.forEach(i=>this.addUsage(i,this.external,xy))}removeStyles(n,r){for(let i of n)this.removeUsage(i,this.inline);r?.forEach(i=>this.removeUsage(i,this.external))}addUsage(n,r,i){let o=r.get(n);o?o.usage++:r.set(n,{usage:1,elements:[...this.hosts].map(s=>this.addElement(s,i(n,this.doc)))})}removeUsage(n,r){let i=r.get(n);i&&(i.usage--,i.usage<=0&&(DT(i.elements),r.delete(n)))}ngOnDestroy(){for(let[,{elements:n}]of[...this.inline,...this.external])DT(n);this.hosts.clear()}addHost(n){this.hosts.add(n);for(let[r,{elements:i}]of this.inline)i.push(this.addElement(n,TT(r,this.doc)));for(let[r,{elements:i}]of this.external)i.push(this.addElement(n,xy(r,this.doc)))}removeHost(n){this.hosts.delete(n)}addElement(n,r){return this.nonce&&r.setAttribute("nonce",this.nonce),this.isServer&&r.setAttribute(Gd,this.appId),n.appendChild(r)}static \u0275fac=function(r){return new(r||t)(ce(At),ce(Pd),ce(ny,8),ce(oo))};static \u0275prov=z({token:t,factory:t.\u0275fac})}return t})(),Py={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},Ly=/%COMP%/g;var AT="%COMP%",dV=`_nghost-${AT}`,hV=`_ngcontent-${AT}`,fV=!0,pV=new $("",{providedIn:"root",factory:()=>fV});function gV(t){return hV.replace(Ly,t)}function mV(t){return dV.replace(Ly,t)}function RT(t,e){return e.map(n=>n.replace(Ly,t))}var Vy=(()=>{class t{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;platformId;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;platformIsServer;constructor(n,r,i,o,s,a,u,l=null,h=null){this.eventManager=n,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=a,this.ngZone=u,this.nonce=l,this.tracingService=h,this.platformIsServer=Wd(a),this.defaultRenderer=new Rc(n,s,u,this.platformIsServer,this.tracingService)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===zn.ShadowDom&&(r=fe(j({},r),{encapsulation:zn.Emulated}));let i=this.getOrCreateRenderer(n,r);return i instanceof Kd?i.applyToHost(n):i instanceof Mc&&i.applyStyles(),i}getOrCreateRenderer(n,r){let i=this.rendererByCompId,o=i.get(r.id);if(!o){let s=this.doc,a=this.ngZone,u=this.eventManager,l=this.sharedStylesHost,h=this.removeStylesOnCompDestroy,p=this.platformIsServer,y=this.tracingService;switch(r.encapsulation){case zn.Emulated:o=new Kd(u,l,r,this.appId,h,s,a,p,y);break;case zn.ShadowDom:return new ky(u,l,n,r,s,a,this.nonce,p,y);default:o=new Mc(u,l,r,h,s,a,p,y);break}i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(n){this.rendererByCompId.delete(n)}static \u0275fac=function(r){return new(r||t)(ce(Oy),ce(Fy),ce(Pd),ce(pV),ce(At),ce(oo),ce(Pe),ce(ny),ce(xd,8))};static \u0275prov=z({token:t,factory:t.\u0275fac})}return t})(),Rc=class{eventManager;doc;ngZone;platformIsServer;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(e,n,r,i,o){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.tracingService=o}destroy(){}destroyNode=null;createElement(e,n){return n?this.doc.createElementNS(Py[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(ST(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(ST(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){n.remove()}selectRootElement(e,n){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new H(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;let o=Py[i];o?e.setAttributeNS(o,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){let i=Py[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(Er.DashCase|Er.Important)?e.style.setProperty(n,r,i&Er.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&Er.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e!=null&&(e[n]=r)}setValue(e,n){e.nodeValue=n}listen(e,n,r,i){if(typeof e=="string"&&(e=pn().getGlobalEventTarget(this.doc,e),!e))throw new H(5102,!1);let o=this.decoratePreventDefault(r);return this.tracingService?.wrapEventListener&&(o=this.tracingService.wrapEventListener(e,n,o)),this.eventManager.addEventListener(e,n,o,i)}decoratePreventDefault(e){return n=>{if(n==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))===!1&&n.preventDefault()}}};function ST(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}var ky=class extends Rc{sharedStylesHost;hostEl;shadowRoot;constructor(e,n,r,i,o,s,a,u,l){super(e,o,s,u,l),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let h=i.styles;h=RT(i.id,h);for(let y of h){let m=document.createElement("style");a&&m.setAttribute("nonce",a),m.textContent=y,this.shadowRoot.appendChild(m)}let p=i.getExternalStyles?.();if(p)for(let y of p){let m=xy(y,o);a&&m.setAttribute("nonce",a),this.shadowRoot.appendChild(m)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(null,n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},Mc=class extends Rc{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(e,n,r,i,o,s,a,u,l){super(e,o,s,a,u),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i;let h=r.styles;this.styles=l?RT(l,h):h,this.styleUrls=r.getExternalStyles?.(l)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}},Kd=class extends Mc{contentAttr;hostAttr;constructor(e,n,r,i,o,s,a,u,l){let h=i+"-"+r.id;super(e,n,r,o,s,a,u,l,h),this.contentAttr=gV(h),this.hostAttr=mV(h)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){let r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}};var Yd=class t extends Dc{supportsDOMEvents=!0;static makeCurrent(){by(new t)}onAndCancel(e,n,r,i){return e.addEventListener(n,r,i),()=>{e.removeEventListener(n,r,i)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.remove()}createElement(e,n){return n=n||this.getDefaultDocument(),n.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return n==="window"?window:n==="document"?e:n==="body"?e.body:null}getBaseHref(e){let n=yV();return n==null?null:vV(n)}resetBaseElement(){Nc=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return My(document.cookie,e)}},Nc=null;function yV(){return Nc=Nc||document.querySelector("base"),Nc?Nc.getAttribute("href"):null}function vV(t){return new URL(t,document.baseURI).pathname}var _V=(()=>{class t{build(){return new XMLHttpRequest}static \u0275fac=function(r){return new(r||t)};static \u0275prov=z({token:t,factory:t.\u0275fac})}return t})(),NT=(()=>{class t extends Ac{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,i,o){return n.addEventListener(r,i,o),()=>this.removeEventListener(n,r,i,o)}removeEventListener(n,r,i,o){return n.removeEventListener(r,i,o)}static \u0275fac=function(r){return new(r||t)(ce(At))};static \u0275prov=z({token:t,factory:t.\u0275fac})}return t})(),MT=["alt","control","meta","shift"],IV={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},EV={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},PT=(()=>{class t extends Ac{constructor(n){super(n)}supports(n){return t.parseEventName(n)!=null}addEventListener(n,r,i,o){let s=t.parseEventName(r),a=t.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>pn().onAndCancel(n,s.domEventName,a,o))}static parseEventName(n){let r=n.toLowerCase().split("."),i=r.shift();if(r.length===0||!(i==="keydown"||i==="keyup"))return null;let o=t._normalizeKey(r.pop()),s="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),s="code."),MT.forEach(l=>{let h=r.indexOf(l);h>-1&&(r.splice(h,1),s+=l+".")}),s+=o,r.length!=0||o.length===0)return null;let u={};return u.domEventName=i,u.fullKey=s,u}static matchEventFullKeyCode(n,r){let i=IV[n.key]||n.key,o="";return r.indexOf("code.")>-1&&(i=n.code,o="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),MT.forEach(s=>{if(s!==i){let a=EV[s];a(n)&&(o+=s+".")}}),o+=i,o===r)}static eventCallback(n,r,i){return o=>{t.matchEventFullKeyCode(o,n)&&i.runGuarded(()=>r(o))}}static _normalizeKey(n){return n==="esc"?"escape":n}static \u0275fac=function(r){return new(r||t)(ce(At))};static \u0275prov=z({token:t,factory:t.\u0275fac})}return t})();function jy(t,e){return aT(j({rootComponent:t},wV(e)))}function wV(t){return{appProviders:[...SV,...t?.providers??[]],platformProviders:TV}}function CV(){Yd.makeCurrent()}function bV(){return new Ir}function DV(){return Hb(document),document}var TV=[{provide:oo,useValue:Ny},{provide:ty,useValue:CV,multi:!0},{provide:At,useFactory:DV}];var SV=[{provide:Td,useValue:"root"},{provide:Ir,useFactory:bV},{provide:Qd,useClass:NT,multi:!0,deps:[At]},{provide:Qd,useClass:PT,multi:!0,deps:[At]},Vy,Fy,Oy,{provide:ps,useExisting:Vy},{provide:Sc,useClass:_V},[]];var xT=(()=>{class t{_doc;constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}static \u0275fac=function(r){return new(r||t)(ce(At))};static \u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var se="primary",qc=Symbol("RouteTitle"),zy=class{params;constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function mo(t){return new zy(t)}function BT(t,e,n){let r=n.path.split("/");if(r.length>t.length||n.pathMatch==="full"&&(e.hasChildren()||r.length<t.length))return null;let i={};for(let o=0;o<r.length;o++){let s=r[o],a=t[o];if(s[0]===":")i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function RV(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!Zn(t[n],e[n]))return!1;return!0}function Zn(t,e){let n=t?qy(t):void 0,r=e?qy(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let o=0;o<n.length;o++)if(i=n[o],!$T(t[i],e[i]))return!1;return!0}function qy(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function $T(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;let n=[...t].sort(),r=[...e].sort();return n.every((i,o)=>r[o]===i)}else return t===e}function HT(t){return t.length>0?t[t.length-1]:null}function Ii(t){return Tg(t)?t:so(t)?je(Promise.resolve(t)):X(t)}var MV={exact:qT,subset:WT},zT={exact:NV,subset:PV,ignored:()=>!0};function kT(t,e,n){return MV[n.paths](t.root,e.root,n.matrixParams)&&zT[n.queryParams](t.queryParams,e.queryParams)&&!(n.fragment==="exact"&&t.fragment!==e.fragment)}function NV(t,e){return Zn(t,e)}function qT(t,e,n){if(!po(t.segments,e.segments)||!Xd(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!t.children[r]||!qT(t.children[r],e.children[r],n))return!1;return!0}function PV(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>$T(t[n],e[n]))}function WT(t,e,n){return GT(t,e,e.segments,n)}function GT(t,e,n,r){if(t.segments.length>n.length){let i=t.segments.slice(0,n.length);return!(!po(i,n)||e.hasChildren()||!Xd(i,n,r))}else if(t.segments.length===n.length){if(!po(t.segments,n)||!Xd(t.segments,n,r))return!1;for(let i in e.children)if(!t.children[i]||!WT(t.children[i],e.children[i],r))return!1;return!0}else{let i=n.slice(0,t.segments.length),o=n.slice(t.segments.length);return!po(t.segments,i)||!Xd(t.segments,i,r)||!t.children[se]?!1:GT(t.children[se],e,o,r)}}function Xd(t,e,n){return e.every((r,i)=>zT[n](t[i].parameters,r.parameters))}var Xn=class{root;queryParams;fragment;_queryParamMap;constructor(e=new Ae([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap??=mo(this.queryParams),this._queryParamMap}toString(){return OV.serialize(this)}},Ae=class{segments;children;parent=null;constructor(e,n){this.segments=e,this.children=n,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return eh(this)}},vi=class{path;parameters;_parameterMap;constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap??=mo(this.parameters),this._parameterMap}toString(){return QT(this)}};function xV(t,e){return po(t,e)&&t.every((n,r)=>Zn(n.parameters,e[r].parameters))}function po(t,e){return t.length!==e.length?!1:t.every((n,r)=>n.path===e[r].path)}function kV(t,e){let n=[];return Object.entries(t.children).forEach(([r,i])=>{r===se&&(n=n.concat(e(i,r)))}),Object.entries(t.children).forEach(([r,i])=>{r!==se&&(n=n.concat(e(i,r)))}),n}var Wc=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275prov=z({token:t,factory:()=>new yo,providedIn:"root"})}return t})(),yo=class{parse(e){let n=new Gy(e);return new Xn(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){let n=`/${Pc(e.root,!0)}`,r=VV(e.queryParams),i=typeof e.fragment=="string"?`#${FV(e.fragment)}`:"";return`${n}${r}${i}`}},OV=new yo;function eh(t){return t.segments.map(e=>QT(e)).join("/")}function Pc(t,e){if(!t.hasChildren())return eh(t);if(e){let n=t.children[se]?Pc(t.children[se],!1):"",r=[];return Object.entries(t.children).forEach(([i,o])=>{i!==se&&r.push(`${i}:${Pc(o,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}else{let n=kV(t,(r,i)=>i===se?[Pc(t.children[se],!1)]:[`${i}:${Pc(r,!1)}`]);return Object.keys(t.children).length===1&&t.children[se]!=null?`${eh(t)}/${n[0]}`:`${eh(t)}/(${n.join("//")})`}}function KT(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Zd(t){return KT(t).replace(/%3B/gi,";")}function FV(t){return encodeURI(t)}function Wy(t){return KT(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function th(t){return decodeURIComponent(t)}function OT(t){return th(t.replace(/\+/g,"%20"))}function QT(t){return`${Wy(t.path)}${LV(t.parameters)}`}function LV(t){return Object.entries(t).map(([e,n])=>`;${Wy(e)}=${Wy(n)}`).join("")}function VV(t){let e=Object.entries(t).map(([n,r])=>Array.isArray(r)?r.map(i=>`${Zd(n)}=${Zd(i)}`).join("&"):`${Zd(n)}=${Zd(r)}`).filter(n=>n);return e.length?`?${e.join("&")}`:""}var jV=/^[^\/()?;#]+/;function Uy(t){let e=t.match(jV);return e?e[0]:""}var UV=/^[^\/()?;=#]+/;function BV(t){let e=t.match(UV);return e?e[0]:""}var $V=/^[^=?&#]+/;function HV(t){let e=t.match($V);return e?e[0]:""}var zV=/^[^&#]+/;function qV(t){let e=t.match(zV);return e?e[0]:""}var Gy=class{url;remaining;constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new Ae([],{}):new Ae([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[se]=new Ae(e,n)),r}parseSegment(){let e=Uy(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new H(4009,!1);return this.capture(e),new vi(th(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let n=BV(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let i=Uy(this.remaining);i&&(r=i,this.capture(r))}e[th(n)]=th(r)}parseQueryParam(e){let n=HV(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let s=qV(this.remaining);s&&(r=s,this.capture(r))}let i=OT(n),o=OT(r);if(e.hasOwnProperty(i)){let s=e[i];Array.isArray(s)||(s=[s],e[i]=s),s.push(o)}else e[i]=o}parseParens(e){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=Uy(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new H(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=se);let s=this.parseChildren();n[o]=Object.keys(s).length===1?s[se]:new Ae([],s),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new H(4011,!1)}};function YT(t){return t.segments.length>0?new Ae([],{[se]:t}):t}function ZT(t){let e={};for(let[r,i]of Object.entries(t.children)){let o=ZT(i);if(r===se&&o.segments.length===0&&o.hasChildren())for(let[s,a]of Object.entries(o.children))e[s]=a;else(o.segments.length>0||o.hasChildren())&&(e[r]=o)}let n=new Ae(t.segments,e);return WV(n)}function WV(t){if(t.numberOfChildren===1&&t.children[se]){let e=t.children[se];return new Ae(t.segments.concat(e.segments),e.children)}return t}function _i(t){return t instanceof Xn}function JT(t,e,n=null,r=null){let i=XT(t);return eS(i,e,n,r)}function XT(t){let e;function n(o){let s={};for(let u of o.children){let l=n(u);s[u.outlet]=l}let a=new Ae(o.url,s);return o===t&&(e=a),a}let r=n(t.root),i=YT(r);return e??i}function eS(t,e,n,r){let i=t;for(;i.parent;)i=i.parent;if(e.length===0)return By(i,i,i,n,r);let o=GV(e);if(o.toRoot())return By(i,i,new Ae([],{}),n,r);let s=KV(o,i,t),a=s.processChildren?kc(s.segmentGroup,s.index,o.commands):nS(s.segmentGroup,s.index,o.commands);return By(i,s.segmentGroup,a,n,r)}function rh(t){return typeof t=="object"&&t!=null&&!t.outlets&&!t.segmentPath}function Fc(t){return typeof t=="object"&&t!=null&&t.outlets}function By(t,e,n,r,i){let o={};r&&Object.entries(r).forEach(([u,l])=>{o[u]=Array.isArray(l)?l.map(h=>`${h}`):`${l}`});let s;t===e?s=n:s=tS(t,e,n);let a=YT(ZT(s));return new Xn(a,o,i)}function tS(t,e,n){let r={};return Object.entries(t.children).forEach(([i,o])=>{o===e?r[i]=n:r[i]=tS(o,e,n)}),new Ae(t.segments,r)}var ih=class{isAbsolute;numberOfDoubleDots;commands;constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&rh(r[0]))throw new H(4003,!1);let i=r.find(Fc);if(i&&i!==HT(r))throw new H(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function GV(t){if(typeof t[0]=="string"&&t.length===1&&t[0]==="/")return new ih(!0,0,t);let e=0,n=!1,r=t.reduce((i,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let a={};return Object.entries(o.outlets).forEach(([u,l])=>{a[u]=typeof l=="string"?l.split("/"):l}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return typeof o!="string"?[...i,o]:s===0?(o.split("/").forEach((a,u)=>{u==0&&a==="."||(u==0&&a===""?n=!0:a===".."?e++:a!=""&&i.push(a))}),i):[...i,o]},[]);return new ih(n,e,r)}var Ms=class{segmentGroup;processChildren;index;constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}};function KV(t,e,n){if(t.isAbsolute)return new Ms(e,!0,0);if(!n)return new Ms(e,!1,NaN);if(n.parent===null)return new Ms(n,!0,0);let r=rh(t.commands[0])?0:1,i=n.segments.length-1+r;return QV(n,i,t.numberOfDoubleDots)}function QV(t,e,n){let r=t,i=e,o=n;for(;o>i;){if(o-=i,r=r.parent,!r)throw new H(4005,!1);i=r.segments.length}return new Ms(r,!1,i-o)}function YV(t){return Fc(t[0])?t[0].outlets:{[se]:t}}function nS(t,e,n){if(t??=new Ae([],{}),t.segments.length===0&&t.hasChildren())return kc(t,e,n);let r=ZV(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){let o=new Ae(t.segments.slice(0,r.pathIndex),{});return o.children[se]=new Ae(t.segments.slice(r.pathIndex),t.children),kc(o,0,i)}else return r.match&&i.length===0?new Ae(t.segments,{}):r.match&&!t.hasChildren()?Ky(t,e,n):r.match?kc(t,0,i):Ky(t,e,n)}function kc(t,e,n){if(n.length===0)return new Ae(t.segments,{});{let r=YV(n),i={};if(Object.keys(r).some(o=>o!==se)&&t.children[se]&&t.numberOfChildren===1&&t.children[se].segments.length===0){let o=kc(t.children[se],e,n);return new Ae(t.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(i[o]=nS(t.children[o],e,s))}),Object.entries(t.children).forEach(([o,s])=>{r[o]===void 0&&(i[o]=s)}),new Ae(t.segments,i)}}function ZV(t,e,n){let r=0,i=e,o={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return o;let s=t.segments[i],a=n[r];if(Fc(a))break;let u=`${a}`,l=r<n.length-1?n[r+1]:null;if(i>0&&u===void 0)break;if(u&&l&&typeof l=="object"&&l.outlets===void 0){if(!LT(u,l,s))return o;r+=2}else{if(!LT(u,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function Ky(t,e,n){let r=t.segments.slice(0,e),i=0;for(;i<n.length;){let o=n[i];if(Fc(o)){let u=JV(o.outlets);return new Ae(r,u)}if(i===0&&rh(n[0])){let u=t.segments[e];r.push(new vi(u.path,FT(n[0]))),i++;continue}let s=Fc(o)?o.outlets[se]:`${o}`,a=i<n.length-1?n[i+1]:null;s&&a&&rh(a)?(r.push(new vi(s,FT(a))),i+=2):(r.push(new vi(s,{})),i++)}return new Ae(r,{})}function JV(t){let e={};return Object.entries(t).forEach(([n,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[n]=Ky(new Ae([],{}),0,r))}),e}function FT(t){let e={};return Object.entries(t).forEach(([n,r])=>e[n]=`${r}`),e}function LT(t,e,n){return t==n.path&&Zn(e,n.parameters)}var nh="imperative",lt=function(t){return t[t.NavigationStart=0]="NavigationStart",t[t.NavigationEnd=1]="NavigationEnd",t[t.NavigationCancel=2]="NavigationCancel",t[t.NavigationError=3]="NavigationError",t[t.RoutesRecognized=4]="RoutesRecognized",t[t.ResolveStart=5]="ResolveStart",t[t.ResolveEnd=6]="ResolveEnd",t[t.GuardsCheckStart=7]="GuardsCheckStart",t[t.GuardsCheckEnd=8]="GuardsCheckEnd",t[t.RouteConfigLoadStart=9]="RouteConfigLoadStart",t[t.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",t[t.ChildActivationStart=11]="ChildActivationStart",t[t.ChildActivationEnd=12]="ChildActivationEnd",t[t.ActivationStart=13]="ActivationStart",t[t.ActivationEnd=14]="ActivationEnd",t[t.Scroll=15]="Scroll",t[t.NavigationSkipped=16]="NavigationSkipped",t}(lt||{}),nn=class{id;url;constructor(e,n){this.id=e,this.url=n}},vo=class extends nn{type=lt.NavigationStart;navigationTrigger;restoredState;constructor(e,n,r="imperative",i=null){super(e,n),this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},er=class extends nn{urlAfterRedirects;type=lt.NavigationEnd;constructor(e,n,r){super(e,n),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},Zt=function(t){return t[t.Redirect=0]="Redirect",t[t.SupersededByNewNavigation=1]="SupersededByNewNavigation",t[t.NoDataFromResolver=2]="NoDataFromResolver",t[t.GuardRejected=3]="GuardRejected",t}(Zt||{}),Lc=function(t){return t[t.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",t[t.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",t}(Lc||{}),Jn=class extends nn{reason;code;type=lt.NavigationCancel;constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},Mr=class extends nn{reason;code;type=lt.NavigationSkipped;constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i}},Ps=class extends nn{error;target;type=lt.NavigationError;constructor(e,n,r,i){super(e,n),this.error=r,this.target=i}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},Vc=class extends nn{urlAfterRedirects;state;type=lt.RoutesRecognized;constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},oh=class extends nn{urlAfterRedirects;state;type=lt.GuardsCheckStart;constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},sh=class extends nn{urlAfterRedirects;state;shouldActivate;type=lt.GuardsCheckEnd;constructor(e,n,r,i,o){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},ah=class extends nn{urlAfterRedirects;state;type=lt.ResolveStart;constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},ch=class extends nn{urlAfterRedirects;state;type=lt.ResolveEnd;constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},uh=class{route;type=lt.RouteConfigLoadStart;constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},lh=class{route;type=lt.RouteConfigLoadEnd;constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},dh=class{snapshot;type=lt.ChildActivationStart;constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},hh=class{snapshot;type=lt.ChildActivationEnd;constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},fh=class{snapshot;type=lt.ActivationStart;constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},ph=class{snapshot;type=lt.ActivationEnd;constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}};var jc=class{},xs=class{url;navigationBehaviorOptions;constructor(e,n){this.url=e,this.navigationBehaviorOptions=n}};function XV(t,e){return t.providers&&!t._injector&&(t._injector=Ud(t.providers,e,`Route: ${t.path}`)),t._injector??e}function Nn(t){return t.outlet||se}function e2(t,e){let n=t.filter(r=>Nn(r)===e);return n.push(...t.filter(r=>Nn(r)!==e)),n}function Gc(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){let n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}var gh=class{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return Gc(this.route?.snapshot)??this.rootInjector}constructor(e){this.rootInjector=e,this.children=new Fs(this.rootInjector)}},Fs=(()=>{class t{rootInjector;contexts=new Map;constructor(n){this.rootInjector=n}onChildOutletCreated(n,r){let i=this.getOrCreateContext(n);i.outlet=r,this.contexts.set(n,i)}onChildOutletDestroyed(n){let r=this.getContext(n);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let r=this.getContext(n);return r||(r=new gh(this.rootInjector),this.contexts.set(n,r)),r}getContext(n){return this.contexts.get(n)||null}static \u0275fac=function(r){return new(r||t)(ce(Ft))};static \u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),mh=class{_root;constructor(e){this._root=e}get root(){return this._root.value}parent(e){let n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){let n=Qy(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){let n=Qy(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){let n=Yy(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return Yy(e,this._root).map(n=>n.value)}};function Qy(t,e){if(t===e.value)return e;for(let n of e.children){let r=Qy(t,n);if(r)return r}return null}function Yy(t,e){if(t===e.value)return[e];for(let n of e.children){let r=Yy(t,n);if(r.length)return r.unshift(e),r}return[]}var tn=class{value;children;constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}};function Rs(t){let e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}var Uc=class extends mh{snapshot;constructor(e,n){super(e),this.snapshot=n,iv(this,e)}toString(){return this.snapshot.toString()}};function rS(t){let e=t2(t),n=new yt([new vi("",{})]),r=new yt({}),i=new yt({}),o=new yt({}),s=new yt(""),a=new Pn(n,r,o,s,i,se,t,e.root);return a.snapshot=e.root,new Uc(new tn(a,[]),e)}function t2(t){let e={},n={},r={},i="",o=new go([],e,r,i,n,se,t,null,{});return new Bc("",new tn(o,[]))}var Pn=class{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(e,n,r,i,o,s,a,u){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=u,this.title=this.dataSubject?.pipe(re(l=>l[qc]))??X(void 0),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(re(e=>mo(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(re(e=>mo(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function yh(t,e,n="emptyOnly"){let r,{routeConfig:i}=t;return e!==null&&(n==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:j(j({},e.params),t.params),data:j(j({},e.data),t.data),resolve:j(j(j(j({},t.data),e.data),i?.data),t._resolvedData)}:r={params:j({},t.params),data:j({},t.data),resolve:j(j({},t.data),t._resolvedData??{})},i&&oS(i)&&(r.resolve[qc]=i.title),r}var go=class{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;get title(){return this.data?.[qc]}constructor(e,n,r,i,o,s,a,u,l){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=u,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=mo(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=mo(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${n}')`}},Bc=class extends mh{url;constructor(e,n){super(n),this.url=e,iv(this,n)}toString(){return iS(this._root)}};function iv(t,e){e.value._routerState=t,e.children.forEach(n=>iv(t,n))}function iS(t){let e=t.children.length>0?` { ${t.children.map(iS).join(", ")} } `:"";return`${t.value}${e}`}function $y(t){if(t.snapshot){let e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,Zn(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),Zn(e.params,n.params)||t.paramsSubject.next(n.params),RV(e.url,n.url)||t.urlSubject.next(n.url),Zn(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function Zy(t,e){let n=Zn(t.params,e.params)&&xV(t.url,e.url),r=!t.parent!=!e.parent;return n&&!r&&(!t.parent||Zy(t.parent,e.parent))}function oS(t){return typeof t.title=="string"||t.title===null}var sS=new $(""),Kc=(()=>{class t{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=se;activateEvents=new Ue;deactivateEvents=new Ue;attachEvents=new Ue;detachEvents=new Ue;routerOutletData=Ob(void 0);parentContexts=P(Fs);location=P(jd);changeDetector=P(Ds);inputBinder=P(Qc,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(n){if(n.name){let{firstChange:r,previousValue:i}=n.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(n){return this.parentContexts.getContext(n)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let n=this.parentContexts.getContext(this.name);n?.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new H(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new H(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new H(4012,!1);this.location.detach();let n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,r){this.activated=n,this._activatedRoute=r,this.location.insert(n.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){let n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,r){if(this.isActivated)throw new H(4013,!1);this._activatedRoute=n;let i=this.location,s=n.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,u=new Jy(n,a,i.injector,this.routerOutletData);this.activated=i.createComponent(s,{index:i.length,injector:u,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(r){return new(r||t)};static \u0275dir=Qe({type:t,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[ui]})}return t})(),Jy=class{route;childContexts;parent;outletData;constructor(e,n,r,i){this.route=e,this.childContexts=n,this.parent=r,this.outletData=i}get(e,n){return e===Pn?this.route:e===Fs?this.childContexts:e===sS?this.outletData:this.parent.get(e,n)}},Qc=new $(""),ov=(()=>{class t{outletDataSubscriptions=new Map;bindActivatedRouteToOutletComponent(n){this.unsubscribeFromRouteData(n),this.subscribeToRouteData(n)}unsubscribeFromRouteData(n){this.outletDataSubscriptions.get(n)?.unsubscribe(),this.outletDataSubscriptions.delete(n)}subscribeToRouteData(n){let{activatedRoute:r}=n,i=nc([r.queryParams,r.params,r.data]).pipe(cn(([o,s,a],u)=>(a=j(j(j({},o),s),a),u===0?X(a):Promise.resolve(a)))).subscribe(o=>{if(!n.isActivated||!n.activatedComponentRef||n.activatedRoute!==r||r.component===null){this.unsubscribeFromRouteData(n);return}let s=cT(r.component);if(!s){this.unsubscribeFromRouteData(n);return}for(let{templateName:a}of s.inputs)n.activatedComponentRef.setInput(a,o[a])});this.outletDataSubscriptions.set(n,i)}static \u0275fac=function(r){return new(r||t)};static \u0275prov=z({token:t,factory:t.\u0275fac})}return t})();function n2(t,e,n){let r=$c(t,e._root,n?n._root:void 0);return new Uc(r,e)}function $c(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){let r=n.value;r._futureSnapshot=e.value;let i=r2(t,e,n);return new tn(r,i)}else{if(t.shouldAttach(e.value)){let o=t.retrieve(e.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>$c(t,a)),s}}let r=i2(e.value),i=e.children.map(o=>$c(t,o));return new tn(r,i)}}function r2(t,e,n){return e.children.map(r=>{for(let i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return $c(t,r,i);return $c(t,r)})}function i2(t){return new Pn(new yt(t.url),new yt(t.params),new yt(t.queryParams),new yt(t.fragment),new yt(t.data),t.outlet,t.component,t)}var ks=class{redirectTo;navigationBehaviorOptions;constructor(e,n){this.redirectTo=e,this.navigationBehaviorOptions=n}},aS="ngNavigationCancelingError";function vh(t,e){let{redirectTo:n,navigationBehaviorOptions:r}=_i(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=cS(!1,Zt.Redirect);return i.url=n,i.navigationBehaviorOptions=r,i}function cS(t,e){let n=new Error(`NavigationCancelingError: ${t||""}`);return n[aS]=!0,n.cancellationCode=e,n}function o2(t){return uS(t)&&_i(t.url)}function uS(t){return!!t&&t[aS]}var s2=(t,e,n,r)=>re(i=>(new Xy(e,i.targetRouterState,i.currentRouterState,n,r).activate(t),i)),Xy=class{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(e,n,r,i,o){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(e){let n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),$y(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){let i=Rs(n);e.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(e,n,r){let i=e.value,o=n?n.value:null;if(i===o)if(i.component){let s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(e,n,s.children)}else this.deactivateChildRoutes(e,n,r);else o&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,o=Rs(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);if(r&&r.outlet){let s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,o=Rs(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,n,r){let i=Rs(n);e.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new ph(o.value.snapshot))}),e.children.length&&this.forwardEvent(new hh(e.value.snapshot))}activateRoutes(e,n,r){let i=e.value,o=n?n.value:null;if($y(i),i===o)if(i.component){let s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,s.children)}else this.activateChildRoutes(e,n,r);else if(i.component){let s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),$y(a.route.value),this.activateChildRoutes(e,null,s.children)}else s.attachRef=null,s.route=i,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(e,null,s.children)}else this.activateChildRoutes(e,null,r)}},_h=class{path;route;constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},Ns=class{component;route;constructor(e,n){this.component=e,this.route=n}};function a2(t,e,n){let r=t._root,i=e?e._root:null;return xc(r,i,n,[r.value])}function c2(t){let e=t.routeConfig?t.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:t,guards:e}}function Ls(t,e){let n=Symbol(),r=e.get(t,n);return r===n?typeof t=="function"&&!RC(t)?t:e.get(t):r}function xc(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=Rs(e);return t.children.forEach(s=>{u2(s,o[s.value.outlet],n,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>Oc(a,n.getContext(s),i)),i}function u2(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=t.value,s=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let u=l2(s,o,o.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new _h(r)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?xc(t,e,a?a.children:null,r,i):xc(t,e,n,r,i),u&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new Ns(a.outlet.component,s))}else s&&Oc(e,a,i),i.canActivateChecks.push(new _h(r)),o.component?xc(t,null,a?a.children:null,r,i):xc(t,null,n,r,i);return i}function l2(t,e,n){if(typeof n=="function")return n(t,e);switch(n){case"pathParamsChange":return!po(t.url,e.url);case"pathParamsOrQueryParamsChange":return!po(t.url,e.url)||!Zn(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Zy(t,e)||!Zn(t.queryParams,e.queryParams);case"paramsChange":default:return!Zy(t,e)}}function Oc(t,e,n){let r=Rs(t),i=t.value;Object.entries(r).forEach(([o,s])=>{i.component?e?Oc(s,e.children.getContext(o),n):Oc(s,null,n):Oc(s,e,n)}),i.component?e&&e.outlet&&e.outlet.isActivated?n.canDeactivateChecks.push(new Ns(e.outlet.component,i)):n.canDeactivateChecks.push(new Ns(null,i)):n.canDeactivateChecks.push(new Ns(null,i))}function Yc(t){return typeof t=="function"}function d2(t){return typeof t=="boolean"}function h2(t){return t&&Yc(t.canLoad)}function f2(t){return t&&Yc(t.canActivate)}function p2(t){return t&&Yc(t.canActivateChild)}function g2(t){return t&&Yc(t.canDeactivate)}function m2(t){return t&&Yc(t.canMatch)}function lS(t){return t instanceof mr||t?.name==="EmptyError"}var Jd=Symbol("INITIAL_VALUE");function Os(){return cn(t=>nc(t.map(e=>e.pipe(yr(1),Bl(Jd)))).pipe(re(e=>{for(let n of e)if(n!==!0){if(n===Jd)return Jd;if(n===!1||y2(n))return n}return!0}),an(e=>e!==Jd),yr(1)))}function y2(t){return _i(t)||t instanceof ks}function v2(t,e){return rt(n=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=n;return s.length===0&&o.length===0?X(fe(j({},n),{guardsResult:!0})):_2(s,r,i,t).pipe(rt(a=>a&&d2(a)?I2(r,o,t,e):X(a)),re(a=>fe(j({},n),{guardsResult:a})))})}function _2(t,e,n,r){return je(t).pipe(rt(i=>D2(i.component,i.route,n,e,r)),vr(i=>i!==!0,!0))}function I2(t,e,n,r){return je(e).pipe(ns(i=>ts(w2(i.route.parent,r),E2(i.route,r),b2(t,i.path,n),C2(t,i.route,n))),vr(i=>i!==!0,!0))}function E2(t,e){return t!==null&&e&&e(new fh(t)),X(!0)}function w2(t,e){return t!==null&&e&&e(new dh(t)),X(!0)}function C2(t,e,n){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return X(!0);let i=r.map(o=>Vl(()=>{let s=Gc(e)??n,a=Ls(o,s),u=f2(a)?a.canActivate(e,t):jt(s,()=>a(e,t));return Ii(u).pipe(vr())}));return X(i).pipe(Os())}function b2(t,e,n){let r=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>c2(s)).filter(s=>s!==null).map(s=>Vl(()=>{let a=s.guards.map(u=>{let l=Gc(s.node)??n,h=Ls(u,l),p=p2(h)?h.canActivateChild(r,t):jt(l,()=>h(r,t));return Ii(p).pipe(vr())});return X(a).pipe(Os())}));return X(o).pipe(Os())}function D2(t,e,n,r,i){let o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||o.length===0)return X(!0);let s=o.map(a=>{let u=Gc(e)??i,l=Ls(a,u),h=g2(l)?l.canDeactivate(t,e,n,r):jt(u,()=>l(t,e,n,r));return Ii(h).pipe(vr())});return X(s).pipe(Os())}function T2(t,e,n,r){let i=e.canLoad;if(i===void 0||i.length===0)return X(!0);let o=i.map(s=>{let a=Ls(s,t),u=h2(a)?a.canLoad(e,n):jt(t,()=>a(e,n));return Ii(u)});return X(o).pipe(Os(),dS(r))}function dS(t){return vl(vt(e=>{if(typeof e!="boolean")throw vh(t,e)}),re(e=>e===!0))}function S2(t,e,n,r){let i=e.canMatch;if(!i||i.length===0)return X(!0);let o=i.map(s=>{let a=Ls(s,t),u=m2(a)?a.canMatch(e,n):jt(t,()=>a(e,n));return Ii(u)});return X(o).pipe(Os(),dS(r))}var Hc=class{segmentGroup;constructor(e){this.segmentGroup=e||null}},zc=class extends Error{urlTree;constructor(e){super(),this.urlTree=e}};function As(t){return es(new Hc(t))}function A2(t){return es(new H(4e3,!1))}function R2(t){return es(cS(!1,Zt.GuardRejected))}var ev=class{urlSerializer;urlTree;constructor(e,n){this.urlSerializer=e,this.urlTree=n}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return X(r);if(i.numberOfChildren>1||!i.children[se])return A2(`${e.redirectTo}`);i=i.children[se]}}applyRedirectCommands(e,n,r,i,o){if(typeof n!="string"){let a=n,{queryParams:u,fragment:l,routeConfig:h,url:p,outlet:y,params:m,data:D,title:k}=i,x=jt(o,()=>a({params:m,data:D,queryParams:u,fragment:l,routeConfig:h,url:p,outlet:y,title:k}));if(x instanceof Xn)throw new zc(x);n=x}let s=this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,r);if(n[0]==="/")throw new zc(s);return s}applyRedirectCreateUrlTree(e,n,r,i){let o=this.createSegmentGroup(e,n.root,r,i);return new Xn(o,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){let r={};return Object.entries(e).forEach(([i,o])=>{if(typeof o=="string"&&o[0]===":"){let a=o.substring(1);r[i]=n[a]}else r[i]=o}),r}createSegmentGroup(e,n,r,i){let o=this.createSegments(e,n.segments,r,i),s={};return Object.entries(n.children).forEach(([a,u])=>{s[a]=this.createSegmentGroup(e,u,r,i)}),new Ae(o,s)}createSegments(e,n,r,i){return n.map(o=>o.path[0]===":"?this.findPosParam(e,o,i):this.findOrReturn(o,r))}findPosParam(e,n,r){let i=r[n.path.substring(1)];if(!i)throw new H(4001,!1);return i}findOrReturn(e,n){let r=0;for(let i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}},tv={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function M2(t,e,n,r,i){let o=hS(t,e,n);return o.matched?(r=XV(e,r),S2(r,e,n,i).pipe(re(s=>s===!0?o:j({},tv)))):X(o)}function hS(t,e,n){if(e.path==="**")return N2(n);if(e.path==="")return e.pathMatch==="full"&&(t.hasChildren()||n.length>0)?j({},tv):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let i=(e.matcher||BT)(n,t,e);if(!i)return j({},tv);let o={};Object.entries(i.posParams??{}).forEach(([a,u])=>{o[a]=u.path});let s=i.consumed.length>0?j(j({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function N2(t){return{matched:!0,parameters:t.length>0?HT(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}function VT(t,e,n,r){return n.length>0&&k2(t,n,r)?{segmentGroup:new Ae(e,x2(r,new Ae(n,t.children))),slicedSegments:[]}:n.length===0&&O2(t,n,r)?{segmentGroup:new Ae(t.segments,P2(t,n,r,t.children)),slicedSegments:n}:{segmentGroup:new Ae(t.segments,t.children),slicedSegments:n}}function P2(t,e,n,r){let i={};for(let o of n)if(Eh(t,e,o)&&!r[Nn(o)]){let s=new Ae([],{});i[Nn(o)]=s}return j(j({},r),i)}function x2(t,e){let n={};n[se]=e;for(let r of t)if(r.path===""&&Nn(r)!==se){let i=new Ae([],{});n[Nn(r)]=i}return n}function k2(t,e,n){return n.some(r=>Eh(t,e,r)&&Nn(r)!==se)}function O2(t,e,n){return n.some(r=>Eh(t,e,r))}function Eh(t,e,n){return(t.hasChildren()||e.length>0)&&n.pathMatch==="full"?!1:n.path===""}function F2(t,e,n){return e.length===0&&!t.children[n]}var nv=class{};function L2(t,e,n,r,i,o,s="emptyOnly"){return new rv(t,e,n,r,i,s,o).recognize()}var V2=31,rv=class{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(e,n,r,i,o,s,a){this.injector=e,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new ev(this.urlSerializer,this.urlTree)}noMatchError(e){return new H(4002,`'${e.segmentGroup}'`)}recognize(){let e=VT(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(re(({children:n,rootSnapshot:r})=>{let i=new tn(r,n),o=new Bc("",i),s=JT(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),{state:o,tree:s}}))}match(e){let n=new go([],Object.freeze({}),Object.freeze(j({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),se,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,e,se,n).pipe(re(r=>({children:r,rootSnapshot:n})),oi(r=>{if(r instanceof zc)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof Hc?this.noMatchError(r):r}))}processSegmentGroup(e,n,r,i,o){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,n,r,o):this.processSegment(e,n,r,r.segments,i,!0,o).pipe(re(s=>s instanceof tn?[s]:[]))}processChildren(e,n,r,i){let o=[];for(let s of Object.keys(r.children))s==="primary"?o.unshift(s):o.push(s);return je(o).pipe(ns(s=>{let a=r.children[s],u=e2(n,s);return this.processSegmentGroup(e,u,a,s,i)}),Ul((s,a)=>(s.push(...a),s)),si(null),Ag(),rt(s=>{if(s===null)return As(r);let a=fS(s);return j2(a),X(a)}))}processSegment(e,n,r,i,o,s,a){return je(n).pipe(ns(u=>this.processSegmentAgainstRoute(u._injector??e,n,u,r,i,o,s,a).pipe(oi(l=>{if(l instanceof Hc)return X(null);throw l}))),vr(u=>!!u),oi(u=>{if(lS(u))return F2(r,i,o)?X(new nv):As(r);throw u}))}processSegmentAgainstRoute(e,n,r,i,o,s,a,u){return Nn(r)!==s&&(s===se||!Eh(i,o,r))?As(i):r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,o,s,u):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,i,n,r,o,s,u):As(i)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,o,s,a){let{matched:u,parameters:l,consumedSegments:h,positionalParamSegments:p,remainingSegments:y}=hS(n,i,o);if(!u)return As(n);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>V2&&(this.allowRedirects=!1));let m=new go(o,l,Object.freeze(j({},this.urlTree.queryParams)),this.urlTree.fragment,jT(i),Nn(i),i.component??i._loadedComponent??null,i,UT(i)),D=yh(m,a,this.paramsInheritanceStrategy);m.params=Object.freeze(D.params),m.data=Object.freeze(D.data);let k=this.applyRedirects.applyRedirectCommands(h,i.redirectTo,p,m,e);return this.applyRedirects.lineralizeSegments(i,k).pipe(rt(x=>this.processSegment(e,r,n,x.concat(y),s,!1,a)))}matchSegmentAgainstRoute(e,n,r,i,o,s){let a=M2(n,r,i,e,this.urlSerializer);return r.path==="**"&&(n.children={}),a.pipe(cn(u=>u.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(cn(({routes:l})=>{let h=r._loadedInjector??e,{parameters:p,consumedSegments:y,remainingSegments:m}=u,D=new go(y,p,Object.freeze(j({},this.urlTree.queryParams)),this.urlTree.fragment,jT(r),Nn(r),r.component??r._loadedComponent??null,r,UT(r)),k=yh(D,s,this.paramsInheritanceStrategy);D.params=Object.freeze(k.params),D.data=Object.freeze(k.data);let{segmentGroup:x,slicedSegments:U}=VT(n,y,m,l);if(U.length===0&&x.hasChildren())return this.processChildren(h,l,x,D).pipe(re(J=>new tn(D,J)));if(l.length===0&&U.length===0)return X(new tn(D,[]));let K=Nn(r)===o;return this.processSegment(h,l,x,U,K?se:o,!0,D).pipe(re(J=>new tn(D,J instanceof tn?[J]:[])))}))):As(n)))}getChildConfig(e,n,r){return n.children?X({routes:n.children,injector:e}):n.loadChildren?n._loadedRoutes!==void 0?X({routes:n._loadedRoutes,injector:n._loadedInjector}):T2(e,n,r,this.urlSerializer).pipe(rt(i=>i?this.configLoader.loadChildren(e,n).pipe(vt(o=>{n._loadedRoutes=o.routes,n._loadedInjector=o.injector})):R2(n))):X({routes:[],injector:e})}};function j2(t){t.sort((e,n)=>e.value.outlet===se?-1:n.value.outlet===se?1:e.value.outlet.localeCompare(n.value.outlet))}function U2(t){let e=t.value.routeConfig;return e&&e.path===""}function fS(t){let e=[],n=new Set;for(let r of t){if(!U2(r)){e.push(r);continue}let i=e.find(o=>r.value.routeConfig===o.value.routeConfig);i!==void 0?(i.children.push(...r.children),n.add(i)):e.push(r)}for(let r of n){let i=fS(r.children);e.push(new tn(r.value,i))}return e.filter(r=>!n.has(r))}function jT(t){return t.data||{}}function UT(t){return t.resolve||{}}function B2(t,e,n,r,i,o){return rt(s=>L2(t,e,n,r,s.extractedUrl,i,o).pipe(re(({state:a,tree:u})=>fe(j({},s),{targetSnapshot:a,urlAfterRedirects:u}))))}function $2(t,e){return rt(n=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return X(n);let o=new Set(i.map(u=>u.route)),s=new Set;for(let u of o)if(!s.has(u))for(let l of pS(u))s.add(l);let a=0;return je(s).pipe(ns(u=>o.has(u)?H2(u,r,t,e):(u.data=yh(u,u.parent,t).resolve,X(void 0))),vt(()=>a++),rs(1),rt(u=>a===s.size?X(n):Ht))})}function pS(t){let e=t.children.map(n=>pS(n)).flat();return[t,...e]}function H2(t,e,n,r){let i=t.routeConfig,o=t._resolve;return i?.title!==void 0&&!oS(i)&&(o[qc]=i.title),z2(o,t,e,r).pipe(re(s=>(t._resolvedData=s,t.data=yh(t,t.parent,n).resolve,null)))}function z2(t,e,n,r){let i=qy(t);if(i.length===0)return X({});let o={};return je(i).pipe(rt(s=>q2(t[s],e,n,r).pipe(vr(),vt(a=>{if(a instanceof ks)throw vh(new yo,a);o[s]=a}))),rs(1),re(()=>o),oi(s=>lS(s)?Ht:es(s)))}function q2(t,e,n,r){let i=Gc(e)??r,o=Ls(t,i),s=o.resolve?o.resolve(e,n):jt(i,()=>o(e,n));return Ii(s)}function Hy(t){return cn(e=>{let n=t(e);return n?je(n).pipe(re(()=>e)):X(e)})}var sv=(()=>{class t{buildTitle(n){let r,i=n.root;for(;i!==void 0;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(o=>o.outlet===se);return r}getResolvedTitleForRoute(n){return n.data[qc]}static \u0275fac=function(r){return new(r||t)};static \u0275prov=z({token:t,factory:()=>P(gS),providedIn:"root"})}return t})(),gS=(()=>{class t extends sv{title;constructor(n){super(),this.title=n}updateTitle(n){let r=this.buildTitle(n);r!==void 0&&this.title.setTitle(r)}static \u0275fac=function(r){return new(r||t)(ce(xT))};static \u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Zc=new $("",{providedIn:"root",factory:()=>({})}),av=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275cmp=ee({type:t,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(r,i){r&1&&Q(0,"router-outlet")},dependencies:[Kc],encapsulation:2})}return t})();function cv(t){let e=t.children&&t.children.map(cv),n=e?fe(j({},t),{children:e}):j({},t);return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==se&&(n.component=av),n}var Jc=new $(""),mS=(()=>{class t{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=P(nT);loadComponent(n){if(this.componentLoaders.get(n))return this.componentLoaders.get(n);if(n._loadedComponent)return X(n._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(n);let r=Ii(n.loadComponent()).pipe(re(vS),vt(o=>{this.onLoadEndListener&&this.onLoadEndListener(n),n._loadedComponent=o}),rc(()=>{this.componentLoaders.delete(n)})),i=new Yo(r,()=>new Ye).pipe(Qo());return this.componentLoaders.set(n,i),i}loadChildren(n,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return X({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let o=yS(r,this.compiler,n,this.onLoadEndListener).pipe(rc(()=>{this.childrenLoaders.delete(r)})),s=new Yo(o,()=>new Ye).pipe(Qo());return this.childrenLoaders.set(r,s),s}static \u0275fac=function(r){return new(r||t)};static \u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function yS(t,e,n,r){return Ii(t.loadChildren()).pipe(re(vS),rt(i=>i instanceof _y||Array.isArray(i)?X(i):je(e.compileModuleAsync(i))),re(i=>{r&&r(t);let o,s,a=!1;return Array.isArray(i)?(s=i,a=!0):(o=i.create(n).injector,s=o.get(Jc,[],{optional:!0,self:!0}).flat()),{routes:s.map(cv),injector:o}}))}function W2(t){return t&&typeof t=="object"&&"default"in t}function vS(t){return W2(t)?t.default:t}var wh=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275prov=z({token:t,factory:()=>P(G2),providedIn:"root"})}return t})(),G2=(()=>{class t{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,r){return n}static \u0275fac=function(r){return new(r||t)};static \u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),_S=new $("");var IS=new $(""),ES=(()=>{class t{currentNavigation=null;currentTransition=null;lastSuccessfulNavigation=null;events=new Ye;transitionAbortSubject=new Ye;configLoader=P(mS);environmentInjector=P(Ft);destroyRef=P(Ic);urlSerializer=P(Wc);rootContexts=P(Fs);location=P(yi);inputBindingEnabled=P(Qc,{optional:!0})!==null;titleStrategy=P(sv);options=P(Zc,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=P(wh);createViewTransition=P(_S,{optional:!0});navigationErrorHandler=P(IS,{optional:!0});navigationId=0;get hasRequestedNavigation(){return this.navigationId!==0}transitions;afterPreactivation=()=>X(void 0);rootComponentType=null;destroyed=!1;constructor(){let n=i=>this.events.next(new uh(i)),r=i=>this.events.next(new lh(i));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=n,this.destroyRef.onDestroy(()=>{this.destroyed=!0})}complete(){this.transitions?.complete()}handleNavigationRequest(n){let r=++this.navigationId;this.transitions?.next(fe(j({},n),{extractedUrl:this.urlHandlingStrategy.extract(n.rawUrl),targetSnapshot:null,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null,id:r}))}setupNavigations(n){return this.transitions=new yt(null),this.transitions.pipe(an(r=>r!==null),cn(r=>{let i=!1,o=!1;return X(r).pipe(cn(s=>{if(this.navigationId>r.id)return this.cancelNavigationTransition(r,"",Zt.SupersededByNewNavigation),Ht;this.currentTransition=r,this.currentNavigation={id:s.id,initialUrl:s.rawUrl,extractedUrl:s.extractedUrl,targetBrowserUrl:typeof s.extras.browserUrl=="string"?this.urlSerializer.parse(s.extras.browserUrl):s.extras.browserUrl,trigger:s.source,extras:s.extras,previousNavigation:this.lastSuccessfulNavigation?fe(j({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let a=!n.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),u=s.extras.onSameUrlNavigation??n.onSameUrlNavigation;if(!a&&u!=="reload"){let l="";return this.events.next(new Mr(s.id,this.urlSerializer.serialize(s.rawUrl),l,Lc.IgnoredSameUrlNavigation)),s.resolve(!1),Ht}if(this.urlHandlingStrategy.shouldProcessUrl(s.rawUrl))return X(s).pipe(cn(l=>(this.events.next(new vo(l.id,this.urlSerializer.serialize(l.extractedUrl),l.source,l.restoredState)),l.id!==this.navigationId?Ht:Promise.resolve(l))),B2(this.environmentInjector,this.configLoader,this.rootComponentType,n.config,this.urlSerializer,this.paramsInheritanceStrategy),vt(l=>{r.targetSnapshot=l.targetSnapshot,r.urlAfterRedirects=l.urlAfterRedirects,this.currentNavigation=fe(j({},this.currentNavigation),{finalUrl:l.urlAfterRedirects});let h=new Vc(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(h)}));if(a&&this.urlHandlingStrategy.shouldProcessUrl(s.currentRawUrl)){let{id:l,extractedUrl:h,source:p,restoredState:y,extras:m}=s,D=new vo(l,this.urlSerializer.serialize(h),p,y);this.events.next(D);let k=rS(this.rootComponentType).snapshot;return this.currentTransition=r=fe(j({},s),{targetSnapshot:k,urlAfterRedirects:h,extras:fe(j({},m),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=h,X(r)}else{let l="";return this.events.next(new Mr(s.id,this.urlSerializer.serialize(s.extractedUrl),l,Lc.IgnoredByUrlHandlingStrategy)),s.resolve(!1),Ht}}),vt(s=>{let a=new oh(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(a)}),re(s=>(this.currentTransition=r=fe(j({},s),{guards:a2(s.targetSnapshot,s.currentSnapshot,this.rootContexts)}),r)),v2(this.environmentInjector,s=>this.events.next(s)),vt(s=>{if(r.guardsResult=s.guardsResult,s.guardsResult&&typeof s.guardsResult!="boolean")throw vh(this.urlSerializer,s.guardsResult);let a=new sh(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot,!!s.guardsResult);this.events.next(a)}),an(s=>s.guardsResult?!0:(this.cancelNavigationTransition(s,"",Zt.GuardRejected),!1)),Hy(s=>{if(s.guards.canActivateChecks.length!==0)return X(s).pipe(vt(a=>{let u=new ah(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(u)}),cn(a=>{let u=!1;return X(a).pipe($2(this.paramsInheritanceStrategy,this.environmentInjector),vt({next:()=>u=!0,complete:()=>{u||this.cancelNavigationTransition(a,"",Zt.NoDataFromResolver)}}))}),vt(a=>{let u=new ch(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(u)}))}),Hy(s=>{let a=u=>{let l=[];u.routeConfig?.loadComponent&&!u.routeConfig._loadedComponent&&l.push(this.configLoader.loadComponent(u.routeConfig).pipe(vt(h=>{u.component=h}),re(()=>{})));for(let h of u.children)l.push(...a(h));return l};return nc(a(s.targetSnapshot.root)).pipe(si(null),yr(1))}),Hy(()=>this.afterPreactivation()),cn(()=>{let{currentSnapshot:s,targetSnapshot:a}=r,u=this.createViewTransition?.(this.environmentInjector,s.root,a.root);return u?je(u).pipe(re(()=>r)):X(r)}),re(s=>{let a=n2(n.routeReuseStrategy,s.targetSnapshot,s.currentRouterState);return this.currentTransition=r=fe(j({},s),{targetRouterState:a}),this.currentNavigation.targetRouterState=a,r}),vt(()=>{this.events.next(new jc)}),s2(this.rootContexts,n.routeReuseStrategy,s=>this.events.next(s),this.inputBindingEnabled),yr(1),vt({next:s=>{i=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new er(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects))),this.titleStrategy?.updateTitle(s.targetRouterState.snapshot),s.resolve(!0)},complete:()=>{i=!0}}),Rg(this.transitionAbortSubject.pipe(vt(s=>{throw s}))),rc(()=>{!i&&!o&&this.cancelNavigationTransition(r,"",Zt.SupersededByNewNavigation),this.currentTransition?.id===r.id&&(this.currentNavigation=null,this.currentTransition=null)}),oi(s=>{if(this.destroyed)return r.resolve(!1),Ht;if(o=!0,uS(s))this.events.next(new Jn(r.id,this.urlSerializer.serialize(r.extractedUrl),s.message,s.cancellationCode)),o2(s)?this.events.next(new xs(s.url,s.navigationBehaviorOptions)):r.resolve(!1);else{let a=new Ps(r.id,this.urlSerializer.serialize(r.extractedUrl),s,r.targetSnapshot??void 0);try{let u=jt(this.environmentInjector,()=>this.navigationErrorHandler?.(a));if(u instanceof ks){let{message:l,cancellationCode:h}=vh(this.urlSerializer,u);this.events.next(new Jn(r.id,this.urlSerializer.serialize(r.extractedUrl),l,h)),this.events.next(new xs(u.redirectTo,u.navigationBehaviorOptions))}else throw this.events.next(a),s}catch(u){this.options.resolveNavigationPromiseOnError?r.resolve(!1):r.reject(u)}}return Ht}))}))}cancelNavigationTransition(n,r,i){let o=new Jn(n.id,this.urlSerializer.serialize(n.extractedUrl),r,i);this.events.next(o),n.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let n=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return n.toString()!==r?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static \u0275fac=function(r){return new(r||t)};static \u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function K2(t){return t!==nh}var wS=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275prov=z({token:t,factory:()=>P(Q2),providedIn:"root"})}return t})(),Ih=class{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}},Q2=(()=>{class t extends Ih{static \u0275fac=(()=>{let n;return function(i){return(n||(n=Sr(t)))(i||t)}})();static \u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),CS=(()=>{class t{urlSerializer=P(Wc);options=P(Zc,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";location=P(yi);urlHandlingStrategy=P(wh);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new Xn;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}createBrowserPath({finalUrl:n,initialUrl:r,targetBrowserUrl:i}){let o=n!==void 0?this.urlHandlingStrategy.merge(n,r):r,s=i??o;return s instanceof Xn?this.urlSerializer.serialize(s):s}commitTransition({targetRouterState:n,finalUrl:r,initialUrl:i}){r&&n?(this.currentUrlTree=r,this.rawUrlTree=this.urlHandlingStrategy.merge(r,i),this.routerState=n):this.rawUrlTree=i}routerState=rS(null);getRouterState(){return this.routerState}stateMemento=this.createStateMemento();updateStateMemento(){this.stateMemento=this.createStateMemento()}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}resetInternalState({finalUrl:n}){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n??this.rawUrlTree)}static \u0275fac=function(r){return new(r||t)};static \u0275prov=z({token:t,factory:()=>P(Y2),providedIn:"root"})}return t})(),Y2=(()=>{class t extends CS{currentPageId=0;lastSuccessfulId=-1;restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}registerNonRouterCurrentEntryChangeListener(n){return this.location.subscribe(r=>{r.type==="popstate"&&setTimeout(()=>{n(r.url,r.state,"popstate")})})}handleRouterEvent(n,r){n instanceof vo?this.updateStateMemento():n instanceof Mr?this.commitTransition(r):n instanceof Vc?this.urlUpdateStrategy==="eager"&&(r.extras.skipLocationChange||this.setBrowserUrl(this.createBrowserPath(r),r)):n instanceof jc?(this.commitTransition(r),this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(this.createBrowserPath(r),r)):n instanceof Jn&&(n.code===Zt.GuardRejected||n.code===Zt.NoDataFromResolver)?this.restoreHistory(r):n instanceof Ps?this.restoreHistory(r,!0):n instanceof er&&(this.lastSuccessfulId=n.id,this.currentPageId=this.browserPageId)}setBrowserUrl(n,{extras:r,id:i}){let{replaceUrl:o,state:s}=r;if(this.location.isCurrentPathEqualTo(n)||o){let a=this.browserPageId,u=j(j({},s),this.generateNgRouterState(i,a));this.location.replaceState(n,"",u)}else{let a=j(j({},s),this.generateNgRouterState(i,this.browserPageId+1));this.location.go(n,"",a)}}restoreHistory(n,r=!1){if(this.canceledNavigationResolution==="computed"){let i=this.browserPageId,o=this.currentPageId-i;o!==0?this.location.historyGo(o):this.getCurrentUrlTree()===n.finalUrl&&o===0&&(this.resetInternalState(n),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetInternalState(n),this.resetUrlToCurrentUrlTree())}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.getRawUrlTree()),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(n,r){return this.canceledNavigationResolution==="computed"?{navigationId:n,\u0275routerPageId:r}:{navigationId:n}}static \u0275fac=(()=>{let n;return function(i){return(n||(n=Sr(t)))(i||t)}})();static \u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function uv(t,e){t.events.pipe(an(n=>n instanceof er||n instanceof Jn||n instanceof Ps||n instanceof Mr),re(n=>n instanceof er||n instanceof Mr?0:(n instanceof Jn?n.code===Zt.Redirect||n.code===Zt.SupersededByNewNavigation:!1)?2:1),an(n=>n!==2),yr(1)).subscribe(()=>{e()})}var Z2={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},J2={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},Et=(()=>{class t{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=P(xD);stateManager=P(CS);options=P(Zc,{optional:!0})||{};pendingTasks=P(io);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=P(ES);urlSerializer=P(Wc);location=P(yi);urlHandlingStrategy=P(wh);_events=new Ye;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=P(wS);onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=P(Jc,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!P(Qc,{optional:!0});constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this).subscribe({error:n=>{this.console.warn(n)}}),this.subscribeToNavigationEvents()}eventsSubscription=new $e;subscribeToNavigationEvents(){let n=this.navigationTransitions.events.subscribe(r=>{try{let i=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(i!==null&&o!==null){if(this.stateManager.handleRouterEvent(r,o),r instanceof Jn&&r.code!==Zt.Redirect&&r.code!==Zt.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof er)this.navigated=!0;else if(r instanceof xs){let s=r.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),u=j({browserUrl:i.extras.browserUrl,info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:i.extras.replaceUrl||this.urlUpdateStrategy==="eager"||K2(i.source)},s);this.scheduleNavigation(a,nh,null,u,{resolve:i.resolve,reject:i.reject,promise:i.promise})}}ej(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortSubject.next(i)}});this.eventsSubscription.add(n)}resetRootComponentType(n){this.routerState.root.component=n,this.navigationTransitions.rootComponentType=n}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),nh,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((n,r,i)=>{this.navigateToSyncWithBrowser(n,i,r)})}navigateToSyncWithBrowser(n,r,i){let o={replaceUrl:!0},s=i?.navigationId?i:null;if(i){let u=j({},i);delete u.navigationId,delete u.\u0275routerPageId,Object.keys(u).length!==0&&(o.state=u)}let a=this.parseUrl(n);this.scheduleNavigation(a,r,s,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(n){this.config=n.map(cv),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(n,r={}){let{relativeTo:i,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:u}=r,l=u?this.currentUrlTree.fragment:s,h=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":h=j(j({},this.currentUrlTree.queryParams),o);break;case"preserve":h=this.currentUrlTree.queryParams;break;default:h=o||null}h!==null&&(h=this.removeEmptyProps(h));let p;try{let y=i?i.snapshot:this.routerState.snapshot.root;p=XT(y)}catch{(typeof n[0]!="string"||n[0][0]!=="/")&&(n=[]),p=this.currentUrlTree.root}return eS(p,n,h,l??null)}navigateByUrl(n,r={skipLocationChange:!1}){let i=_i(n)?n:this.parseUrl(n),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,nh,null,r)}navigate(n,r={skipLocationChange:!1}){return X2(n),this.navigateByUrl(this.createUrlTree(n,r),r)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){try{return this.urlSerializer.parse(n)}catch{return this.urlSerializer.parse("/")}}isActive(n,r){let i;if(r===!0?i=j({},Z2):r===!1?i=j({},J2):i=r,_i(n))return kT(this.currentUrlTree,n,i);let o=this.parseUrl(n);return kT(this.currentUrlTree,o,i)}removeEmptyProps(n){return Object.entries(n).reduce((r,[i,o])=>(o!=null&&(r[i]=o),r),{})}scheduleNavigation(n,r,i,o,s){if(this.disposed)return Promise.resolve(!1);let a,u,l;s?(a=s.resolve,u=s.reject,l=s.promise):l=new Promise((p,y)=>{a=p,u=y});let h=this.pendingTasks.add();return uv(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(h))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:n,extras:o,resolve:a,reject:u,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(p=>Promise.reject(p))}static \u0275fac=function(r){return new(r||t)};static \u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function X2(t){for(let e=0;e<t.length;e++)if(t[e]==null)throw new H(4008,!1)}function ej(t){return!(t instanceof jc)&&!(t instanceof xs)}var He=(()=>{class t{router;route;tabIndexAttribute;renderer;el;locationStrategy;href=null;target;queryParams;fragment;queryParamsHandling;state;info;relativeTo;isAnchorElement;subscription;onChanges=new Ye;constructor(n,r,i,o,s,a){this.router=n,this.route=r,this.tabIndexAttribute=i,this.renderer=o,this.el=s,this.locationStrategy=a;let u=s.nativeElement.tagName?.toLowerCase();this.isAnchorElement=u==="a"||u==="area",this.isAnchorElement?this.subscription=n.events.subscribe(l=>{l instanceof er&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}preserveFragment=!1;skipLocationChange=!1;replaceUrl=!1;setTabIndexIfNotOnNativeEl(n){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",n)}ngOnChanges(n){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}routerLinkInput=null;set routerLink(n){n==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(_i(n)?this.routerLinkInput=n:this.routerLinkInput=Array.isArray(n)?n:[n],this.setTabIndexIfNotOnNativeEl("0"))}onClick(n,r,i,o,s){let a=this.urlTree;if(a===null||this.isAnchorElement&&(n!==0||r||i||o||s||typeof this.target=="string"&&this.target!="_self"))return!0;let u={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(a,u),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let n=this.urlTree;this.href=n!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(n)):null;let r=this.href===null?null:Yb(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",r)}applyAttributeValue(n,r){let i=this.renderer,o=this.el.nativeElement;r!==null?i.setAttribute(o,n,r):i.removeAttribute(o,n)}get urlTree(){return this.routerLinkInput===null?null:_i(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static \u0275fac=function(r){return new(r||t)(ve(Et),ve(Pn),Ym("tabindex"),ve(di),ve(Ar),ve(Ts))};static \u0275dir=Qe({type:t,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(r,i){r&1&&ge("click",function(s){return i.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),r&2&&bc("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",ho],skipLocationChange:[2,"skipLocationChange","skipLocationChange",ho],replaceUrl:[2,"replaceUrl","replaceUrl",ho],routerLink:"routerLink"},features:[ui]})}return t})();var nj=new $("");function lv(t,...e){return Cr([{provide:Jc,multi:!0,useValue:t},[],{provide:Pn,useFactory:rj,deps:[Et]},{provide:Ey,multi:!0,useFactory:oj},e.map(n=>n.\u0275providers)])}function rj(t){return t.routerState.root}function ij(t,e){return{\u0275kind:t,\u0275providers:e}}function oj(){let t=P(_t);return e=>{let n=t.get(no);if(e!==n.components[0])return;let r=t.get(Et),i=t.get(sj);t.get(aj)===1&&r.initialNavigation(),t.get(cj,null,ue.Optional)?.setUpPreloading(),t.get(nj,null,ue.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var sj=new $("",{factory:()=>new Ye}),aj=new $("",{providedIn:"root",factory:()=>1});var cj=new $("");function dv(){return ij(8,[ov,{provide:Qc,useExisting:ov}])}var bS=()=>{};var TS=function(t){let e=[],n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},uj=function(t){let e=[],n=0,r=0;for(;n<t.length;){let i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let o=t[n++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){let o=t[n++],s=t[n++],a=t[n++],u=((i&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{let o=t[n++],s=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},Ch={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();let n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){let o=t[i],s=i+1<t.length,a=s?t[i+1]:0,u=i+2<t.length,l=u?t[i+2]:0,h=o>>2,p=(o&3)<<4|a>>4,y=(a&15)<<2|l>>6,m=l&63;u||(m=64,s||(y=64)),r.push(n[h],n[p],n[y],n[m])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(TS(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):uj(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();let n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){let o=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;let l=i<t.length?n[t.charAt(i)]:64;++i;let p=i<t.length?n[t.charAt(i)]:64;if(++i,o==null||a==null||l==null||p==null)throw new fv;let y=o<<2|a>>4;if(r.push(y),l!==64){let m=a<<4&240|l>>2;if(r.push(m),p!==64){let D=l<<6&192|p;r.push(D)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},fv=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},lj=function(t){let e=TS(t);return Ch.encodeByteArray(e,!0)},Xc=function(t){return lj(t).replace(/\./g,"")},bh=function(t){try{return Ch.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function gv(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var dj=()=>gv().__FIREBASE_DEFAULTS__,hj=()=>{if(typeof process>"u"||typeof process.env>"u")return;let t=process.env.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},fj=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=t&&bh(t[1]);return e&&JSON.parse(e)},Dh=()=>{try{return bS()||dj()||hj()||fj()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},mv=t=>{var e,n;return(n=(e=Dh())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},SS=t=>{let e=mv(t);if(!e)return;let n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},yv=()=>{var t;return(t=Dh())===null||t===void 0?void 0:t.config},vv=t=>{var e;return(e=Dh())===null||e===void 0?void 0:e[`_${t}`]};var _o=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}};function AS(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Xc(JSON.stringify(n)),Xc(JSON.stringify(s)),""].join(".")}function dt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function RS(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(dt())}function pj(){var t;let e=(t=Dh())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function MS(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function NS(){let t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function PS(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function xS(){let t=dt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function kS(){return!pj()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function eu(){try{return typeof indexedDB=="object"}catch{return!1}}function OS(){return new Promise((t,e)=>{try{let n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){e(n)}})}var gj="FirebaseError",rn=class t extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=gj,Object.setPrototypeOf(this,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,xn.prototype.create)}},xn=class{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){let r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?mj(o,r):"Error",a=`${this.serviceName}: ${s} (${i}).`;return new rn(i,a,r)}};function mj(t,e){return t.replace(yj,(n,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var yj=/\{\$([^}]+)}/g;function FS(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function tr(t,e){if(t===e)return!0;let n=Object.keys(t),r=Object.keys(e);for(let i of n){if(!r.includes(i))return!1;let o=t[i],s=e[i];if(DS(o)&&DS(s)){if(!tr(o,s))return!1}else if(o!==s)return!1}for(let i of r)if(!n.includes(i))return!1;return!0}function DS(t){return t!==null&&typeof t=="object"}function Vs(t){let e=[];for(let[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function js(t){let e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){let[i,o]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(o)}}),e}function Us(t){let e=t.indexOf("?");if(!e)return"";let n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function LS(t,e){let n=new pv(t,e);return n.subscribe.bind(n)}var pv=class{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");vj(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=hv),i.error===void 0&&(i.error=hv),i.complete===void 0&&(i.complete=hv);let o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function vj(t,e){if(typeof t!="object"||t===null)return!1;for(let n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function hv(){}var cY=4*60*60*1e3;function ht(t){return t&&t._delegate?t._delegate:t}var Bt=class{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var Io="[DEFAULT]";var _v=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){let r=new _o;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(n=e?.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Ij(e))try{this.getOrInitializeService({instanceIdentifier:Io})}catch{}for(let[n,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(n);try{let o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=Io){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return _(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=Io){return this.instances.has(e)}getOptions(e=Io){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(let[o,s]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(o);r===a&&s.resolve(i)}return i}onInit(e,n){var r;let i=this.normalizeInstanceIdentifier(n),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);let s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){let r=this.onInitCallbacks.get(n);if(r)for(let i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:_j(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Io){return this.component?this.component.multipleInstances?e:Io:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function _j(t){return t===Io?void 0:t}function Ij(t){return t.instantiationMode==="EAGER"}var Th=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let n=new _v(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}};var Ej=[],me=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}(me||{}),wj={debug:me.DEBUG,verbose:me.VERBOSE,info:me.INFO,warn:me.WARN,error:me.ERROR,silent:me.SILENT},Cj=me.INFO,bj={[me.DEBUG]:"log",[me.VERBOSE]:"log",[me.INFO]:"info",[me.WARN]:"warn",[me.ERROR]:"error"},Dj=(t,e,...n)=>{if(e<t.logLevel)return;let r=new Date().toISOString(),i=bj[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},nr=class{constructor(e){this.name=e,this._logLevel=Cj,this._logHandler=Dj,this._userLogHandler=null,Ej.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in me))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?wj[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,me.DEBUG,...e),this._logHandler(this,me.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,me.VERBOSE,...e),this._logHandler(this,me.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,me.INFO,...e),this._logHandler(this,me.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,me.WARN,...e),this._logHandler(this,me.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,me.ERROR,...e),this._logHandler(this,me.ERROR,...e)}};var Tj=(t,e)=>e.some(n=>t instanceof n),VS,jS;function Sj(){return VS||(VS=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Aj(){return jS||(jS=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var US=new WeakMap,Ev=new WeakMap,BS=new WeakMap,Iv=new WeakMap,Cv=new WeakMap;function Rj(t){let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",s)},o=()=>{n(rr(t.result)),i()},s=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&US.set(n,t)}).catch(()=>{}),Cv.set(e,t),e}function Mj(t){if(Ev.has(t))return;let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",s),t.removeEventListener("abort",s)},o=()=>{n(),i()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",s),t.addEventListener("abort",s)});Ev.set(t,e)}var wv={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Ev.get(t);if(e==="objectStoreNames")return t.objectStoreNames||BS.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return rr(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function $S(t){wv=t(wv)}function Nj(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){let r=t.call(Sh(this),e,...n);return BS.set(r,e.sort?e.sort():[e]),rr(r)}:Aj().includes(t)?function(...e){return t.apply(Sh(this),e),rr(US.get(this))}:function(...e){return rr(t.apply(Sh(this),e))}}function Pj(t){return typeof t=="function"?Nj(t):(t instanceof IDBTransaction&&Mj(t),Tj(t,Sj())?new Proxy(t,wv):t)}function rr(t){if(t instanceof IDBRequest)return Rj(t);if(Iv.has(t))return Iv.get(t);let e=Pj(t);return e!==t&&(Iv.set(t,e),Cv.set(e,t)),e}var Sh=t=>Cv.get(t);function zS(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){let s=indexedDB.open(t,e),a=rr(s);return r&&s.addEventListener("upgradeneeded",u=>{r(rr(s.result),u.oldVersion,u.newVersion,rr(s.transaction),u)}),n&&s.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),a.then(u=>{o&&u.addEventListener("close",()=>o()),i&&u.addEventListener("versionchange",l=>i(l.oldVersion,l.newVersion,l))}).catch(()=>{}),a}var xj=["get","getKey","getAll","getAllKeys","count"],kj=["put","add","delete","clear"],bv=new Map;function HS(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(bv.get(e))return bv.get(e);let n=e.replace(/FromIndex$/,""),r=e!==n,i=kj.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||xj.includes(n)))return;let o=function(s,...a){return _(this,null,function*(){let u=this.transaction(s,i?"readwrite":"readonly"),l=u.store;return r&&(l=l.index(a.shift())),(yield Promise.all([l[n](...a),i&&u.done]))[0]})};return bv.set(e,o),o}$S(t=>fe(j({},t),{get:(e,n,r)=>HS(e,n)||t.get(e,n,r),has:(e,n)=>!!HS(e,n)||t.has(e,n)}));var Tv=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(Oj(n)){let r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}};function Oj(t){let e=t.getComponent();return e?.type==="VERSION"}var Sv="@firebase/app",qS="0.11.5";var Nr=new nr("@firebase/app"),Fj="@firebase/app-compat",Lj="@firebase/analytics-compat",Vj="@firebase/analytics",jj="@firebase/app-check-compat",Uj="@firebase/app-check",Bj="@firebase/auth",$j="@firebase/auth-compat",Hj="@firebase/database",zj="@firebase/data-connect",qj="@firebase/database-compat",Wj="@firebase/functions",Gj="@firebase/functions-compat",Kj="@firebase/installations",Qj="@firebase/installations-compat",Yj="@firebase/messaging",Zj="@firebase/messaging-compat",Jj="@firebase/performance",Xj="@firebase/performance-compat",eU="@firebase/remote-config",tU="@firebase/remote-config-compat",nU="@firebase/storage",rU="@firebase/storage-compat",iU="@firebase/firestore",oU="@firebase/vertexai",sU="@firebase/firestore-compat",aU="firebase",cU="11.6.1";var Av="[DEFAULT]",uU={[Sv]:"fire-core",[Fj]:"fire-core-compat",[Vj]:"fire-analytics",[Lj]:"fire-analytics-compat",[Uj]:"fire-app-check",[jj]:"fire-app-check-compat",[Bj]:"fire-auth",[$j]:"fire-auth-compat",[Hj]:"fire-rtdb",[zj]:"fire-data-connect",[qj]:"fire-rtdb-compat",[Wj]:"fire-fn",[Gj]:"fire-fn-compat",[Kj]:"fire-iid",[Qj]:"fire-iid-compat",[Yj]:"fire-fcm",[Zj]:"fire-fcm-compat",[Jj]:"fire-perf",[Xj]:"fire-perf-compat",[eU]:"fire-rc",[tU]:"fire-rc-compat",[nU]:"fire-gcs",[rU]:"fire-gcs-compat",[iU]:"fire-fst",[sU]:"fire-fst-compat",[oU]:"fire-vertex","fire-js":"fire-js",[aU]:"fire-js-all"};var tu=new Map,lU=new Map,Rv=new Map;function WS(t,e){try{t.container.addComponent(e)}catch(n){Nr.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function kn(t){let e=t.name;if(Rv.has(e))return Nr.debug(`There were multiple attempts to register component ${e}.`),!1;Rv.set(e,t);for(let n of tu.values())WS(n,t);for(let n of lU.values())WS(n,t);return!0}function Bs(t,e){let n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function $t(t){return t==null?!1:t.settings!==void 0}var dU={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ei=new xn("app","Firebase",dU);var Mv=class{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Bt("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ei.create("app-deleted",{appName:this._name})}};var wi=cU;function xv(t,e={}){let n=t;typeof e!="object"&&(e={name:e});let r=Object.assign({name:Av,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Ei.create("bad-app-name",{appName:String(i)});if(n||(n=yv()),!n)throw Ei.create("no-options");let o=tu.get(i);if(o){if(tr(n,o.options)&&tr(r,o.config))return o;throw Ei.create("duplicate-app",{appName:i})}let s=new Th(i);for(let u of Rv.values())s.addComponent(u);let a=new Mv(n,r,s);return tu.set(i,a),a}function Eo(t=Av){let e=tu.get(t);if(!e&&t===Av&&yv())return xv();if(!e)throw Ei.create("no-app",{appName:t});return e}function Ah(){return Array.from(tu.values())}function ze(t,e,n){var r;let i=(r=uU[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);let o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){let a=[`Unable to register library "${i}" with version "${e}":`];o&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Nr.warn(a.join(" "));return}kn(new Bt(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}var hU="firebase-heartbeat-database",fU=1,nu="firebase-heartbeat-store",Dv=null;function YS(){return Dv||(Dv=zS(hU,fU,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(nu)}catch(n){console.warn(n)}}}}).catch(t=>{throw Ei.create("idb-open",{originalErrorMessage:t.message})})),Dv}function pU(t){return _(this,null,function*(){try{let n=(yield YS()).transaction(nu),r=yield n.objectStore(nu).get(ZS(t));return yield n.done,r}catch(e){if(e instanceof rn)Nr.warn(e.message);else{let n=Ei.create("idb-get",{originalErrorMessage:e?.message});Nr.warn(n.message)}}})}function GS(t,e){return _(this,null,function*(){try{let r=(yield YS()).transaction(nu,"readwrite");yield r.objectStore(nu).put(e,ZS(t)),yield r.done}catch(n){if(n instanceof rn)Nr.warn(n.message);else{let r=Ei.create("idb-set",{originalErrorMessage:n?.message});Nr.warn(r.message)}}})}function ZS(t){return`${t.name}!${t.options.appId}`}var gU=1024,mU=30,Nv=class{constructor(e){this.container=e,this._heartbeatsCache=null;let n=this.container.getProvider("app").getImmediate();this._storage=new Pv(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return _(this,null,function*(){var e,n;try{let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=KS();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats.length>mU){let s=vU(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Nr.warn(r)}})}getHeartbeatsHeader(){return _(this,null,function*(){var e;try{if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let n=KS(),{heartbeatsToSend:r,unsentEntries:i}=yU(this._heartbeatsCache.heartbeats),o=Xc(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(n){return Nr.warn(n),""}})}};function KS(){return new Date().toISOString().substring(0,10)}function yU(t,e=gU){let n=[],r=t.slice();for(let i of t){let o=n.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),QS(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),QS(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}var Pv=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return _(this,null,function*(){return eu()?OS().then(()=>!0).catch(()=>!1):!1})}read(){return _(this,null,function*(){if(yield this._canUseIndexedDBPromise){let n=yield pU(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return _(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return GS(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return _(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return GS(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return})}};function QS(t){return Xc(JSON.stringify({version:2,heartbeats:t})).length}function vU(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}function _U(t){kn(new Bt("platform-logger",e=>new Tv(e),"PRIVATE")),kn(new Bt("heartbeat",e=>new Nv(e),"PRIVATE")),ze(Sv,qS,t),ze(Sv,qS,"esm2017"),ze("fire-js","")}_U("");var IU="firebase",EU="11.6.1";ze(IU,EU,"app");function kv(t){t===void 0&&(qC(kv),t=P(_t));let e=t.get(Nd);return n=>new pe(r=>{let i=e.add(),o=!1;function s(){o||(i(),o=!0)}let a=n.subscribe({next:u=>{r.next(u),s()},complete:()=>{r.complete(),s()},error:u=>{r.error(u),s()}});return a.add(()=>{r.unsubscribe(),s()}),a})}var Ci=new _s("ANGULARFIRE2_VERSION");function ru(t,e,n){if(e){if(e.length===1)return e[0];let o=e.filter(s=>s.app===n);if(o.length===1)return o[0]}return n.container.getProvider(t).getImmediate({optional:!0})}var Hs=(t,e)=>{let n=e?[e]:Ah(),r=[];return n.forEach(i=>{i.container.getProvider(t).instances.forEach(s=>{r.includes(s)||r.push(s)})}),r},$s=function(t){return t[t.SILENT=0]="SILENT",t[t.WARN=1]="WARN",t[t.VERBOSE=2]="VERBOSE",t}($s||{}),JS=Cy()&&typeof Zone<"u"?$s.WARN:$s.SILENT;var Rh=class{zone;delegate;constructor(e,n=Dg){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,r){let i=this.zone,o=function(s){i?i.runGuarded(()=>{e.apply(this,[s])}):e.apply(this,[s])};return this.delegate.schedule(o,n,r)}},bi=(()=>{class t{outsideAngular;insideAngular;constructor(){let n=P(Pe);this.outsideAngular=n.runOutsideAngular(()=>new Rh(typeof Zone>"u"?void 0:Zone.current)),this.insideAngular=n.run(()=>new Rh(typeof Zone>"u"?void 0:Zone.current,bg))}static \u0275fac=function(r){return new(r||t)};static \u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),XS=!1;function wU(t,e){!XS&&(JS>$s.SILENT||Cy())&&(XS=!0,console.warn("Calling Firebase APIs outside of an Injection context may destabilize your application leading to subtle change-detection and hydration bugs. Find more at https://github.com/angular/angularfire/blob/main/docs/zones.md")),JS>=e&&console.warn(`Firebase API called outside injection context: ${t.name}`)}function CU(t){let e=P(Pe,{optional:!0});return e?e.runOutsideAngular(()=>t()):t()}function wo(t){let e=P(Pe,{optional:!0});return e?e.run(()=>t()):t()}var bU=(t,e,n)=>(...r)=>(e&&setTimeout(e,0),jt(n,()=>wo(()=>t.apply(void 0,r)))),wt=(t,e,n)=>(n||=e?$s.WARN:$s.VERBOSE,function(){let r,i=arguments,o,s,a;try{o=P(bi),s=P(Nd),a=P(Ft)}catch{return wU(t,n),t.apply(this,i)}for(let l=0;l<arguments.length;l++)typeof i[l]=="function"&&(e&&(r||=wo(()=>s.add())),i[l]=bU(i[l],r,a));let u=CU(()=>t.apply(this,i));return e?u instanceof pe?u.pipe(ii(o.outsideAngular),ri(o.insideAngular),kv(a)):u instanceof Promise?wo(()=>new Promise((l,h)=>{s.run(()=>u).then(p=>jt(a,()=>wo(()=>l(p))),p=>jt(a,()=>wo(()=>h(p))))})):typeof u=="function"&&r?function(){return setTimeout(r,0),u.apply(this,arguments)}:wo(()=>u):u instanceof pe?u.pipe(ii(o.outsideAngular),ri(o.insideAngular)):wo(()=>u)});var Pr=class{constructor(e){return e}},Co=class{constructor(){return Ah()}};function DU(t){return t&&t.length===1?t[0]:new Pr(Eo())}var Ov=new $("angularfire2._apps"),TU={provide:Pr,useFactory:DU,deps:[[new ln,Ov]]},SU={provide:Co,deps:[[new ln,Ov]]};function AU(t){return(e,n)=>{let r=n.get(oo);ze("angularfire",Ci.full,"core"),ze("angularfire",Ci.full,"app"),ze("angular",tT.full,r.toString());let i=e.runOutsideAngular(()=>t(n));return new Pr(i)}}function eA(t,...e){return Cr([TU,SU,{provide:Ov,useFactory:AU(t),multi:!0,deps:[Pe,_t,bi,...e]}])}var tA=wt(xv,!0);var RU=new Map,MU={activated:!1,tokenObservers:[]},NU={initialized:!1,enabled:!1};function On(t){return RU.get(t)||Object.assign({},MU)}function oA(){return NU}var PU="https://content-firebaseappcheck.googleapis.com/v1";var xU="exchangeDebugToken",nA={OFFSET_DURATION:5*60*1e3,RETRIAL_MIN_WAIT:30*1e3,RETRIAL_MAX_WAIT:16*60*1e3},fZ=24*60*60*1e3;var Vv=class{constructor(e,n,r,i,o){if(this.operation=e,this.retryPolicy=n,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=o,this.pending=null,this.nextErrorWaitInterval=i,i>o)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){return _(this,null,function*(){this.stop();try{this.pending=new _o,this.pending.promise.catch(n=>{}),yield kU(this.getNextRun(e)),this.pending.resolve(),yield this.pending.promise,this.pending=new _o,this.pending.promise.catch(n=>{}),yield this.operation(),this.pending.resolve(),yield this.pending.promise,this.process(!0).catch(()=>{})}catch(n){this.retryPolicy(n)?this.process(!1).catch(()=>{}):this.stop()}})}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{let n=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),n}}};function kU(t){return new Promise(e=>{setTimeout(e,t)})}var OU={"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.","initial-throttle":"{$httpStatus} error. Attempts allowed again after {$time}",throttled:"Requests throttled due to previous {$httpStatus} error. Attempts allowed again after {$time}"},Di=new xn("appCheck","AppCheck",OU);function sA(t){if(!On(t).activated)throw Di.create("use-before-activation",{appName:t.name})}function aA(r,i){return _(this,arguments,function*({url:t,body:e},n){let o={"Content-Type":"application/json"},s=n.getImmediate({optional:!0});if(s){let m=yield s.getHeartbeatsHeader();m&&(o["X-Firebase-Client"]=m)}let a={method:"POST",body:JSON.stringify(e),headers:o},u;try{u=yield fetch(t,a)}catch(m){throw Di.create("fetch-network-error",{originalErrorMessage:m?.message})}if(u.status!==200)throw Di.create("fetch-status-error",{httpStatus:u.status});let l;try{l=yield u.json()}catch(m){throw Di.create("fetch-parse-error",{originalErrorMessage:m?.message})}let h=l.ttl.match(/^([\d.]+)(s)$/);if(!h||!h[2]||isNaN(Number(h[1])))throw Di.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${l.ttl}`});let p=Number(h[1])*1e3,y=Date.now();return{token:l.token,expireTimeMillis:y+p,issuedAtTimeMillis:y}})}function cA(t,e){let{projectId:n,appId:r,apiKey:i}=t.options;return{url:`${PU}/projects/${n}/apps/${r}:${xU}?key=${i}`,body:{debug_token:e}}}var FU="firebase-app-check-database",LU=1,jv="firebase-app-check-store";var Mh=null;function VU(){return Mh||(Mh=new Promise((t,e)=>{try{let n=indexedDB.open(FU,LU);n.onsuccess=r=>{t(r.target.result)},n.onerror=r=>{var i;e(Di.create("storage-open",{originalErrorMessage:(i=r.target.error)===null||i===void 0?void 0:i.message}))},n.onupgradeneeded=r=>{let i=r.target.result;switch(r.oldVersion){case 0:i.createObjectStore(jv,{keyPath:"compositeKey"})}}}catch(n){e(Di.create("storage-open",{originalErrorMessage:n?.message}))}}),Mh)}function jU(t,e){return UU(BU(t),e)}function UU(t,e){return _(this,null,function*(){let r=(yield VU()).transaction(jv,"readwrite"),o=r.objectStore(jv).put({compositeKey:t,value:e});return new Promise((s,a)=>{o.onsuccess=u=>{s()},r.onerror=u=>{var l;a(Di.create("storage-set",{originalErrorMessage:(l=u.target.error)===null||l===void 0?void 0:l.message}))}})})}function BU(t){return`${t.options.appId}-${t.name}`}var iu=new nr("@firebase/app-check");function Fv(t,e){return eu()?jU(t,e).catch(n=>{iu.warn(`Failed to write token to IndexedDB. Error: ${n}`)}):Promise.resolve()}function uA(){return oA().enabled}function lA(){return _(this,null,function*(){let t=oA();if(t.enabled&&t.token)return t.token.promise;throw Error(`
            Can't get debug token in production mode.
        `)})}var $U={error:"UNKNOWN_ERROR"};function HU(t){return Ch.encodeString(JSON.stringify(t),!1)}function Uv(t,e=!1,n=!1){return _(this,null,function*(){let r=t.app;sA(r);let i=On(r),o=i.token,s;if(o&&!ou(o)&&(i.token=void 0,o=void 0),!o){let l=yield i.cachedTokenPromise;l&&(ou(l)?o=l:yield Fv(r,void 0))}if(!e&&o&&ou(o))return{token:o.token};let a=!1;if(uA())try{i.exchangeTokenPromise||(i.exchangeTokenPromise=aA(cA(r,yield lA()),t.heartbeatServiceProvider).finally(()=>{i.exchangeTokenPromise=void 0}),a=!0);let l=yield i.exchangeTokenPromise;return yield Fv(r,l),i.token=l,{token:l.token}}catch(l){return l.code==="appCheck/throttled"||l.code==="appCheck/initial-throttle"?iu.warn(l.message):n&&iu.error(l),Lv(l)}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().finally(()=>{i.exchangeTokenPromise=void 0}),a=!0),o=yield On(r).exchangeTokenPromise}catch(l){l.code==="appCheck/throttled"||l.code==="appCheck/initial-throttle"?iu.warn(l.message):n&&iu.error(l),s=l}let u;return o?s?ou(o)?u={token:o.token,internalError:s}:u=Lv(s):(u={token:o.token},i.token=o,yield Fv(r,o)):u=Lv(s),a&&GU(r,u),u})}function zU(t){return _(this,null,function*(){let e=t.app;sA(e);let{provider:n}=On(e);if(uA()){let r=yield lA(),{token:i}=yield aA(cA(e,r),t.heartbeatServiceProvider);return{token:i}}else{let{token:r}=yield n.getToken();return{token:r}}})}function qU(t,e,n,r){let{app:i}=t,o=On(i),s={next:n,error:r,type:e};if(o.tokenObservers=[...o.tokenObservers,s],o.token&&ou(o.token)){let a=o.token;Promise.resolve().then(()=>{n({token:a.token}),rA(t)}).catch(()=>{})}o.cachedTokenPromise.then(()=>rA(t))}function dA(t,e){let n=On(t),r=n.tokenObservers.filter(i=>i.next!==e);r.length===0&&n.tokenRefresher&&n.tokenRefresher.isRunning()&&n.tokenRefresher.stop(),n.tokenObservers=r}function rA(t){let{app:e}=t,n=On(e),r=n.tokenRefresher;r||(r=WU(t),n.tokenRefresher=r),!r.isRunning()&&n.isTokenAutoRefreshEnabled&&r.start()}function WU(t){let{app:e}=t;return new Vv(()=>_(this,null,function*(){let n=On(e),r;if(n.token?r=yield Uv(t,!0):r=yield Uv(t),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{let n=On(e);if(n.token){let r=n.token.issuedAtTimeMillis+(n.token.expireTimeMillis-n.token.issuedAtTimeMillis)*.5+3e5,i=n.token.expireTimeMillis-5*60*1e3;return r=Math.min(r,i),Math.max(0,r-Date.now())}else return 0},nA.RETRIAL_MIN_WAIT,nA.RETRIAL_MAX_WAIT)}function GU(t,e){let n=On(t).tokenObservers;for(let r of n)try{r.type==="EXTERNAL"&&e.error!=null?r.error(e.error):r.next(e)}catch{}}function ou(t){return t.expireTimeMillis-Date.now()>0}function Lv(t){return{token:HU($U),error:t}}var Bv=class{constructor(e,n){this.app=e,this.heartbeatServiceProvider=n}_delete(){let{tokenObservers:e}=On(this.app);for(let n of e)dA(this.app,n.next);return Promise.resolve()}};function KU(t,e){return new Bv(t,e)}function QU(t){return{getToken:e=>Uv(t,e),getLimitedUseToken:()=>zU(t),addTokenListener:e=>qU(t,"INTERNAL",e),removeTokenListener:e=>dA(t.app,e)}}var YU="@firebase/app-check",ZU="0.8.13";var JU="app-check",iA="app-check-internal";function XU(){kn(new Bt(JU,t=>{let e=t.getProvider("app").getImmediate(),n=t.getProvider("heartbeat");return KU(e,n)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,n)=>{t.getProvider(iA).initialize()})),kn(new Bt(iA,t=>{let e=t.getProvider("app-check").getImmediate();return QU(e)},"PUBLIC").setInstantiationMode("EXPLICIT")),ze(YU,ZU)}XU();var eB="app-check";var zs=class{constructor(){return Hs(eB)}};var tB=["localhost","0.0.0.0","127.0.0.1"],TZ=typeof window<"u"&&tB.includes(window.location.hostname);function SA(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var AA=SA,RA=new xn("auth","Firebase",SA());var Fh=new nr("@firebase/auth");function nB(t,...e){Fh.logLevel<=me.WARN&&Fh.warn(`Auth (${wi}): ${t}`,...e)}function Ph(t,...e){Fh.logLevel<=me.ERROR&&Fh.error(`Auth (${wi}): ${t}`,...e)}function gn(t,...e){throw u_(t,...e)}function Fn(t,...e){return u_(t,...e)}function c_(t,e,n){let r=Object.assign(Object.assign({},AA()),{[e]:n});return new xn("auth","Firebase",r).create(e,{appName:t.name})}function Or(t){return c_(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function rB(t,e,n){let r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&gn(t,"argument-error"),c_(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function u_(t,...e){if(typeof t!="string"){let n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return RA.create(t,...e)}function G(t,e,...n){if(!t)throw u_(e,...n)}function xr(t){let e="INTERNAL ASSERTION FAILED: "+t;throw Ph(e),new Error(e)}function Fr(t,e){t||xr(e)}function zv(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function iB(){return hA()==="http:"||hA()==="https:"}function hA(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}function oB(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(iB()||NS()||"connection"in navigator)?navigator.onLine:!0}function sB(){if(typeof navigator>"u")return null;let t=navigator;return t.languages&&t.languages[0]||t.language||null}var bo=class{constructor(e,n){this.shortDelay=e,this.longDelay=n,Fr(n>e,"Short delay should be less than long delay!"),this.isMobile=RS()||PS()}get(){return oB()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function l_(t,e){Fr(t.emulator,"Emulator should always be set here");let{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}var Lh=class{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;xr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;xr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;xr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var aB={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var cB=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],uB=new bo(3e4,6e4);function Lr(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}function or(o,s,a,u){return _(this,arguments,function*(t,e,n,r,i={}){return MA(t,i,()=>_(this,null,function*(){let l={},h={};r&&(e==="GET"?h=r:l={body:JSON.stringify(r)});let p=Vs(Object.assign({key:t.config.apiKey},h)).slice(1),y=yield t._getAdditionalHeaders();y["Content-Type"]="application/json",t.languageCode&&(y["X-Firebase-Locale"]=t.languageCode);let m=Object.assign({method:e,headers:y},l);return MS()||(m.referrerPolicy="no-referrer"),Lh.fetch()(yield NA(t,t.config.apiHost,n,p),m)}))})}function MA(t,e,n){return _(this,null,function*(){t._canInitEmulator=!1;let r=Object.assign(Object.assign({},aB),e);try{let i=new qv(t),o=yield Promise.race([n(),i.promise]);i.clearNetworkTimeout();let s=yield o.json();if("needConfirmation"in s)throw Nh(t,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{let a=o.ok?s.errorMessage:s.error.message,[u,l]=a.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw Nh(t,"credential-already-in-use",s);if(u==="EMAIL_EXISTS")throw Nh(t,"email-already-in-use",s);if(u==="USER_DISABLED")throw Nh(t,"user-disabled",s);let h=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(l)throw c_(t,h,l);gn(t,h)}}catch(i){if(i instanceof rn)throw i;gn(t,"network-request-failed",{message:String(i)})}})}function fu(o,s,a,u){return _(this,arguments,function*(t,e,n,r,i={}){let l=yield or(t,e,n,r,i);return"mfaPendingCredential"in l&&gn(t,"multi-factor-auth-required",{_serverResponse:l}),l})}function NA(t,e,n,r){return _(this,null,function*(){let i=`${e}${n}?${r}`,o=t,s=o.config.emulator?l_(t.config,i):`${t.config.apiScheme}://${i}`;return cB.includes(n)&&(yield o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(s).toString():s})}function lB(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}var qv=class{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Fn(this.auth,"network-request-failed")),uB.get())})}};function Nh(t,e,n){let r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);let i=Fn(t,e,r);return i.customData._tokenResponse=n,i}function fA(t){return t!==void 0&&t.enterprise!==void 0}var Wv=class{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(let n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return lB(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}};function dB(t,e){return _(this,null,function*(){return or(t,"GET","/v2/recaptchaConfig",Lr(t,e))})}function hB(t,e){return _(this,null,function*(){return or(t,"POST","/v1/accounts:delete",e)})}function Vh(t,e){return _(this,null,function*(){return or(t,"POST","/v1/accounts:lookup",e)})}function au(t){if(t)try{let e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function d_(t,e=!1){return _(this,null,function*(){let n=ht(t),r=yield n.getIdToken(e),i=h_(r);G(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");let o=typeof i.firebase=="object"?i.firebase:void 0,s=o?.sign_in_provider;return{claims:i,token:r,authTime:au($v(i.auth_time)),issuedAtTime:au($v(i.iat)),expirationTime:au($v(i.exp)),signInProvider:s||null,signInSecondFactor:o?.sign_in_second_factor||null}})}function $v(t){return Number(t)*1e3}function h_(t){let[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Ph("JWT malformed, contained fewer than 3 sections"),null;try{let i=bh(n);return i?JSON.parse(i):(Ph("Failed to decode base64 JWT payload"),null)}catch(i){return Ph("Caught error parsing JWT payload as JSON",i?.toString()),null}}function pA(t){let e=h_(t);return G(e,"internal-error"),G(typeof e.exp<"u","internal-error"),G(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function Ws(t,e,n=!1){return _(this,null,function*(){if(n)return e;try{return yield e}catch(r){throw r instanceof rn&&fB(r)&&t.auth.currentUser===t&&(yield t.auth.signOut()),r}})}function fB({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}var Gv=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){let r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;let i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;let n=this.getInterval(e);this.timerId=setTimeout(()=>_(this,null,function*(){yield this.iteration()}),n)}iteration(){return _(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var uu=class{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=au(this.lastLoginAt),this.creationTime=au(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function jh(t){return _(this,null,function*(){var e;let n=t.auth,r=yield t.getIdToken(),i=yield Ws(t,Vh(n,{idToken:r}));G(i?.users.length,n,"internal-error");let o=i.users[0];t._notifyReloadListener(o);let s=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?PA(o.providerUserInfo):[],a=pB(t.providerData,s),u=t.isAnonymous,l=!(t.email&&o.passwordHash)&&!a?.length,h=u?l:!1,p={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new uu(o.createdAt,o.lastLoginAt),isAnonymous:h};Object.assign(t,p)})}function f_(t){return _(this,null,function*(){let e=ht(t);yield jh(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function pB(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function PA(t){return t.map(e=>{var{providerId:n}=e,r=bl(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function gB(t,e){return _(this,null,function*(){let n=yield MA(t,{},()=>_(this,null,function*(){let r=Vs({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=t.config,s=yield NA(t,i,"/v1/token",`key=${o}`),a=yield t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",Lh.fetch()(s,{method:"POST",headers:a,body:r})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})}function mB(t,e){return _(this,null,function*(){return or(t,"POST","/v2/accounts:revokeToken",Lr(t,e))})}var cu=class t{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){G(e.idToken,"internal-error"),G(typeof e.idToken<"u","internal-error"),G(typeof e.refreshToken<"u","internal-error");let n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):pA(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){G(e.length!==0,"internal-error");let n=pA(e);this.updateTokensAndExpiration(e,null,n)}getToken(e,n=!1){return _(this,null,function*(){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(G(this.refreshToken,e,"user-token-expired"),this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(e,n){return _(this,null,function*(){let{accessToken:r,refreshToken:i,expiresIn:o}=yield gB(e,n);this.updateTokensAndExpiration(r,i,Number(o))})}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){let{refreshToken:r,accessToken:i,expirationTime:o}=n,s=new t;return r&&(G(typeof r=="string","internal-error",{appName:e}),s.refreshToken=r),i&&(G(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),o&&(G(typeof o=="number","internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new t,this.toJSON())}_performRefresh(){return xr("not implemented")}};function Ti(t,e){G(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}var Si=class t{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,o=bl(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Gv(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new uu(o.createdAt||void 0,o.lastLoginAt||void 0)}getIdToken(e){return _(this,null,function*(){let n=yield Ws(this,this.stsTokenManager.getToken(this.auth,e));return G(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n})}getIdTokenResult(e){return d_(this,e)}reload(){return f_(this)}_assign(e){this!==e&&(G(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let n=new t(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){G(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,n=!1){return _(this,null,function*(){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&(yield jh(this)),yield this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)})}delete(){return _(this,null,function*(){if($t(this.auth.app))return Promise.reject(Or(this.auth));let e=yield this.getIdToken();return yield Ws(this,hB(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,o,s,a,u,l,h;let p=(r=n.displayName)!==null&&r!==void 0?r:void 0,y=(i=n.email)!==null&&i!==void 0?i:void 0,m=(o=n.phoneNumber)!==null&&o!==void 0?o:void 0,D=(s=n.photoURL)!==null&&s!==void 0?s:void 0,k=(a=n.tenantId)!==null&&a!==void 0?a:void 0,x=(u=n._redirectEventId)!==null&&u!==void 0?u:void 0,U=(l=n.createdAt)!==null&&l!==void 0?l:void 0,K=(h=n.lastLoginAt)!==null&&h!==void 0?h:void 0,{uid:J,emailVerified:Me,isAnonymous:ut,providerData:Ne,stsTokenManager:T}=n;G(J&&T,e,"internal-error");let v=cu.fromJSON(this.name,T);G(typeof J=="string",e,"internal-error"),Ti(p,e.name),Ti(y,e.name),G(typeof Me=="boolean",e,"internal-error"),G(typeof ut=="boolean",e,"internal-error"),Ti(m,e.name),Ti(D,e.name),Ti(k,e.name),Ti(x,e.name),Ti(U,e.name),Ti(K,e.name);let C=new t({uid:J,auth:e,email:y,emailVerified:Me,displayName:p,isAnonymous:ut,photoURL:D,phoneNumber:m,tenantId:k,stsTokenManager:v,createdAt:U,lastLoginAt:K});return Ne&&Array.isArray(Ne)&&(C.providerData=Ne.map(b=>Object.assign({},b))),x&&(C._redirectEventId=x),C}static _fromIdTokenResponse(e,n,r=!1){return _(this,null,function*(){let i=new cu;i.updateFromServerResponse(n);let o=new t({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield jh(o),o})}static _fromGetAccountInfoResponse(e,n,r){return _(this,null,function*(){let i=n.users[0];G(i.localId!==void 0,"internal-error");let o=i.providerUserInfo!==void 0?PA(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!o?.length,a=new cu;a.updateFromIdToken(r);let u=new t({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:s}),l={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new uu(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!o?.length};return Object.assign(u,l),u})}};var gA=new Map;function kr(t){Fr(t instanceof Function,"Expected a class definition");let e=gA.get(t);return e?(Fr(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,gA.set(t,e),e)}var yB=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return _(this,null,function*(){return!0})}_set(n,r){return _(this,null,function*(){this.storage[n]=r})}_get(n){return _(this,null,function*(){let r=this.storage[n];return r===void 0?null:r})}_remove(n){return _(this,null,function*(){delete this.storage[n]})}_addListener(n,r){}_removeListener(n,r){}}return t.type="NONE",t})(),Kv=yB;function xh(t,e,n){return`firebase:${t}:${e}:${n}`}var Uh=class t{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;let{config:i,name:o}=this.auth;this.fullUserKey=xh(this.userKey,i.apiKey,o),this.fullPersistenceKey=xh("persistence",i.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return _(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){let n=yield Vh(this.auth,{idToken:e}).catch(()=>{});return n?Si._fromGetAccountInfoResponse(this.auth,n,e):null}return Si._fromJSON(this.auth,e)})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return _(this,null,function*(){if(this.persistence===e)return;let n=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n,r="authUser"){return _(this,null,function*(){if(!n.length)return new t(kr(Kv),e,r);let i=(yield Promise.all(n.map(l=>_(this,null,function*(){if(yield l._isAvailable())return l})))).filter(l=>l),o=i[0]||kr(Kv),s=xh(r,e.config.apiKey,e.name),a=null;for(let l of n)try{let h=yield l._get(s);if(h){let p;if(typeof h=="string"){let y=yield Vh(e,{idToken:h}).catch(()=>{});if(!y)break;p=yield Si._fromGetAccountInfoResponse(e,y,h)}else p=Si._fromJSON(e,h);l!==o&&(a=p),o=l;break}}catch{}let u=i.filter(l=>l._shouldAllowMigration);return!o._shouldAllowMigration||!u.length?new t(o,e,r):(o=u[0],a&&(yield o._set(s,a.toJSON())),yield Promise.all(n.map(l=>_(this,null,function*(){if(l!==o)try{yield l._remove(s)}catch{}}))),new t(o,e,r))})}};function mA(t){let e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(FA(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(xA(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(VA(e))return"Blackberry";if(jA(e))return"Webos";if(kA(e))return"Safari";if((e.includes("chrome/")||OA(e))&&!e.includes("edge/"))return"Chrome";if(LA(e))return"Android";{let n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function xA(t=dt()){return/firefox\//i.test(t)}function kA(t=dt()){let e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function OA(t=dt()){return/crios\//i.test(t)}function FA(t=dt()){return/iemobile/i.test(t)}function LA(t=dt()){return/android/i.test(t)}function VA(t=dt()){return/blackberry/i.test(t)}function jA(t=dt()){return/webos/i.test(t)}function p_(t=dt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function vB(t=dt()){var e;return p_(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function _B(){return xS()&&document.documentMode===10}function UA(t=dt()){return p_(t)||LA(t)||jA(t)||VA(t)||/windows phone/i.test(t)||FA(t)}function BA(t,e=[]){let n;switch(t){case"Browser":n=mA(dt());break;case"Worker":n=`${mA(dt())}-${t}`;break;default:n=t}let r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${wi}/${r}`}var Qv=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){let r=o=>new Promise((s,a)=>{try{let u=e(o);s(u)}catch(u){a(u)}});r.onAbort=n,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){return _(this,null,function*(){if(this.auth.currentUser===e)return;let n=[];try{for(let r of this.queue)yield r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(let i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}})}};function IB(n){return _(this,arguments,function*(t,e={}){return or(t,"GET","/v2/passwordPolicy",Lr(t,e))})}var EB=6,Yv=class{constructor(e){var n,r,i,o;let s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=s.minPasswordLength)!==null&&n!==void 0?n:EB,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,o,s,a;let u={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,u),this.validatePasswordCharacterOptions(e,u),u.isValid&&(u.isValid=(n=u.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),u.isValid&&(u.isValid=(r=u.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),u.isValid&&(u.isValid=(i=u.containsLowercaseLetter)!==null&&i!==void 0?i:!0),u.isValid&&(u.isValid=(o=u.containsUppercaseLetter)!==null&&o!==void 0?o:!0),u.isValid&&(u.isValid=(s=u.containsNumericCharacter)!==null&&s!==void 0?s:!0),u.isValid&&(u.isValid=(a=u.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),u}validatePasswordLengthOptions(e,n){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}};var Zv=class{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Bh(this),this.idTokenSubscription=new Bh(this),this.beforeStateQueue=new Qv(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=RA,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=kr(n)),this._initializationPromise=this.queue(()=>_(this,null,function*(){var r,i,o;if(!this._deleted&&(this.persistenceManager=yield Uh.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(n),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return _(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUserFromIdToken(e){return _(this,null,function*(){try{let n=yield Vh(this,{idToken:e}),r=yield Si._fromGetAccountInfoResponse(this,n,e);yield this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(e){return _(this,null,function*(){var n;if($t(this.app)){let s=this.app.settings.authIdToken;return s?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(a,a))}):this.directlySetCurrentUser(null)}let r=yield this.assertedPersistence.getCurrentUser(),i=r,o=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let s=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i?._redirectEventId,u=yield this.tryRedirectSignIn(e);(!s||s===a)&&u?.user&&(i=u.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{yield this.beforeStateQueue.runMiddleware(i)}catch(s){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return G(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)})}tryRedirectSignIn(e){return _(this,null,function*(){let n=null;try{n=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return n})}reloadAndSetCurrentUserOrClear(e){return _(this,null,function*(){try{yield jh(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=sB()}_delete(){return _(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return _(this,null,function*(){if($t(this.app))return Promise.reject(Or(this));let n=e?ht(e):null;return n&&G(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))})}_updateCurrentUser(e,n=!1){return _(this,null,function*(){if(!this._deleted)return e&&G(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>_(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return _(this,null,function*(){return $t(this.app)?Promise.reject(Or(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(e){return $t(this.app)?Promise.reject(Or(this)):this.queue(()=>_(this,null,function*(){yield this.assertedPersistence.setPersistence(kr(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return _(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return _(this,null,function*(){let e=yield IB(this),n=new Yv(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n})}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new xn("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},n)}})}revokeAccessToken(e){return _(this,null,function*(){if(this.currentUser){let n=yield this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),yield mB(this,r)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,n){return _(this,null,function*(){let r=yield this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return _(this,null,function*(){if(!this.redirectPersistenceManager){let n=e&&kr(e)||this._popupRedirectResolver;G(n,this,"argument-error"),this.redirectPersistenceManager=yield Uh.create(this,[kr(n._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return _(this,null,function*(){var n,r;return this._isInitialized&&(yield this.queue(()=>_(this,null,function*(){}))),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return _(this,null,function*(){if(e===this.currentUser)return this.queue(()=>_(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};let o=typeof n=="function"?n:n.next.bind(n),s=!1,a=this._isInitialized?Promise.resolve():this._initializationPromise;if(G(a,this,"internal-error"),a.then(()=>{s||o(this.currentUser)}),typeof n=="function"){let u=e.addObserver(n,r,i);return()=>{s=!0,u()}}else{let u=e.addObserver(n);return()=>{s=!0,u()}}}directlySetCurrentUser(e){return _(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return G(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=BA(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return _(this,null,function*(){var e;let n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);let r=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();r&&(n["X-Firebase-Client"]=r);let i=yield this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n})}_getAppCheckToken(){return _(this,null,function*(){var e;if($t(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;let n=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return n?.error&&nB(`Error while retrieving App Check token: ${n.error}`),n?.token})}};function Vr(t){return ht(t)}var Bh=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=LS(n=>this.observer=n)}get next(){return G(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var Zh={loadJS(){return _(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function wB(t){Zh=t}function $A(t){return Zh.loadJS(t)}function CB(){return Zh.recaptchaEnterpriseScript}function bB(){return Zh.gapiScript}function HA(t){return`__${t}${Math.floor(Math.random()*1e6)}`}var Jv=class{constructor(){this.enterprise=new Xv}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}},Xv=class{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}};var DB="recaptcha-enterprise",zA="NO_RECAPTCHA",e_=class{constructor(e){this.type=DB,this.auth=Vr(e)}verify(e="verify",n=!1){return _(this,null,function*(){function r(o){return _(this,null,function*(){if(!n){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise((s,a)=>_(this,null,function*(){dB(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(u=>{if(u.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{let l=new Wv(u);return o.tenantId==null?o._agentRecaptchaConfig=l:o._tenantRecaptchaConfigs[o.tenantId]=l,s(l.siteKey)}}).catch(u=>{a(u)})}))})}function i(o,s,a){let u=window.grecaptcha;fA(u)?u.enterprise.ready(()=>{u.enterprise.execute(o,{action:e}).then(l=>{s(l)}).catch(()=>{s(zA)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new Jv().execute("siteKey",{action:"verify"}):new Promise((o,s)=>{r(this.auth).then(a=>{if(!n&&fA(window.grecaptcha))i(a,o,s);else{if(typeof window>"u"){s(new Error("RecaptchaVerifier is only supported in browser"));return}let u=CB();u.length!==0&&(u+=a),$A(u).then(()=>{i(a,o,s)}).catch(l=>{s(l)})}}).catch(a=>{s(a)})})})}};function su(t,e,n,r=!1,i=!1){return _(this,null,function*(){let o=new e_(t),s;if(i)s=zA;else try{s=yield o.verify(n)}catch{s=yield o.verify(n,!0)}let a=Object.assign({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in a){let u=a.phoneEnrollmentInfo.phoneNumber,l=a.phoneEnrollmentInfo.recaptchaToken;Object.assign(a,{phoneEnrollmentInfo:{phoneNumber:u,recaptchaToken:l,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in a){let u=a.phoneSignInInfo.recaptchaToken;Object.assign(a,{phoneSignInInfo:{recaptchaToken:u,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return a}return r?Object.assign(a,{captchaResp:s}):Object.assign(a,{captchaResponse:s}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a})}function $h(t,e,n,r,i){return _(this,null,function*(){var o,s;if(i==="EMAIL_PASSWORD_PROVIDER")if(!((o=t._getRecaptchaConfig())===null||o===void 0)&&o.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){let a=yield su(t,e,n,n==="getOobCode");return r(t,a)}else return r(t,e).catch(a=>_(this,null,function*(){if(a.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);let u=yield su(t,e,n,n==="getOobCode");return r(t,u)}else return Promise.reject(a)}));else if(i==="PHONE_PROVIDER")if(!((s=t._getRecaptchaConfig())===null||s===void 0)&&s.isProviderEnabled("PHONE_PROVIDER")){let a=yield su(t,e,n);return r(t,a).catch(u=>_(this,null,function*(){var l;if(((l=t._getRecaptchaConfig())===null||l===void 0?void 0:l.getProviderEnforcementState("PHONE_PROVIDER"))==="AUDIT"&&(u.code==="auth/missing-recaptcha-token"||u.code==="auth/invalid-app-credential")){console.log(`Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ${n} flow.`);let h=yield su(t,e,n,!1,!0);return r(t,h)}return Promise.reject(u)}))}else{let a=yield su(t,e,n,!1,!0);return r(t,a)}else return Promise.reject(i+" provider is not supported.")})}function g_(t,e){let n=Bs(t,"auth");if(n.isInitialized()){let i=n.getImmediate(),o=n.getOptions();if(tr(o,e??{}))return i;gn(i,"already-initialized")}return n.initialize({options:e})}function TB(t,e){let n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(kr);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}function m_(t,e,n){let r=Vr(t);G(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");let i=!!n?.disableWarnings,o=qA(e),{host:s,port:a}=SB(e),u=a===null?"":`:${a}`,l={url:`${o}//${s}${u}/`},h=Object.freeze({host:s,port:a,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){G(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),G(tr(l,r.config.emulator)&&tr(h,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=l,r.emulatorConfig=h,r.settings.appVerificationDisabledForTesting=!0,i||AB()}function qA(t){let e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function SB(t){let e=qA(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};let r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){let o=i[1];return{host:o,port:yA(r.substr(o.length+1))}}else{let[o,s]=r.split(":");return{host:o,port:yA(s)}}}function yA(t){if(!t)return null;let e=Number(t);return isNaN(e)?null:e}function AB(){function t(){let e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}var Gs=class{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return xr("not implemented")}_getIdTokenResponse(e){return xr("not implemented")}_linkToIdToken(e,n){return xr("not implemented")}_getReauthenticationResolver(e){return xr("not implemented")}};function RB(t,e){return _(this,null,function*(){return or(t,"POST","/v1/accounts:signUp",e)})}function MB(t,e){return _(this,null,function*(){return fu(t,"POST","/v1/accounts:signInWithPassword",Lr(t,e))})}function NB(t,e){return _(this,null,function*(){return or(t,"POST","/v1/accounts:sendOobCode",Lr(t,e))})}function PB(t,e){return _(this,null,function*(){return NB(t,e)})}function xB(t,e){return _(this,null,function*(){return fu(t,"POST","/v1/accounts:signInWithEmailLink",Lr(t,e))})}function kB(t,e){return _(this,null,function*(){return fu(t,"POST","/v1/accounts:signInWithEmailLink",Lr(t,e))})}var lu=class t extends Gs{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new t(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new t(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){let n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}_getIdTokenResponse(e){return _(this,null,function*(){switch(this.signInMethod){case"password":let n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return $h(e,n,"signInWithPassword",MB,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return xB(e,{email:this._email,oobCode:this._password});default:gn(e,"internal-error")}})}_linkToIdToken(e,n){return _(this,null,function*(){switch(this.signInMethod){case"password":let r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return $h(e,r,"signUpPassword",RB,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return kB(e,{idToken:n,email:this._email,oobCode:this._password});default:gn(e,"internal-error")}})}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}};function qs(t,e){return _(this,null,function*(){return fu(t,"POST","/v1/accounts:signInWithIdp",Lr(t,e))})}var OB="http://localhost",Hh=class t extends Gs{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){let n=new t(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):gn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){let n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,o=bl(n,["providerId","signInMethod"]);if(!r||!i)return null;let s=new t(r,i);return s.idToken=o.idToken||void 0,s.accessToken=o.accessToken||void 0,s.secret=o.secret,s.nonce=o.nonce,s.pendingToken=o.pendingToken||null,s}_getIdTokenResponse(e){let n=this.buildRequest();return qs(e,n)}_linkToIdToken(e,n){let r=this.buildRequest();return r.idToken=n,qs(e,r)}_getReauthenticationResolver(e){let n=this.buildRequest();return n.autoCreate=!1,qs(e,n)}buildRequest(){let e={requestUri:OB,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{let n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Vs(n)}return e}};function FB(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function LB(t){let e=js(Us(t)).link,n=e?js(Us(e)).deep_link_id:null,r=js(Us(t)).deep_link_id;return(r?js(Us(r)).link:null)||r||n||e||t}var zh=class t{constructor(e){var n,r,i,o,s,a;let u=js(Us(e)),l=(n=u.apiKey)!==null&&n!==void 0?n:null,h=(r=u.oobCode)!==null&&r!==void 0?r:null,p=FB((i=u.mode)!==null&&i!==void 0?i:null);G(l&&h&&p,"argument-error"),this.apiKey=l,this.operation=p,this.code=h,this.continueUrl=(o=u.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(s=u.lang)!==null&&s!==void 0?s:null,this.tenantId=(a=u.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){let n=LB(e);try{return new t(n)}catch{return null}}};var WA=(()=>{class t{constructor(){this.providerId=t.PROVIDER_ID}static credential(n,r){return lu._fromEmailAndPassword(n,r)}static credentialWithLink(n,r){let i=zh.parseLink(r);return G(i,"argument-error"),lu._fromEmailAndCode(n,i.code,i.tenantId)}}t.PROVIDER_ID="password",t.EMAIL_PASSWORD_SIGN_IN_METHOD="password",t.EMAIL_LINK_SIGN_IN_METHOD="emailLink";return t})(),du=class{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}};var qh=class extends du{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}};var y_=(()=>{class t extends qh{constructor(){super("google.com"),this.addScope("profile")}static credential(n,r){return Hh._fromParams({providerId:t.PROVIDER_ID,signInMethod:t.GOOGLE_SIGN_IN_METHOD,idToken:n,accessToken:r})}static credentialFromResult(n){return t.credentialFromTaggedObject(n)}static credentialFromError(n){return t.credentialFromTaggedObject(n.customData||{})}static credentialFromTaggedObject({_tokenResponse:n}){if(!n)return null;let{oauthIdToken:r,oauthAccessToken:i}=n;if(!r&&!i)return null;try{return t.credential(r,i)}catch{return null}}}t.GOOGLE_SIGN_IN_METHOD="google.com",t.PROVIDER_ID="google.com";return t})();function VB(t,e){return _(this,null,function*(){return fu(t,"POST","/v1/accounts:signUp",Lr(t,e))})}var Ks=class t{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,n,r,i=!1){return _(this,null,function*(){let o=yield Si._fromIdTokenResponse(e,r,i),s=vA(r);return new t({user:o,providerId:s,_tokenResponse:r,operationType:n})})}static _forOperation(e,n,r){return _(this,null,function*(){yield e._updateTokensIfNecessary(r,!0);let i=vA(r);return new t({user:e,providerId:i,_tokenResponse:r,operationType:n})})}};function vA(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}var t_=class t extends rn{constructor(e,n,r,i){var o;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,t.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new t(e,n,r,i)}};function GA(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?t_._fromErrorAndOperation(t,o,e,r):o})}function jB(t,e,n=!1){return _(this,null,function*(){let r=yield Ws(t,e._linkToIdToken(t.auth,yield t.getIdToken()),n);return Ks._forOperation(t,"link",r)})}function UB(t,e,n=!1){return _(this,null,function*(){let{auth:r}=t;if($t(r.app))return Promise.reject(Or(r));let i="reauthenticate";try{let o=yield Ws(t,GA(r,i,e,t),n);G(o.idToken,r,"internal-error");let s=h_(o.idToken);G(s,r,"internal-error");let{sub:a}=s;return G(t.uid===a,r,"user-mismatch"),Ks._forOperation(t,i,o)}catch(o){throw o?.code==="auth/user-not-found"&&gn(r,"user-mismatch"),o}})}function KA(t,e,n=!1){return _(this,null,function*(){if($t(t.app))return Promise.reject(Or(t));let r="signIn",i=yield GA(t,r,e),o=yield Ks._fromIdTokenResponse(t,r,i);return n||(yield t._updateCurrentUser(o.user)),o})}function v_(t,e){return _(this,null,function*(){return KA(Vr(t),e)})}function BB(t,e,n){var r;G(((r=n.url)===null||r===void 0?void 0:r.length)>0,t,"invalid-continue-uri"),G(typeof n.dynamicLinkDomain>"u"||n.dynamicLinkDomain.length>0,t,"invalid-dynamic-link-domain"),G(typeof n.linkDomain>"u"||n.linkDomain.length>0,t,"invalid-hosting-link-domain"),e.continueUrl=n.url,e.dynamicLinkDomain=n.dynamicLinkDomain,e.linkDomain=n.linkDomain,e.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(G(n.iOS.bundleId.length>0,t,"missing-ios-bundle-id"),e.iOSBundleId=n.iOS.bundleId),n.android&&(G(n.android.packageName.length>0,t,"missing-android-pkg-name"),e.androidInstallApp=n.android.installApp,e.androidMinimumVersionCode=n.android.minimumVersion,e.androidPackageName=n.android.packageName)}function QA(t){return _(this,null,function*(){let e=Vr(t);e._getPasswordPolicyInternal()&&(yield e._updatePasswordPolicy())})}function __(t,e,n){return _(this,null,function*(){let r=Vr(t),i={requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"};n&&BB(r,i,n),yield $h(r,i,"getOobCode",PB,"EMAIL_PASSWORD_PROVIDER")})}function I_(t,e,n){return _(this,null,function*(){if($t(t.app))return Promise.reject(Or(t));let r=Vr(t),s=yield $h(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",VB,"EMAIL_PASSWORD_PROVIDER").catch(u=>{throw u.code==="auth/password-does-not-meet-requirements"&&QA(t),u}),a=yield Ks._fromIdTokenResponse(r,"signIn",s);return yield r._updateCurrentUser(a.user),a})}function E_(t,e,n){return $t(t.app)?Promise.reject(Or(t)):v_(ht(t),WA.credential(e,n)).catch(r=>_(this,null,function*(){throw r.code==="auth/password-does-not-meet-requirements"&&QA(t),r}))}function $B(t,e){return _(this,null,function*(){return or(t,"POST","/v1/accounts:update",e)})}function w_(r,i){return _(this,arguments,function*(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;let o=ht(t),a={idToken:yield o.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},u=yield Ws(o,$B(o.auth,a));o.displayName=u.displayName||null,o.photoURL=u.photoUrl||null;let l=o.providerData.find(({providerId:h})=>h==="password");l&&(l.displayName=o.displayName,l.photoURL=o.photoURL),yield o._updateTokensIfNecessary(u)})}function C_(t,e,n,r){return ht(t).onIdTokenChanged(e,n,r)}function b_(t,e,n){return ht(t).beforeAuthStateChanged(e,n)}function D_(t){return ht(t).signOut()}var Wh="__sak";var Gh=class{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Wh,"1"),this.storage.removeItem(Wh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){let n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}};var HB=1e3,zB=10,qB=(()=>{class t extends Gh{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(n,r)=>this.onStorageEvent(n,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=UA(),this._shouldAllowMigration=!0}forAllChangedKeys(n){for(let r of Object.keys(this.listeners)){let i=this.storage.getItem(r),o=this.localCache[r];i!==o&&n(r,o,i)}}onStorageEvent(n,r=!1){if(!n.key){this.forAllChangedKeys((a,u,l)=>{this.notifyListeners(a,l)});return}let i=n.key;r?this.detachListener():this.stopPolling();let o=()=>{let a=this.storage.getItem(i);!r&&this.localCache[i]===a||this.notifyListeners(i,a)},s=this.storage.getItem(i);_B()&&s!==n.newValue&&n.newValue!==n.oldValue?setTimeout(o,zB):o()}notifyListeners(n,r){this.localCache[n]=r;let i=this.listeners[n];if(i)for(let o of Array.from(i))o(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((n,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:n,oldValue:r,newValue:i}),!0)})},HB)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(n,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[n]||(this.listeners[n]=new Set,this.localCache[n]=this.storage.getItem(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}_set(n,r){return _(this,null,function*(){yield ti(t.prototype,this,"_set").call(this,n,r),this.localCache[n]=JSON.stringify(r)})}_get(n){return _(this,null,function*(){let r=yield ti(t.prototype,this,"_get").call(this,n);return this.localCache[n]=JSON.stringify(r),r})}_remove(n){return _(this,null,function*(){yield ti(t.prototype,this,"_remove").call(this,n),delete this.localCache[n]})}}return t.type="LOCAL",t})(),YA=qB;var WB=(()=>{class t extends Gh{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(n,r){}_removeListener(n,r){}}return t.type="SESSION",t})(),T_=WB;function GB(t){return Promise.all(t.map(e=>_(this,null,function*(){try{return{fulfilled:!0,value:yield e}}catch(n){return{fulfilled:!1,reason:n}}})))}var KB=(()=>{class t{constructor(n){this.eventTarget=n,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(n){let r=this.receivers.find(o=>o.isListeningto(n));if(r)return r;let i=new t(n);return this.receivers.push(i),i}isListeningto(n){return this.eventTarget===n}handleEvent(n){return _(this,null,function*(){let r=n,{eventId:i,eventType:o,data:s}=r.data,a=this.handlersMap[o];if(!a?.size)return;r.ports[0].postMessage({status:"ack",eventId:i,eventType:o});let u=Array.from(a).map(h=>_(this,null,function*(){return h(r.origin,s)})),l=yield GB(u);r.ports[0].postMessage({status:"done",eventId:i,eventType:o,response:l})})}_subscribe(n,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[n]||(this.handlersMap[n]=new Set),this.handlersMap[n].add(r)}_unsubscribe(n,r){this.handlersMap[n]&&r&&this.handlersMap[n].delete(r),(!r||this.handlersMap[n].size===0)&&delete this.handlersMap[n],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}t.receivers=[];return t})();function S_(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}var n_=class{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,n,r=50){return _(this,null,function*(){let i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,s;return new Promise((a,u)=>{let l=S_("",20);i.port1.start();let h=setTimeout(()=>{u(new Error("unsupported_event"))},r);s={messageChannel:i,onMessage(p){let y=p;if(y.data.eventId===l)switch(y.data.status){case"ack":clearTimeout(h),o=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),a(y.data.response);break;default:clearTimeout(h),clearTimeout(o),u(new Error("invalid_response"));break}}},this.handlers.add(s),i.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:l,data:n},[i.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})})}};function ir(){return window}function QB(t){ir().location.href=t}function ZA(){return typeof ir().WorkerGlobalScope<"u"&&typeof ir().importScripts=="function"}function YB(){return _(this,null,function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})}function ZB(){var t;return((t=navigator?.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function JB(){return ZA()?self:null}var JA="firebaseLocalStorageDb",XB=1,Kh="firebaseLocalStorage",XA="fbase_key",Do=class{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}};function Jh(t,e){return t.transaction([Kh],e?"readwrite":"readonly").objectStore(Kh)}function e$(){let t=indexedDB.deleteDatabase(JA);return new Do(t).toPromise()}function r_(){let t=indexedDB.open(JA,XB);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{let r=t.result;try{r.createObjectStore(Kh,{keyPath:XA})}catch(i){n(i)}}),t.addEventListener("success",()=>_(this,null,function*(){let r=t.result;r.objectStoreNames.contains(Kh)?e(r):(r.close(),yield e$(),e(yield r_()))}))})}function _A(t,e,n){return _(this,null,function*(){let r=Jh(t,!0).put({[XA]:e,value:n});return new Do(r).toPromise()})}function t$(t,e){return _(this,null,function*(){let n=Jh(t,!1).get(e),r=yield new Do(n).toPromise();return r===void 0?null:r.value})}function IA(t,e){let n=Jh(t,!0).delete(e);return new Do(n).toPromise()}var n$=800,r$=3,i$=(()=>{class t{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){return _(this,null,function*(){return this.db?this.db:(this.db=yield r_(),this.db)})}_withRetries(n){return _(this,null,function*(){let r=0;for(;;)try{let i=yield this._openDb();return yield n(i)}catch(i){if(r++>r$)throw i;this.db&&(this.db.close(),this.db=void 0)}})}initializeServiceWorkerMessaging(){return _(this,null,function*(){return ZA()?this.initializeReceiver():this.initializeSender()})}initializeReceiver(){return _(this,null,function*(){this.receiver=KB._getInstance(JB()),this.receiver._subscribe("keyChanged",(n,r)=>_(this,null,function*(){return{keyProcessed:(yield this._poll()).includes(r.key)}})),this.receiver._subscribe("ping",(n,r)=>_(this,null,function*(){return["keyChanged"]}))})}initializeSender(){return _(this,null,function*(){var n,r;if(this.activeServiceWorker=yield YB(),!this.activeServiceWorker)return;this.sender=new n_(this.activeServiceWorker);let i=yield this.sender._send("ping",{},800);i&&!((n=i[0])===null||n===void 0)&&n.fulfilled&&!((r=i[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)})}notifyServiceWorker(n){return _(this,null,function*(){if(!(!this.sender||!this.activeServiceWorker||ZB()!==this.activeServiceWorker))try{yield this.sender._send("keyChanged",{key:n},this.serviceWorkerReceiverAvailable?800:50)}catch{}})}_isAvailable(){return _(this,null,function*(){try{if(!indexedDB)return!1;let n=yield r_();return yield _A(n,Wh,"1"),yield IA(n,Wh),!0}catch{}return!1})}_withPendingWrite(n){return _(this,null,function*(){this.pendingWrites++;try{yield n()}finally{this.pendingWrites--}})}_set(n,r){return _(this,null,function*(){return this._withPendingWrite(()=>_(this,null,function*(){return yield this._withRetries(i=>_A(i,n,r)),this.localCache[n]=r,this.notifyServiceWorker(n)}))})}_get(n){return _(this,null,function*(){let r=yield this._withRetries(i=>t$(i,n));return this.localCache[n]=r,r})}_remove(n){return _(this,null,function*(){return this._withPendingWrite(()=>_(this,null,function*(){return yield this._withRetries(r=>IA(r,n)),delete this.localCache[n],this.notifyServiceWorker(n)}))})}_poll(){return _(this,null,function*(){let n=yield this._withRetries(o=>{let s=Jh(o,!1).getAll();return new Do(s).toPromise()});if(!n)return[];if(this.pendingWrites!==0)return[];let r=[],i=new Set;if(n.length!==0)for(let{fbase_key:o,value:s}of n)i.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(s)&&(this.notifyListeners(o,s),r.push(o));for(let o of Object.keys(this.localCache))this.localCache[o]&&!i.has(o)&&(this.notifyListeners(o,null),r.push(o));return r})}notifyListeners(n,r){this.localCache[n]=r;let i=this.listeners[n];if(i)for(let o of Array.from(i))o(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>_(this,null,function*(){return this._poll()}),n$)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(n,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[n]||(this.listeners[n]=new Set,this._get(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&this.stopPolling()}}return t.type="LOCAL",t})(),eR=i$;var kZ=HA("rcb"),OZ=new bo(3e4,6e4);function tR(t,e){return e?kr(e):(G(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}var hu=class extends Gs{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return qs(e,this._buildIdpRequest())}_linkToIdToken(e,n){return qs(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return qs(e,this._buildIdpRequest())}_buildIdpRequest(e){let n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}};function o$(t){return KA(t.auth,new hu(t),t.bypassAuthState)}function s$(t){let{auth:e,user:n}=t;return G(n,e,"internal-error"),UB(n,new hu(t),t.bypassAuthState)}function a$(t){return _(this,null,function*(){let{auth:e,user:n}=t;return G(n,e,"internal-error"),jB(n,new hu(t),t.bypassAuthState)})}var Qh=class{constructor(e,n,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise((e,n)=>_(this,null,function*(){this.pendingPromise={resolve:e,reject:n};try{this.eventManager=yield this.resolver._initialize(this.auth),yield this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}}))}onAuthEvent(e){return _(this,null,function*(){let{urlResponse:n,sessionId:r,postBody:i,tenantId:o,error:s,type:a}=e;if(s){this.reject(s);return}let u={auth:this.auth,requestUri:n,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(yield this.getIdpTask(a)(u))}catch(l){this.reject(l)}})}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return o$;case"linkViaPopup":case"linkViaRedirect":return a$;case"reauthViaPopup":case"reauthViaRedirect":return s$;default:gn(this.auth,"internal-error")}}resolve(e){Fr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Fr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};var c$=new bo(2e3,1e4);function A_(t,e,n){return _(this,null,function*(){if($t(t.app))return Promise.reject(Fn(t,"operation-not-supported-in-this-environment"));let r=Vr(t);rB(t,e,du);let i=tR(r,n);return new u$(r,"signInViaPopup",e,i).executeNotNull()})}var u$=(()=>{class t extends Qh{constructor(n,r,i,o,s){super(n,r,o,s),this.provider=i,this.authWindow=null,this.pollId=null,t.currentPopupAction&&t.currentPopupAction.cancel(),t.currentPopupAction=this}executeNotNull(){return _(this,null,function*(){let n=yield this.execute();return G(n,this.auth,"internal-error"),n})}onExecution(){return _(this,null,function*(){Fr(this.filter.length===1,"Popup operations only handle one event");let n=S_();this.authWindow=yield this.resolver._openPopup(this.auth,this.provider,this.filter[0],n),this.authWindow.associatedEvent=n,this.resolver._originValidation(this.auth).catch(r=>{this.reject(r)}),this.resolver._isIframeWebStorageSupported(this.auth,r=>{r||this.reject(Fn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()})}get eventId(){var n;return((n=this.authWindow)===null||n===void 0?void 0:n.associatedEvent)||null}cancel(){this.reject(Fn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,t.currentPopupAction=null}pollUserCancellation(){let n=()=>{var r,i;if(!((i=(r=this.authWindow)===null||r===void 0?void 0:r.window)===null||i===void 0)&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Fn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(n,c$.get())};n()}}t.currentPopupAction=null;return t})(),l$="pendingRedirect",kh=new Map,i_=class t extends Qh{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}execute(){return _(this,null,function*(){let e=kh.get(this.auth._key());if(!e){try{let r=(yield d$(this.resolver,this.auth))?yield ti(t.prototype,this,"execute").call(this):null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}kh.set(this.auth._key(),e)}return this.bypassAuthState||kh.set(this.auth._key(),()=>Promise.resolve(null)),e()})}onAuthEvent(e){return _(this,null,function*(){if(e.type==="signInViaRedirect")return ti(t.prototype,this,"onAuthEvent").call(this,e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){let n=yield this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,ti(t.prototype,this,"onAuthEvent").call(this,e);this.resolve(null)}})}onExecution(){return _(this,null,function*(){})}cleanUp(){}};function d$(t,e){return _(this,null,function*(){let n=p$(e),r=f$(t);if(!(yield r._isAvailable()))return!1;let i=(yield r._get(n))==="true";return yield r._remove(n),i})}function h$(t,e){kh.set(t._key(),e)}function f$(t){return kr(t._redirectPersistence)}function p$(t){return xh(l$,t.config.apiKey,t.name)}function g$(t,e,n=!1){return _(this,null,function*(){if($t(t.app))return Promise.reject(Or(t));let r=Vr(t),i=tR(r,e),s=yield new i_(r,i,n).execute();return s&&!n&&(delete s.user._redirectEventId,yield r._persistUserIfCurrent(s.user),yield r._setRedirectUser(null,e)),s})}var m$=10*60*1e3,o_=class{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!y$(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!nR(e)){let i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Fn(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){let r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=m$&&this.cachedEventUids.clear(),this.cachedEventUids.has(EA(e))}saveEventToCache(e){this.cachedEventUids.add(EA(e)),this.lastProcessedEventTime=Date.now()}};function EA(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function nR({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function y$(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return nR(t);default:return!1}}function v$(n){return _(this,arguments,function*(t,e={}){return or(t,"GET","/v1/projects",e)})}var _$=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,I$=/^https?/;function E$(t){return _(this,null,function*(){if(t.config.emulator)return;let{authorizedDomains:e}=yield v$(t);for(let n of e)try{if(w$(n))return}catch{}gn(t,"unauthorized-domain")})}function w$(t){let e=zv(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){let s=new URL(t);return s.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&s.hostname===r}if(!I$.test(n))return!1;if(_$.test(t))return r===t;let i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}var C$=new bo(3e4,6e4);function wA(){let t=ir().___jsl;if(t?.H){for(let e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function b$(t){return new Promise((e,n)=>{var r,i,o;function s(){wA(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{wA(),n(Fn(t,"network-request-failed"))},timeout:C$.get()})}if(!((i=(r=ir().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((o=ir().gapi)===null||o===void 0)&&o.load)s();else{let a=HA("iframefcb");return ir()[a]=()=>{gapi.load?s():n(Fn(t,"network-request-failed"))},$A(`${bB()}?onload=${a}`).catch(u=>n(u))}}).catch(e=>{throw Oh=null,e})}var Oh=null;function D$(t){return Oh=Oh||b$(t),Oh}var T$=new bo(5e3,15e3),S$="__/auth/iframe",A$="emulator/auth/iframe",R$={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},M$=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function N$(t){let e=t.config;G(e.authDomain,t,"auth-domain-config-required");let n=e.emulator?l_(e,A$):`https://${t.config.authDomain}/${S$}`,r={apiKey:e.apiKey,appName:t.name,v:wi},i=M$.get(t.config.apiHost);i&&(r.eid=i);let o=t._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${Vs(r).slice(1)}`}function P$(t){return _(this,null,function*(){let e=yield D$(t),n=ir().gapi;return G(n,t,"internal-error"),e.open({where:document.body,url:N$(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:R$,dontclear:!0},r=>new Promise((i,o)=>_(this,null,function*(){yield r.restyle({setHideOnLeave:!1});let s=Fn(t,"network-request-failed"),a=ir().setTimeout(()=>{o(s)},T$.get());function u(){ir().clearTimeout(a),i(r)}r.ping(u).then(u,()=>{o(s)})})))})}var x$={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},k$=500,O$=600,F$="_blank",L$="http://localhost",Yh=class{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function V$(t,e,n,r=k$,i=O$){let o=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString(),a="",u=Object.assign(Object.assign({},x$),{width:r.toString(),height:i.toString(),top:o,left:s}),l=dt().toLowerCase();n&&(a=OA(l)?F$:n),xA(l)&&(e=e||L$,u.scrollbars="yes");let h=Object.entries(u).reduce((y,[m,D])=>`${y}${m}=${D},`,"");if(vB(l)&&a!=="_self")return j$(e||"",a),new Yh(null);let p=window.open(e||"",a,h);G(p,t,"popup-blocked");try{p.focus()}catch{}return new Yh(p)}function j$(t,e){let n=document.createElement("a");n.href=t,n.target=e;let r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}var U$="__/auth/handler",B$="emulator/auth/handler",$$=encodeURIComponent("fac");function CA(t,e,n,r,i,o){return _(this,null,function*(){G(t.config.authDomain,t,"auth-domain-config-required"),G(t.config.apiKey,t,"invalid-api-key");let s={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:wi,eventId:i};if(e instanceof du){e.setDefaultLanguage(t.languageCode),s.providerId=e.providerId||"",FS(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(let[h,p]of Object.entries(o||{}))s[h]=p}if(e instanceof qh){let h=e.getScopes().filter(p=>p!=="");h.length>0&&(s.scopes=h.join(","))}t.tenantId&&(s.tid=t.tenantId);let a=s;for(let h of Object.keys(a))a[h]===void 0&&delete a[h];let u=yield t._getAppCheckToken(),l=u?`#${$$}=${encodeURIComponent(u)}`:"";return`${H$(t)}?${Vs(a).slice(1)}${l}`})}function H$({config:t}){return t.emulator?l_(t,B$):`https://${t.authDomain}/${U$}`}var Hv="webStorageSupport",s_=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=T_,this._completeRedirectFn=g$,this._overrideRedirectResult=h$}_openPopup(e,n,r,i){return _(this,null,function*(){var o;Fr((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");let s=yield CA(e,n,r,zv(),i);return V$(e,s,S_())})}_openRedirect(e,n,r,i){return _(this,null,function*(){yield this._originValidation(e);let o=yield CA(e,n,r,zv(),i);return QB(o),new Promise(()=>{})})}_initialize(e){let n=e._key();if(this.eventManagers[n]){let{manager:i,promise:o}=this.eventManagers[n];return i?Promise.resolve(i):(Fr(o,"If manager is not set, promise should be"),o)}let r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}initAndGetManager(e){return _(this,null,function*(){let n=yield P$(e),r=new o_(e);return n.register("authEvent",i=>(G(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r})}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Hv,{type:Hv},i=>{var o;let s=(o=i?.[0])===null||o===void 0?void 0:o[Hv];s!==void 0&&n(!!s),gn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){let n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=E$(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return UA()||kA()||p_()}},rR=s_;var bA="@firebase/auth",DA="1.10.1";var a_=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return _(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){G(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function z$(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function q$(t){kn(new Bt("auth",(e,{options:n})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;G(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});let u={apiKey:s,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:BA(t)},l=new Zv(r,i,o,u);return TB(l,n),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),kn(new Bt("auth-internal",e=>{let n=Vr(e.getProvider("auth").getImmediate());return(r=>new a_(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),ze(bA,DA,z$(t)),ze(bA,DA,"esm2017")}var W$=5*60,G$=vv("authIdTokenMaxAge")||W$,TA=null,K$=t=>e=>_(void 0,null,function*(){let n=e&&(yield e.getIdTokenResult()),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>G$)return;let i=n?.token;TA!==i&&(TA=i,yield fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))});function R_(t=Eo()){let e=Bs(t,"auth");if(e.isInitialized())return e.getImmediate();let n=g_(t,{popupRedirectResolver:rR,persistence:[eR,YA,T_]}),r=vv("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){let o=new URL(r,location.origin);if(location.origin===o.origin){let s=K$(o.toString());b_(n,s,()=>s(n.currentUser)),C_(n,a=>s(a))}}let i=mv("auth");return i&&m_(n,`http://${i}`),n}function Q$(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}wB({loadJS(t){return new Promise((e,n)=>{let r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{let o=Fn("internal-error");o.customData=i,n(o)},r.type="text/javascript",r.charset="UTF-8",Q$().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});q$("Browser");var iR="auth",To=class{constructor(e){return e}},pu=class{constructor(){return Hs(iR)}};var M_=new $("angularfire2.auth-instances");function OH(t,e){let n=ru(iR,t,e);return n&&new To(n)}function FH(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new To(r)}}var LH={provide:pu,deps:[[new ln,M_]]},VH={provide:To,useFactory:OH,deps:[[new ln,M_],Pr]};function oR(t,...e){return ze("angularfire",Ci.full,"auth"),Cr([VH,LH,{provide:M_,useFactory:FH(t),multi:!0,deps:[Pe,_t,bi,Co,[new ln,zs],...e]}])}var sR=wt(I_,!0,2);var aR=wt(R_,!0);var cR=wt(__,!0,2);var uR=wt(E_,!0,2);var lR=wt(A_,!0,2);var dR=wt(D_,!0,2);var N_=wt(w_,!0,2);var hR=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},fR={};var jr,P_;(function(){var t;function e(T,v){function C(){}C.prototype=v.prototype,T.D=v.prototype,T.prototype=new C,T.prototype.constructor=T,T.C=function(b,A,M){for(var w=Array(arguments.length-2),hr=2;hr<arguments.length;hr++)w[hr-2]=arguments[hr];return v.prototype[A].apply(b,w)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(T,v,C){C||(C=0);var b=Array(16);if(typeof v=="string")for(var A=0;16>A;++A)b[A]=v.charCodeAt(C++)|v.charCodeAt(C++)<<8|v.charCodeAt(C++)<<16|v.charCodeAt(C++)<<24;else for(A=0;16>A;++A)b[A]=v[C++]|v[C++]<<8|v[C++]<<16|v[C++]<<24;v=T.g[0],C=T.g[1],A=T.g[2];var M=T.g[3],w=v+(M^C&(A^M))+b[0]+3614090360&4294967295;v=C+(w<<7&4294967295|w>>>25),w=M+(A^v&(C^A))+b[1]+3905402710&4294967295,M=v+(w<<12&4294967295|w>>>20),w=A+(C^M&(v^C))+b[2]+606105819&4294967295,A=M+(w<<17&4294967295|w>>>15),w=C+(v^A&(M^v))+b[3]+3250441966&4294967295,C=A+(w<<22&4294967295|w>>>10),w=v+(M^C&(A^M))+b[4]+4118548399&4294967295,v=C+(w<<7&4294967295|w>>>25),w=M+(A^v&(C^A))+b[5]+1200080426&4294967295,M=v+(w<<12&4294967295|w>>>20),w=A+(C^M&(v^C))+b[6]+2821735955&4294967295,A=M+(w<<17&4294967295|w>>>15),w=C+(v^A&(M^v))+b[7]+4249261313&4294967295,C=A+(w<<22&4294967295|w>>>10),w=v+(M^C&(A^M))+b[8]+1770035416&4294967295,v=C+(w<<7&4294967295|w>>>25),w=M+(A^v&(C^A))+b[9]+2336552879&4294967295,M=v+(w<<12&4294967295|w>>>20),w=A+(C^M&(v^C))+b[10]+4294925233&4294967295,A=M+(w<<17&4294967295|w>>>15),w=C+(v^A&(M^v))+b[11]+2304563134&4294967295,C=A+(w<<22&4294967295|w>>>10),w=v+(M^C&(A^M))+b[12]+1804603682&4294967295,v=C+(w<<7&4294967295|w>>>25),w=M+(A^v&(C^A))+b[13]+4254626195&4294967295,M=v+(w<<12&4294967295|w>>>20),w=A+(C^M&(v^C))+b[14]+2792965006&4294967295,A=M+(w<<17&4294967295|w>>>15),w=C+(v^A&(M^v))+b[15]+1236535329&4294967295,C=A+(w<<22&4294967295|w>>>10),w=v+(A^M&(C^A))+b[1]+4129170786&4294967295,v=C+(w<<5&4294967295|w>>>27),w=M+(C^A&(v^C))+b[6]+3225465664&4294967295,M=v+(w<<9&4294967295|w>>>23),w=A+(v^C&(M^v))+b[11]+643717713&4294967295,A=M+(w<<14&4294967295|w>>>18),w=C+(M^v&(A^M))+b[0]+3921069994&4294967295,C=A+(w<<20&4294967295|w>>>12),w=v+(A^M&(C^A))+b[5]+3593408605&4294967295,v=C+(w<<5&4294967295|w>>>27),w=M+(C^A&(v^C))+b[10]+38016083&4294967295,M=v+(w<<9&4294967295|w>>>23),w=A+(v^C&(M^v))+b[15]+3634488961&4294967295,A=M+(w<<14&4294967295|w>>>18),w=C+(M^v&(A^M))+b[4]+3889429448&4294967295,C=A+(w<<20&4294967295|w>>>12),w=v+(A^M&(C^A))+b[9]+568446438&4294967295,v=C+(w<<5&4294967295|w>>>27),w=M+(C^A&(v^C))+b[14]+3275163606&4294967295,M=v+(w<<9&4294967295|w>>>23),w=A+(v^C&(M^v))+b[3]+4107603335&4294967295,A=M+(w<<14&4294967295|w>>>18),w=C+(M^v&(A^M))+b[8]+1163531501&4294967295,C=A+(w<<20&4294967295|w>>>12),w=v+(A^M&(C^A))+b[13]+2850285829&4294967295,v=C+(w<<5&4294967295|w>>>27),w=M+(C^A&(v^C))+b[2]+4243563512&4294967295,M=v+(w<<9&4294967295|w>>>23),w=A+(v^C&(M^v))+b[7]+1735328473&4294967295,A=M+(w<<14&4294967295|w>>>18),w=C+(M^v&(A^M))+b[12]+2368359562&4294967295,C=A+(w<<20&4294967295|w>>>12),w=v+(C^A^M)+b[5]+4294588738&4294967295,v=C+(w<<4&4294967295|w>>>28),w=M+(v^C^A)+b[8]+2272392833&4294967295,M=v+(w<<11&4294967295|w>>>21),w=A+(M^v^C)+b[11]+1839030562&4294967295,A=M+(w<<16&4294967295|w>>>16),w=C+(A^M^v)+b[14]+4259657740&4294967295,C=A+(w<<23&4294967295|w>>>9),w=v+(C^A^M)+b[1]+2763975236&4294967295,v=C+(w<<4&4294967295|w>>>28),w=M+(v^C^A)+b[4]+1272893353&4294967295,M=v+(w<<11&4294967295|w>>>21),w=A+(M^v^C)+b[7]+4139469664&4294967295,A=M+(w<<16&4294967295|w>>>16),w=C+(A^M^v)+b[10]+3200236656&4294967295,C=A+(w<<23&4294967295|w>>>9),w=v+(C^A^M)+b[13]+681279174&4294967295,v=C+(w<<4&4294967295|w>>>28),w=M+(v^C^A)+b[0]+3936430074&4294967295,M=v+(w<<11&4294967295|w>>>21),w=A+(M^v^C)+b[3]+3572445317&4294967295,A=M+(w<<16&4294967295|w>>>16),w=C+(A^M^v)+b[6]+76029189&4294967295,C=A+(w<<23&4294967295|w>>>9),w=v+(C^A^M)+b[9]+3654602809&4294967295,v=C+(w<<4&4294967295|w>>>28),w=M+(v^C^A)+b[12]+3873151461&4294967295,M=v+(w<<11&4294967295|w>>>21),w=A+(M^v^C)+b[15]+530742520&4294967295,A=M+(w<<16&4294967295|w>>>16),w=C+(A^M^v)+b[2]+3299628645&4294967295,C=A+(w<<23&4294967295|w>>>9),w=v+(A^(C|~M))+b[0]+4096336452&4294967295,v=C+(w<<6&4294967295|w>>>26),w=M+(C^(v|~A))+b[7]+1126891415&4294967295,M=v+(w<<10&4294967295|w>>>22),w=A+(v^(M|~C))+b[14]+2878612391&4294967295,A=M+(w<<15&4294967295|w>>>17),w=C+(M^(A|~v))+b[5]+4237533241&4294967295,C=A+(w<<21&4294967295|w>>>11),w=v+(A^(C|~M))+b[12]+1700485571&4294967295,v=C+(w<<6&4294967295|w>>>26),w=M+(C^(v|~A))+b[3]+2399980690&4294967295,M=v+(w<<10&4294967295|w>>>22),w=A+(v^(M|~C))+b[10]+4293915773&4294967295,A=M+(w<<15&4294967295|w>>>17),w=C+(M^(A|~v))+b[1]+2240044497&4294967295,C=A+(w<<21&4294967295|w>>>11),w=v+(A^(C|~M))+b[8]+1873313359&4294967295,v=C+(w<<6&4294967295|w>>>26),w=M+(C^(v|~A))+b[15]+4264355552&4294967295,M=v+(w<<10&4294967295|w>>>22),w=A+(v^(M|~C))+b[6]+2734768916&4294967295,A=M+(w<<15&4294967295|w>>>17),w=C+(M^(A|~v))+b[13]+1309151649&4294967295,C=A+(w<<21&4294967295|w>>>11),w=v+(A^(C|~M))+b[4]+4149444226&4294967295,v=C+(w<<6&4294967295|w>>>26),w=M+(C^(v|~A))+b[11]+3174756917&4294967295,M=v+(w<<10&4294967295|w>>>22),w=A+(v^(M|~C))+b[2]+718787259&4294967295,A=M+(w<<15&4294967295|w>>>17),w=C+(M^(A|~v))+b[9]+3951481745&4294967295,T.g[0]=T.g[0]+v&4294967295,T.g[1]=T.g[1]+(A+(w<<21&4294967295|w>>>11))&4294967295,T.g[2]=T.g[2]+A&4294967295,T.g[3]=T.g[3]+M&4294967295}r.prototype.u=function(T,v){v===void 0&&(v=T.length);for(var C=v-this.blockSize,b=this.B,A=this.h,M=0;M<v;){if(A==0)for(;M<=C;)i(this,T,M),M+=this.blockSize;if(typeof T=="string"){for(;M<v;)if(b[A++]=T.charCodeAt(M++),A==this.blockSize){i(this,b),A=0;break}}else for(;M<v;)if(b[A++]=T[M++],A==this.blockSize){i(this,b),A=0;break}}this.h=A,this.o+=v},r.prototype.v=function(){var T=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);T[0]=128;for(var v=1;v<T.length-8;++v)T[v]=0;var C=8*this.o;for(v=T.length-8;v<T.length;++v)T[v]=C&255,C/=256;for(this.u(T),T=Array(16),v=C=0;4>v;++v)for(var b=0;32>b;b+=8)T[C++]=this.g[v]>>>b&255;return T};function o(T,v){var C=a;return Object.prototype.hasOwnProperty.call(C,T)?C[T]:C[T]=v(T)}function s(T,v){this.h=v;for(var C=[],b=!0,A=T.length-1;0<=A;A--){var M=T[A]|0;b&&M==v||(C[A]=M,b=!1)}this.g=C}var a={};function u(T){return-128<=T&&128>T?o(T,function(v){return new s([v|0],0>v?-1:0)}):new s([T|0],0>T?-1:0)}function l(T){if(isNaN(T)||!isFinite(T))return p;if(0>T)return x(l(-T));for(var v=[],C=1,b=0;T>=C;b++)v[b]=T/C|0,C*=4294967296;return new s(v,0)}function h(T,v){if(T.length==0)throw Error("number format error: empty string");if(v=v||10,2>v||36<v)throw Error("radix out of range: "+v);if(T.charAt(0)=="-")return x(h(T.substring(1),v));if(0<=T.indexOf("-"))throw Error('number format error: interior "-" character');for(var C=l(Math.pow(v,8)),b=p,A=0;A<T.length;A+=8){var M=Math.min(8,T.length-A),w=parseInt(T.substring(A,A+M),v);8>M?(M=l(Math.pow(v,M)),b=b.j(M).add(l(w))):(b=b.j(C),b=b.add(l(w)))}return b}var p=u(0),y=u(1),m=u(16777216);t=s.prototype,t.m=function(){if(k(this))return-x(this).m();for(var T=0,v=1,C=0;C<this.g.length;C++){var b=this.i(C);T+=(0<=b?b:4294967296+b)*v,v*=4294967296}return T},t.toString=function(T){if(T=T||10,2>T||36<T)throw Error("radix out of range: "+T);if(D(this))return"0";if(k(this))return"-"+x(this).toString(T);for(var v=l(Math.pow(T,6)),C=this,b="";;){var A=Me(C,v).g;C=U(C,A.j(v));var M=((0<C.g.length?C.g[0]:C.h)>>>0).toString(T);if(C=A,D(C))return M+b;for(;6>M.length;)M="0"+M;b=M+b}},t.i=function(T){return 0>T?0:T<this.g.length?this.g[T]:this.h};function D(T){if(T.h!=0)return!1;for(var v=0;v<T.g.length;v++)if(T.g[v]!=0)return!1;return!0}function k(T){return T.h==-1}t.l=function(T){return T=U(this,T),k(T)?-1:D(T)?0:1};function x(T){for(var v=T.g.length,C=[],b=0;b<v;b++)C[b]=~T.g[b];return new s(C,~T.h).add(y)}t.abs=function(){return k(this)?x(this):this},t.add=function(T){for(var v=Math.max(this.g.length,T.g.length),C=[],b=0,A=0;A<=v;A++){var M=b+(this.i(A)&65535)+(T.i(A)&65535),w=(M>>>16)+(this.i(A)>>>16)+(T.i(A)>>>16);b=w>>>16,M&=65535,w&=65535,C[A]=w<<16|M}return new s(C,C[C.length-1]&-2147483648?-1:0)};function U(T,v){return T.add(x(v))}t.j=function(T){if(D(this)||D(T))return p;if(k(this))return k(T)?x(this).j(x(T)):x(x(this).j(T));if(k(T))return x(this.j(x(T)));if(0>this.l(m)&&0>T.l(m))return l(this.m()*T.m());for(var v=this.g.length+T.g.length,C=[],b=0;b<2*v;b++)C[b]=0;for(b=0;b<this.g.length;b++)for(var A=0;A<T.g.length;A++){var M=this.i(b)>>>16,w=this.i(b)&65535,hr=T.i(A)>>>16,Ma=T.i(A)&65535;C[2*b+2*A]+=w*Ma,K(C,2*b+2*A),C[2*b+2*A+1]+=M*Ma,K(C,2*b+2*A+1),C[2*b+2*A+1]+=w*hr,K(C,2*b+2*A+1),C[2*b+2*A+2]+=M*hr,K(C,2*b+2*A+2)}for(b=0;b<v;b++)C[b]=C[2*b+1]<<16|C[2*b];for(b=v;b<2*v;b++)C[b]=0;return new s(C,0)};function K(T,v){for(;(T[v]&65535)!=T[v];)T[v+1]+=T[v]>>>16,T[v]&=65535,v++}function J(T,v){this.g=T,this.h=v}function Me(T,v){if(D(v))throw Error("division by zero");if(D(T))return new J(p,p);if(k(T))return v=Me(x(T),v),new J(x(v.g),x(v.h));if(k(v))return v=Me(T,x(v)),new J(x(v.g),v.h);if(30<T.g.length){if(k(T)||k(v))throw Error("slowDivide_ only works with positive integers.");for(var C=y,b=v;0>=b.l(T);)C=ut(C),b=ut(b);var A=Ne(C,1),M=Ne(b,1);for(b=Ne(b,2),C=Ne(C,2);!D(b);){var w=M.add(b);0>=w.l(T)&&(A=A.add(C),M=w),b=Ne(b,1),C=Ne(C,1)}return v=U(T,A.j(v)),new J(A,v)}for(A=p;0<=T.l(v);){for(C=Math.max(1,Math.floor(T.m()/v.m())),b=Math.ceil(Math.log(C)/Math.LN2),b=48>=b?1:Math.pow(2,b-48),M=l(C),w=M.j(v);k(w)||0<w.l(T);)C-=b,M=l(C),w=M.j(v);D(M)&&(M=y),A=A.add(M),T=U(T,w)}return new J(A,T)}t.A=function(T){return Me(this,T).h},t.and=function(T){for(var v=Math.max(this.g.length,T.g.length),C=[],b=0;b<v;b++)C[b]=this.i(b)&T.i(b);return new s(C,this.h&T.h)},t.or=function(T){for(var v=Math.max(this.g.length,T.g.length),C=[],b=0;b<v;b++)C[b]=this.i(b)|T.i(b);return new s(C,this.h|T.h)},t.xor=function(T){for(var v=Math.max(this.g.length,T.g.length),C=[],b=0;b<v;b++)C[b]=this.i(b)^T.i(b);return new s(C,this.h^T.h)};function ut(T){for(var v=T.g.length+1,C=[],b=0;b<v;b++)C[b]=T.i(b)<<1|T.i(b-1)>>>31;return new s(C,T.h)}function Ne(T,v){var C=v>>5;v%=32;for(var b=T.g.length-C,A=[],M=0;M<b;M++)A[M]=0<v?T.i(M+C)>>>v|T.i(M+C+1)<<32-v:T.i(M+C);return new s(A,T.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,P_=fR.Md5=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=l,s.fromString=h,jr=fR.Integer=s}).apply(typeof hR<"u"?hR:typeof self<"u"?self:typeof window<"u"?window:{});var Xh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Ur={};var x_,jH,Qs,k_,gu,ef,O_,F_,L_;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,d,f){return c==Array.prototype||c==Object.prototype||(c[d]=f.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Xh=="object"&&Xh];for(var d=0;d<c.length;++d){var f=c[d];if(f&&f.Math==Math)return f}throw Error("Cannot find global object")}var r=n(this);function i(c,d){if(d)e:{var f=r;c=c.split(".");for(var g=0;g<c.length-1;g++){var R=c[g];if(!(R in f))break e;f=f[R]}c=c[c.length-1],g=f[c],d=d(g),d!=g&&d!=null&&e(f,c,{configurable:!0,writable:!0,value:d})}}function o(c,d){c instanceof String&&(c+="");var f=0,g=!1,R={next:function(){if(!g&&f<c.length){var N=f++;return{value:d(N,c[N]),done:!1}}return g=!0,{done:!0,value:void 0}}};return R[Symbol.iterator]=function(){return R},R}i("Array.prototype.values",function(c){return c||function(){return o(this,function(d,f){return f})}});var s=s||{},a=this||self;function u(c){var d=typeof c;return d=d!="object"?d:c?Array.isArray(c)?"array":d:"null",d=="array"||d=="object"&&typeof c.length=="number"}function l(c){var d=typeof c;return d=="object"&&c!=null||d=="function"}function h(c,d,f){return c.call.apply(c.bind,arguments)}function p(c,d,f){if(!c)throw Error();if(2<arguments.length){var g=Array.prototype.slice.call(arguments,2);return function(){var R=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(R,g),c.apply(d,R)}}return function(){return c.apply(d,arguments)}}function y(c,d,f){return y=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?h:p,y.apply(null,arguments)}function m(c,d){var f=Array.prototype.slice.call(arguments,1);return function(){var g=f.slice();return g.push.apply(g,arguments),c.apply(this,g)}}function D(c,d){function f(){}f.prototype=d.prototype,c.aa=d.prototype,c.prototype=new f,c.prototype.constructor=c,c.Qb=function(g,R,N){for(var V=Array(arguments.length-2),xe=2;xe<arguments.length;xe++)V[xe-2]=arguments[xe];return d.prototype[R].apply(g,V)}}function k(c){let d=c.length;if(0<d){let f=Array(d);for(let g=0;g<d;g++)f[g]=c[g];return f}return[]}function x(c,d){for(let f=1;f<arguments.length;f++){let g=arguments[f];if(u(g)){let R=c.length||0,N=g.length||0;c.length=R+N;for(let V=0;V<N;V++)c[R+V]=g[V]}else c.push(g)}}class U{constructor(d,f){this.i=d,this.j=f,this.h=0,this.g=null}get(){let d;return 0<this.h?(this.h--,d=this.g,this.g=d.next,d.next=null):d=this.i(),d}}function K(c){return/^[\s\xa0]*$/.test(c)}function J(){var c=a.navigator;return c&&(c=c.userAgent)?c:""}function Me(c){return Me[" "](c),c}Me[" "]=function(){};var ut=J().indexOf("Gecko")!=-1&&!(J().toLowerCase().indexOf("webkit")!=-1&&J().indexOf("Edge")==-1)&&!(J().indexOf("Trident")!=-1||J().indexOf("MSIE")!=-1)&&J().indexOf("Edge")==-1;function Ne(c,d,f){for(let g in c)d.call(f,c[g],g,c)}function T(c,d){for(let f in c)d.call(void 0,c[f],f,c)}function v(c){let d={};for(let f in c)d[f]=c[f];return d}let C="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function b(c,d){let f,g;for(let R=1;R<arguments.length;R++){g=arguments[R];for(f in g)c[f]=g[f];for(let N=0;N<C.length;N++)f=C[N],Object.prototype.hasOwnProperty.call(g,f)&&(c[f]=g[f])}}function A(c){var d=1;c=c.split(":");let f=[];for(;0<d&&c.length;)f.push(c.shift()),d--;return c.length&&f.push(c.join(":")),f}function M(c){a.setTimeout(()=>{throw c},0)}function w(){var c=Tp;let d=null;return c.g&&(d=c.g,c.g=c.g.next,c.g||(c.h=null),d.next=null),d}class hr{constructor(){this.h=this.g=null}add(d,f){let g=Ma.get();g.set(d,f),this.h?this.h.next=g:this.g=g,this.h=g}}var Ma=new U(()=>new gP,c=>c.reset());class gP{constructor(){this.next=this.g=this.h=null}set(d,f){this.h=d,this.g=f,this.next=null}reset(){this.next=this.g=this.h=null}}let Na,Pa=!1,Tp=new hr,iw=()=>{let c=a.Promise.resolve(void 0);Na=()=>{c.then(mP)}};var mP=()=>{for(var c;c=w();){try{c.h.call(c.g)}catch(f){M(f)}var d=Ma;d.j(c),100>d.h&&(d.h++,c.next=d.g,d.g=c)}Pa=!1};function Zr(){this.s=this.s,this.C=this.C}Zr.prototype.s=!1,Zr.prototype.ma=function(){this.s||(this.s=!0,this.N())},Zr.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function bt(c,d){this.type=c,this.g=this.target=d,this.defaultPrevented=!1}bt.prototype.h=function(){this.defaultPrevented=!0};var yP=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var c=!1,d=Object.defineProperty({},"passive",{get:function(){c=!0}});try{let f=()=>{};a.addEventListener("test",f,d),a.removeEventListener("test",f,d)}catch{}return c}();function xa(c,d){if(bt.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var f=this.type=c.type,g=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=d,d=c.relatedTarget){if(ut){e:{try{Me(d.nodeName);var R=!0;break e}catch{}R=!1}R||(d=null)}}else f=="mouseover"?d=c.fromElement:f=="mouseout"&&(d=c.toElement);this.relatedTarget=d,g?(this.clientX=g.clientX!==void 0?g.clientX:g.pageX,this.clientY=g.clientY!==void 0?g.clientY:g.pageY,this.screenX=g.screenX||0,this.screenY=g.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:vP[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&xa.aa.h.call(this)}}D(xa,bt);var vP={2:"touch",3:"pen",4:"mouse"};xa.prototype.h=function(){xa.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var ka="closure_listenable_"+(1e6*Math.random()|0),_P=0;function IP(c,d,f,g,R){this.listener=c,this.proxy=null,this.src=d,this.type=f,this.capture=!!g,this.ha=R,this.key=++_P,this.da=this.fa=!1}function zu(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function qu(c){this.src=c,this.g={},this.h=0}qu.prototype.add=function(c,d,f,g,R){var N=c.toString();c=this.g[N],c||(c=this.g[N]=[],this.h++);var V=Ap(c,d,g,R);return-1<V?(d=c[V],f||(d.fa=!1)):(d=new IP(d,this.src,N,!!g,R),d.fa=f,c.push(d)),d};function Sp(c,d){var f=d.type;if(f in c.g){var g=c.g[f],R=Array.prototype.indexOf.call(g,d,void 0),N;(N=0<=R)&&Array.prototype.splice.call(g,R,1),N&&(zu(d),c.g[f].length==0&&(delete c.g[f],c.h--))}}function Ap(c,d,f,g){for(var R=0;R<c.length;++R){var N=c[R];if(!N.da&&N.listener==d&&N.capture==!!f&&N.ha==g)return R}return-1}var Rp="closure_lm_"+(1e6*Math.random()|0),Mp={};function ow(c,d,f,g,R){if(g&&g.once)return aw(c,d,f,g,R);if(Array.isArray(d)){for(var N=0;N<d.length;N++)ow(c,d[N],f,g,R);return null}return f=kp(f),c&&c[ka]?c.K(d,f,l(g)?!!g.capture:!!g,R):sw(c,d,f,!1,g,R)}function sw(c,d,f,g,R,N){if(!d)throw Error("Invalid event type");var V=l(R)?!!R.capture:!!R,xe=Pp(c);if(xe||(c[Rp]=xe=new qu(c)),f=xe.add(d,f,g,V,N),f.proxy)return f;if(g=EP(),f.proxy=g,g.src=c,g.listener=f,c.addEventListener)yP||(R=V),R===void 0&&(R=!1),c.addEventListener(d.toString(),g,R);else if(c.attachEvent)c.attachEvent(uw(d.toString()),g);else if(c.addListener&&c.removeListener)c.addListener(g);else throw Error("addEventListener and attachEvent are unavailable.");return f}function EP(){function c(f){return d.call(c.src,c.listener,f)}let d=wP;return c}function aw(c,d,f,g,R){if(Array.isArray(d)){for(var N=0;N<d.length;N++)aw(c,d[N],f,g,R);return null}return f=kp(f),c&&c[ka]?c.L(d,f,l(g)?!!g.capture:!!g,R):sw(c,d,f,!0,g,R)}function cw(c,d,f,g,R){if(Array.isArray(d))for(var N=0;N<d.length;N++)cw(c,d[N],f,g,R);else g=l(g)?!!g.capture:!!g,f=kp(f),c&&c[ka]?(c=c.i,d=String(d).toString(),d in c.g&&(N=c.g[d],f=Ap(N,f,g,R),-1<f&&(zu(N[f]),Array.prototype.splice.call(N,f,1),N.length==0&&(delete c.g[d],c.h--)))):c&&(c=Pp(c))&&(d=c.g[d.toString()],c=-1,d&&(c=Ap(d,f,g,R)),(f=-1<c?d[c]:null)&&Np(f))}function Np(c){if(typeof c!="number"&&c&&!c.da){var d=c.src;if(d&&d[ka])Sp(d.i,c);else{var f=c.type,g=c.proxy;d.removeEventListener?d.removeEventListener(f,g,c.capture):d.detachEvent?d.detachEvent(uw(f),g):d.addListener&&d.removeListener&&d.removeListener(g),(f=Pp(d))?(Sp(f,c),f.h==0&&(f.src=null,d[Rp]=null)):zu(c)}}}function uw(c){return c in Mp?Mp[c]:Mp[c]="on"+c}function wP(c,d){if(c.da)c=!0;else{d=new xa(d,this);var f=c.listener,g=c.ha||c.src;c.fa&&Np(c),c=f.call(g,d)}return c}function Pp(c){return c=c[Rp],c instanceof qu?c:null}var xp="__closure_events_fn_"+(1e9*Math.random()>>>0);function kp(c){return typeof c=="function"?c:(c[xp]||(c[xp]=function(d){return c.handleEvent(d)}),c[xp])}function Dt(){Zr.call(this),this.i=new qu(this),this.M=this,this.F=null}D(Dt,Zr),Dt.prototype[ka]=!0,Dt.prototype.removeEventListener=function(c,d,f,g){cw(this,c,d,f,g)};function Pt(c,d){var f,g=c.F;if(g)for(f=[];g;g=g.F)f.push(g);if(c=c.M,g=d.type||d,typeof d=="string")d=new bt(d,c);else if(d instanceof bt)d.target=d.target||c;else{var R=d;d=new bt(g,c),b(d,R)}if(R=!0,f)for(var N=f.length-1;0<=N;N--){var V=d.g=f[N];R=Wu(V,g,!0,d)&&R}if(V=d.g=c,R=Wu(V,g,!0,d)&&R,R=Wu(V,g,!1,d)&&R,f)for(N=0;N<f.length;N++)V=d.g=f[N],R=Wu(V,g,!1,d)&&R}Dt.prototype.N=function(){if(Dt.aa.N.call(this),this.i){var c=this.i,d;for(d in c.g){for(var f=c.g[d],g=0;g<f.length;g++)zu(f[g]);delete c.g[d],c.h--}}this.F=null},Dt.prototype.K=function(c,d,f,g){return this.i.add(String(c),d,!1,f,g)},Dt.prototype.L=function(c,d,f,g){return this.i.add(String(c),d,!0,f,g)};function Wu(c,d,f,g){if(d=c.i.g[String(d)],!d)return!0;d=d.concat();for(var R=!0,N=0;N<d.length;++N){var V=d[N];if(V&&!V.da&&V.capture==f){var xe=V.listener,mt=V.ha||V.src;V.fa&&Sp(c.i,V),R=xe.call(mt,g)!==!1&&R}}return R&&!g.defaultPrevented}function lw(c,d,f){if(typeof c=="function")f&&(c=y(c,f));else if(c&&typeof c.handleEvent=="function")c=y(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(d)?-1:a.setTimeout(c,d||0)}function dw(c){c.g=lw(()=>{c.g=null,c.i&&(c.i=!1,dw(c))},c.l);let d=c.h;c.h=null,c.m.apply(null,d)}class CP extends Zr{constructor(d,f){super(),this.m=d,this.l=f,this.h=null,this.i=!1,this.g=null}j(d){this.h=arguments,this.g?this.i=!0:dw(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Oa(c){Zr.call(this),this.h=c,this.g={}}D(Oa,Zr);var hw=[];function fw(c){Ne(c.g,function(d,f){this.g.hasOwnProperty(f)&&Np(d)},c),c.g={}}Oa.prototype.N=function(){Oa.aa.N.call(this),fw(this)},Oa.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Op=a.JSON.stringify,bP=a.JSON.parse,DP=class{stringify(c){return a.JSON.stringify(c,void 0)}parse(c){return a.JSON.parse(c,void 0)}};function Fp(){}Fp.prototype.h=null;function pw(c){return c.h||(c.h=c.i())}function gw(){}var Fa={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Lp(){bt.call(this,"d")}D(Lp,bt);function Vp(){bt.call(this,"c")}D(Vp,bt);var Fi={},mw=null;function Gu(){return mw=mw||new Dt}Fi.La="serverreachability";function yw(c){bt.call(this,Fi.La,c)}D(yw,bt);function La(c){let d=Gu();Pt(d,new yw(d))}Fi.STAT_EVENT="statevent";function vw(c,d){bt.call(this,Fi.STAT_EVENT,c),this.stat=d}D(vw,bt);function xt(c){let d=Gu();Pt(d,new vw(d,c))}Fi.Ma="timingevent";function _w(c,d){bt.call(this,Fi.Ma,c),this.size=d}D(_w,bt);function Va(c,d){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){c()},d)}function ja(){this.g=!0}ja.prototype.xa=function(){this.g=!1};function TP(c,d,f,g,R,N){c.info(function(){if(c.g)if(N)for(var V="",xe=N.split("&"),mt=0;mt<xe.length;mt++){var Se=xe[mt].split("=");if(1<Se.length){var Tt=Se[0];Se=Se[1];var St=Tt.split("_");V=2<=St.length&&St[1]=="type"?V+(Tt+"="+Se+"&"):V+(Tt+"=redacted&")}}else V=null;else V=N;return"XMLHTTP REQ ("+g+") [attempt "+R+"]: "+d+`
`+f+`
`+V})}function SP(c,d,f,g,R,N,V){c.info(function(){return"XMLHTTP RESP ("+g+") [ attempt "+R+"]: "+d+`
`+f+`
`+N+" "+V})}function Uo(c,d,f,g){c.info(function(){return"XMLHTTP TEXT ("+d+"): "+RP(c,f)+(g?" "+g:"")})}function AP(c,d){c.info(function(){return"TIMEOUT: "+d})}ja.prototype.info=function(){};function RP(c,d){if(!c.g)return d;if(!d)return null;try{var f=JSON.parse(d);if(f){for(c=0;c<f.length;c++)if(Array.isArray(f[c])){var g=f[c];if(!(2>g.length)){var R=g[1];if(Array.isArray(R)&&!(1>R.length)){var N=R[0];if(N!="noop"&&N!="stop"&&N!="close")for(var V=1;V<R.length;V++)R[V]=""}}}}return Op(f)}catch{return d}}var Ku={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Iw={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},jp;function Qu(){}D(Qu,Fp),Qu.prototype.g=function(){return new XMLHttpRequest},Qu.prototype.i=function(){return{}},jp=new Qu;function Jr(c,d,f,g){this.j=c,this.i=d,this.l=f,this.R=g||1,this.U=new Oa(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Ew}function Ew(){this.i=null,this.g="",this.h=!1}var ww={},Up={};function Bp(c,d,f){c.L=1,c.v=Xu(fr(d)),c.m=f,c.P=!0,Cw(c,null)}function Cw(c,d){c.F=Date.now(),Yu(c),c.A=fr(c.v);var f=c.A,g=c.R;Array.isArray(g)||(g=[String(g)]),Lw(f.i,"t",g),c.C=0,f=c.j.J,c.h=new Ew,c.g=t0(c.j,f?d:null,!c.m),0<c.O&&(c.M=new CP(y(c.Y,c,c.g),c.O)),d=c.U,f=c.g,g=c.ca;var R="readystatechange";Array.isArray(R)||(R&&(hw[0]=R.toString()),R=hw);for(var N=0;N<R.length;N++){var V=ow(f,R[N],g||d.handleEvent,!1,d.h||d);if(!V)break;d.g[V.key]=V}d=c.H?v(c.H):{},c.m?(c.u||(c.u="POST"),d["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,d)):(c.u="GET",c.g.ea(c.A,c.u,null,d)),La(),TP(c.i,c.u,c.A,c.l,c.R,c.m)}Jr.prototype.ca=function(c){c=c.target;let d=this.M;d&&pr(c)==3?d.j():this.Y(c)},Jr.prototype.Y=function(c){try{if(c==this.g)e:{let St=pr(this.g);var d=this.g.Ba();let Ho=this.g.Z();if(!(3>St)&&(St!=3||this.g&&(this.h.h||this.g.oa()||zw(this.g)))){this.J||St!=4||d==7||(d==8||0>=Ho?La(3):La(2)),$p(this);var f=this.g.Z();this.X=f;t:if(bw(this)){var g=zw(this.g);c="";var R=g.length,N=pr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Li(this),Ua(this);var V="";break t}this.h.i=new a.TextDecoder}for(d=0;d<R;d++)this.h.h=!0,c+=this.h.i.decode(g[d],{stream:!(N&&d==R-1)});g.length=0,this.h.g+=c,this.C=0,V=this.h.g}else V=this.g.oa();if(this.o=f==200,SP(this.i,this.u,this.A,this.l,this.R,St,f),this.o){if(this.T&&!this.K){t:{if(this.g){var xe,mt=this.g;if((xe=mt.g?mt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!K(xe)){var Se=xe;break t}}Se=null}if(f=Se)Uo(this.i,this.l,f,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Hp(this,f);else{this.o=!1,this.s=3,xt(12),Li(this),Ua(this);break e}}if(this.P){f=!0;let In;for(;!this.J&&this.C<V.length;)if(In=MP(this,V),In==Up){St==4&&(this.s=4,xt(14),f=!1),Uo(this.i,this.l,null,"[Incomplete Response]");break}else if(In==ww){this.s=4,xt(15),Uo(this.i,this.l,V,"[Invalid Chunk]"),f=!1;break}else Uo(this.i,this.l,In,null),Hp(this,In);if(bw(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),St!=4||V.length!=0||this.h.h||(this.s=1,xt(16),f=!1),this.o=this.o&&f,!f)Uo(this.i,this.l,V,"[Invalid Chunked Response]"),Li(this),Ua(this);else if(0<V.length&&!this.W){this.W=!0;var Tt=this.j;Tt.g==this&&Tt.ba&&!Tt.M&&(Tt.j.info("Great, no buffering proxy detected. Bytes received: "+V.length),Qp(Tt),Tt.M=!0,xt(11))}}else Uo(this.i,this.l,V,null),Hp(this,V);St==4&&Li(this),this.o&&!this.J&&(St==4?Zw(this.j,this):(this.o=!1,Yu(this)))}else GP(this.g),f==400&&0<V.indexOf("Unknown SID")?(this.s=3,xt(12)):(this.s=0,xt(13)),Li(this),Ua(this)}}}catch{}finally{}};function bw(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function MP(c,d){var f=c.C,g=d.indexOf(`
`,f);return g==-1?Up:(f=Number(d.substring(f,g)),isNaN(f)?ww:(g+=1,g+f>d.length?Up:(d=d.slice(g,g+f),c.C=g+f,d)))}Jr.prototype.cancel=function(){this.J=!0,Li(this)};function Yu(c){c.S=Date.now()+c.I,Dw(c,c.I)}function Dw(c,d){if(c.B!=null)throw Error("WatchDog timer not null");c.B=Va(y(c.ba,c),d)}function $p(c){c.B&&(a.clearTimeout(c.B),c.B=null)}Jr.prototype.ba=function(){this.B=null;let c=Date.now();0<=c-this.S?(AP(this.i,this.A),this.L!=2&&(La(),xt(17)),Li(this),this.s=2,Ua(this)):Dw(this,this.S-c)};function Ua(c){c.j.G==0||c.J||Zw(c.j,c)}function Li(c){$p(c);var d=c.M;d&&typeof d.ma=="function"&&d.ma(),c.M=null,fw(c.U),c.g&&(d=c.g,c.g=null,d.abort(),d.ma())}function Hp(c,d){try{var f=c.j;if(f.G!=0&&(f.g==c||zp(f.h,c))){if(!c.K&&zp(f.h,c)&&f.G==3){try{var g=f.Da.g.parse(d)}catch{g=null}if(Array.isArray(g)&&g.length==3){var R=g;if(R[0]==0){e:if(!f.u){if(f.g)if(f.g.F+3e3<c.F)il(f),nl(f);else break e;Kp(f),xt(18)}}else f.za=R[1],0<f.za-f.T&&37500>R[2]&&f.F&&f.v==0&&!f.C&&(f.C=Va(y(f.Za,f),6e3));if(1>=Aw(f.h)&&f.ca){try{f.ca()}catch{}f.ca=void 0}}else ji(f,11)}else if((c.K||f.g==c)&&il(f),!K(d))for(R=f.Da.g.parse(d),d=0;d<R.length;d++){let Se=R[d];if(f.T=Se[0],Se=Se[1],f.G==2)if(Se[0]=="c"){f.K=Se[1],f.ia=Se[2];let Tt=Se[3];Tt!=null&&(f.la=Tt,f.j.info("VER="+f.la));let St=Se[4];St!=null&&(f.Aa=St,f.j.info("SVER="+f.Aa));let Ho=Se[5];Ho!=null&&typeof Ho=="number"&&0<Ho&&(g=1.5*Ho,f.L=g,f.j.info("backChannelRequestTimeoutMs_="+g)),g=f;let In=c.g;if(In){let sl=In.g?In.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(sl){var N=g.h;N.g||sl.indexOf("spdy")==-1&&sl.indexOf("quic")==-1&&sl.indexOf("h2")==-1||(N.j=N.l,N.g=new Set,N.h&&(qp(N,N.h),N.h=null))}if(g.D){let Yp=In.g?In.g.getResponseHeader("X-HTTP-Session-Id"):null;Yp&&(g.ya=Yp,Le(g.I,g.D,Yp))}}f.G=3,f.l&&f.l.ua(),f.ba&&(f.R=Date.now()-c.F,f.j.info("Handshake RTT: "+f.R+"ms")),g=f;var V=c;if(g.qa=e0(g,g.J?g.ia:null,g.W),V.K){Rw(g.h,V);var xe=V,mt=g.L;mt&&(xe.I=mt),xe.B&&($p(xe),Yu(xe)),g.g=V}else Qw(g);0<f.i.length&&rl(f)}else Se[0]!="stop"&&Se[0]!="close"||ji(f,7);else f.G==3&&(Se[0]=="stop"||Se[0]=="close"?Se[0]=="stop"?ji(f,7):Gp(f):Se[0]!="noop"&&f.l&&f.l.ta(Se),f.v=0)}}La(4)}catch{}}var NP=class{constructor(c,d){this.g=c,this.map=d}};function Tw(c){this.l=c||10,a.PerformanceNavigationTiming?(c=a.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Sw(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function Aw(c){return c.h?1:c.g?c.g.size:0}function zp(c,d){return c.h?c.h==d:c.g?c.g.has(d):!1}function qp(c,d){c.g?c.g.add(d):c.h=d}function Rw(c,d){c.h&&c.h==d?c.h=null:c.g&&c.g.has(d)&&c.g.delete(d)}Tw.prototype.cancel=function(){if(this.i=Mw(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let c of this.g.values())c.cancel();this.g.clear()}};function Mw(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let d=c.i;for(let f of c.g.values())d=d.concat(f.D);return d}return k(c.i)}function PP(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(u(c)){for(var d=[],f=c.length,g=0;g<f;g++)d.push(c[g]);return d}d=[],f=0;for(g in c)d[f++]=c[g];return d}function xP(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(u(c)||typeof c=="string"){var d=[];c=c.length;for(var f=0;f<c;f++)d.push(f);return d}d=[],f=0;for(let g in c)d[f++]=g;return d}}}function Nw(c,d){if(c.forEach&&typeof c.forEach=="function")c.forEach(d,void 0);else if(u(c)||typeof c=="string")Array.prototype.forEach.call(c,d,void 0);else for(var f=xP(c),g=PP(c),R=g.length,N=0;N<R;N++)d.call(void 0,g[N],f&&f[N],c)}var Pw=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function kP(c,d){if(c){c=c.split("&");for(var f=0;f<c.length;f++){var g=c[f].indexOf("="),R=null;if(0<=g){var N=c[f].substring(0,g);R=c[f].substring(g+1)}else N=c[f];d(N,R?decodeURIComponent(R.replace(/\+/g," ")):"")}}}function Vi(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof Vi){this.h=c.h,Zu(this,c.j),this.o=c.o,this.g=c.g,Ju(this,c.s),this.l=c.l;var d=c.i,f=new Ha;f.i=d.i,d.g&&(f.g=new Map(d.g),f.h=d.h),xw(this,f),this.m=c.m}else c&&(d=String(c).match(Pw))?(this.h=!1,Zu(this,d[1]||"",!0),this.o=Ba(d[2]||""),this.g=Ba(d[3]||"",!0),Ju(this,d[4]),this.l=Ba(d[5]||"",!0),xw(this,d[6]||"",!0),this.m=Ba(d[7]||"")):(this.h=!1,this.i=new Ha(null,this.h))}Vi.prototype.toString=function(){var c=[],d=this.j;d&&c.push($a(d,kw,!0),":");var f=this.g;return(f||d=="file")&&(c.push("//"),(d=this.o)&&c.push($a(d,kw,!0),"@"),c.push(encodeURIComponent(String(f)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f=this.s,f!=null&&c.push(":",String(f))),(f=this.l)&&(this.g&&f.charAt(0)!="/"&&c.push("/"),c.push($a(f,f.charAt(0)=="/"?LP:FP,!0))),(f=this.i.toString())&&c.push("?",f),(f=this.m)&&c.push("#",$a(f,jP)),c.join("")};function fr(c){return new Vi(c)}function Zu(c,d,f){c.j=f?Ba(d,!0):d,c.j&&(c.j=c.j.replace(/:$/,""))}function Ju(c,d){if(d){if(d=Number(d),isNaN(d)||0>d)throw Error("Bad port number "+d);c.s=d}else c.s=null}function xw(c,d,f){d instanceof Ha?(c.i=d,UP(c.i,c.h)):(f||(d=$a(d,VP)),c.i=new Ha(d,c.h))}function Le(c,d,f){c.i.set(d,f)}function Xu(c){return Le(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function Ba(c,d){return c?d?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function $a(c,d,f){return typeof c=="string"?(c=encodeURI(c).replace(d,OP),f&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function OP(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var kw=/[#\/\?@]/g,FP=/[#\?:]/g,LP=/[#\?]/g,VP=/[#\?@]/g,jP=/#/g;function Ha(c,d){this.h=this.g=null,this.i=c||null,this.j=!!d}function Xr(c){c.g||(c.g=new Map,c.h=0,c.i&&kP(c.i,function(d,f){c.add(decodeURIComponent(d.replace(/\+/g," ")),f)}))}t=Ha.prototype,t.add=function(c,d){Xr(this),this.i=null,c=Bo(this,c);var f=this.g.get(c);return f||this.g.set(c,f=[]),f.push(d),this.h+=1,this};function Ow(c,d){Xr(c),d=Bo(c,d),c.g.has(d)&&(c.i=null,c.h-=c.g.get(d).length,c.g.delete(d))}function Fw(c,d){return Xr(c),d=Bo(c,d),c.g.has(d)}t.forEach=function(c,d){Xr(this),this.g.forEach(function(f,g){f.forEach(function(R){c.call(d,R,g,this)},this)},this)},t.na=function(){Xr(this);let c=Array.from(this.g.values()),d=Array.from(this.g.keys()),f=[];for(let g=0;g<d.length;g++){let R=c[g];for(let N=0;N<R.length;N++)f.push(d[g])}return f},t.V=function(c){Xr(this);let d=[];if(typeof c=="string")Fw(this,c)&&(d=d.concat(this.g.get(Bo(this,c))));else{c=Array.from(this.g.values());for(let f=0;f<c.length;f++)d=d.concat(c[f])}return d},t.set=function(c,d){return Xr(this),this.i=null,c=Bo(this,c),Fw(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[d]),this.h+=1,this},t.get=function(c,d){return c?(c=this.V(c),0<c.length?String(c[0]):d):d};function Lw(c,d,f){Ow(c,d),0<f.length&&(c.i=null,c.g.set(Bo(c,d),k(f)),c.h+=f.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";let c=[],d=Array.from(this.g.keys());for(var f=0;f<d.length;f++){var g=d[f];let N=encodeURIComponent(String(g)),V=this.V(g);for(g=0;g<V.length;g++){var R=N;V[g]!==""&&(R+="="+encodeURIComponent(String(V[g]))),c.push(R)}}return this.i=c.join("&")};function Bo(c,d){return d=String(d),c.j&&(d=d.toLowerCase()),d}function UP(c,d){d&&!c.j&&(Xr(c),c.i=null,c.g.forEach(function(f,g){var R=g.toLowerCase();g!=R&&(Ow(this,g),Lw(this,R,f))},c)),c.j=d}function BP(c,d){let f=new ja;if(a.Image){let g=new Image;g.onload=m(ei,f,"TestLoadImage: loaded",!0,d,g),g.onerror=m(ei,f,"TestLoadImage: error",!1,d,g),g.onabort=m(ei,f,"TestLoadImage: abort",!1,d,g),g.ontimeout=m(ei,f,"TestLoadImage: timeout",!1,d,g),a.setTimeout(function(){g.ontimeout&&g.ontimeout()},1e4),g.src=c}else d(!1)}function $P(c,d){let f=new ja,g=new AbortController,R=setTimeout(()=>{g.abort(),ei(f,"TestPingServer: timeout",!1,d)},1e4);fetch(c,{signal:g.signal}).then(N=>{clearTimeout(R),N.ok?ei(f,"TestPingServer: ok",!0,d):ei(f,"TestPingServer: server error",!1,d)}).catch(()=>{clearTimeout(R),ei(f,"TestPingServer: error",!1,d)})}function ei(c,d,f,g,R){try{R&&(R.onload=null,R.onerror=null,R.onabort=null,R.ontimeout=null),g(f)}catch{}}function HP(){this.g=new DP}function zP(c,d,f){let g=f||"";try{Nw(c,function(R,N){let V=R;l(R)&&(V=Op(R)),d.push(g+N+"="+encodeURIComponent(V))})}catch(R){throw d.push(g+"type="+encodeURIComponent("_badmap")),R}}function za(c){this.l=c.Ub||null,this.j=c.eb||!1}D(za,Fp),za.prototype.g=function(){return new el(this.l,this.j)},za.prototype.i=function(c){return function(){return c}}({});function el(c,d){Dt.call(this),this.D=c,this.o=d,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}D(el,Dt),t=el.prototype,t.open=function(c,d){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=d,this.readyState=1,Wa(this)},t.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let d={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(d.body=c),(this.D||a).fetch(new Request(this.A,d)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,qa(this)),this.readyState=0},t.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Wa(this)),this.g&&(this.readyState=3,Wa(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Vw(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function Vw(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}t.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var d=c.value?c.value:new Uint8Array(0);(d=this.v.decode(d,{stream:!c.done}))&&(this.response=this.responseText+=d)}c.done?qa(this):Wa(this),this.readyState==3&&Vw(this)}},t.Ra=function(c){this.g&&(this.response=this.responseText=c,qa(this))},t.Qa=function(c){this.g&&(this.response=c,qa(this))},t.ga=function(){this.g&&qa(this)};function qa(c){c.readyState=4,c.l=null,c.j=null,c.v=null,Wa(c)}t.setRequestHeader=function(c,d){this.u.append(c,d)},t.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";let c=[],d=this.h.entries();for(var f=d.next();!f.done;)f=f.value,c.push(f[0]+": "+f[1]),f=d.next();return c.join(`\r
`)};function Wa(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(el.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function jw(c){let d="";return Ne(c,function(f,g){d+=g,d+=":",d+=f,d+=`\r
`}),d}function Wp(c,d,f){e:{for(g in f){var g=!1;break e}g=!0}g||(f=jw(f),typeof c=="string"?f!=null&&encodeURIComponent(String(f)):Le(c,d,f))}function Be(c){Dt.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}D(Be,Dt);var qP=/^https?$/i,WP=["POST","PUT"];t=Be.prototype,t.Ha=function(c){this.J=c},t.ea=function(c,d,f,g){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);d=d?d.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():jp.g(),this.v=this.o?pw(this.o):pw(jp),this.g.onreadystatechange=y(this.Ea,this);try{this.B=!0,this.g.open(d,String(c),!0),this.B=!1}catch(N){Uw(this,N);return}if(c=f||"",f=new Map(this.headers),g)if(Object.getPrototypeOf(g)===Object.prototype)for(var R in g)f.set(R,g[R]);else if(typeof g.keys=="function"&&typeof g.get=="function")for(let N of g.keys())f.set(N,g.get(N));else throw Error("Unknown input type for opt_headers: "+String(g));g=Array.from(f.keys()).find(N=>N.toLowerCase()=="content-type"),R=a.FormData&&c instanceof a.FormData,!(0<=Array.prototype.indexOf.call(WP,d,void 0))||g||R||f.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[N,V]of f)this.g.setRequestHeader(N,V);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Hw(this),this.u=!0,this.g.send(c),this.u=!1}catch(N){Uw(this,N)}};function Uw(c,d){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=d,c.m=5,Bw(c),tl(c)}function Bw(c){c.A||(c.A=!0,Pt(c,"complete"),Pt(c,"error"))}t.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,Pt(this,"complete"),Pt(this,"abort"),tl(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),tl(this,!0)),Be.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?$w(this):this.bb())},t.bb=function(){$w(this)};function $w(c){if(c.h&&typeof s<"u"&&(!c.v[1]||pr(c)!=4||c.Z()!=2)){if(c.u&&pr(c)==4)lw(c.Ea,0,c);else if(Pt(c,"readystatechange"),pr(c)==4){c.h=!1;try{let V=c.Z();e:switch(V){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var d=!0;break e;default:d=!1}var f;if(!(f=d)){var g;if(g=V===0){var R=String(c.D).match(Pw)[1]||null;!R&&a.self&&a.self.location&&(R=a.self.location.protocol.slice(0,-1)),g=!qP.test(R?R.toLowerCase():"")}f=g}if(f)Pt(c,"complete"),Pt(c,"success");else{c.m=6;try{var N=2<pr(c)?c.g.statusText:""}catch{N=""}c.l=N+" ["+c.Z()+"]",Bw(c)}}finally{tl(c)}}}}function tl(c,d){if(c.g){Hw(c);let f=c.g,g=c.v[0]?()=>{}:null;c.g=null,c.v=null,d||Pt(c,"ready");try{f.onreadystatechange=g}catch{}}}function Hw(c){c.I&&(a.clearTimeout(c.I),c.I=null)}t.isActive=function(){return!!this.g};function pr(c){return c.g?c.g.readyState:0}t.Z=function(){try{return 2<pr(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(c){if(this.g){var d=this.g.responseText;return c&&d.indexOf(c)==0&&(d=d.substring(c.length)),bP(d)}};function zw(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function GP(c){let d={};c=(c.g&&2<=pr(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let g=0;g<c.length;g++){if(K(c[g]))continue;var f=A(c[g]);let R=f[0];if(f=f[1],typeof f!="string")continue;f=f.trim();let N=d[R]||[];d[R]=N,N.push(f)}T(d,function(g){return g.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ga(c,d,f){return f&&f.internalChannelParams&&f.internalChannelParams[c]||d}function qw(c){this.Aa=0,this.i=[],this.j=new ja,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ga("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ga("baseRetryDelayMs",5e3,c),this.cb=Ga("retryDelaySeedMs",1e4,c),this.Wa=Ga("forwardChannelMaxRetries",2,c),this.wa=Ga("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new Tw(c&&c.concurrentRequestLimit),this.Da=new HP,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=qw.prototype,t.la=8,t.G=1,t.connect=function(c,d,f,g){xt(0),this.W=c,this.H=d||{},f&&g!==void 0&&(this.H.OSID=f,this.H.OAID=g),this.F=this.X,this.I=e0(this,null,this.W),rl(this)};function Gp(c){if(Ww(c),c.G==3){var d=c.U++,f=fr(c.I);if(Le(f,"SID",c.K),Le(f,"RID",d),Le(f,"TYPE","terminate"),Ka(c,f),d=new Jr(c,c.j,d),d.L=2,d.v=Xu(fr(f)),f=!1,a.navigator&&a.navigator.sendBeacon)try{f=a.navigator.sendBeacon(d.v.toString(),"")}catch{}!f&&a.Image&&(new Image().src=d.v,f=!0),f||(d.g=t0(d.j,null),d.g.ea(d.v)),d.F=Date.now(),Yu(d)}Xw(c)}function nl(c){c.g&&(Qp(c),c.g.cancel(),c.g=null)}function Ww(c){nl(c),c.u&&(a.clearTimeout(c.u),c.u=null),il(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&a.clearTimeout(c.s),c.s=null)}function rl(c){if(!Sw(c.h)&&!c.s){c.s=!0;var d=c.Ga;Na||iw(),Pa||(Na(),Pa=!0),Tp.add(d,c),c.B=0}}function KP(c,d){return Aw(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=d.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=Va(y(c.Ga,c,d),Jw(c,c.B)),c.B++,!0)}t.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;let R=new Jr(this,this.j,c),N=this.o;if(this.S&&(N?(N=v(N),b(N,this.S)):N=this.S),this.m!==null||this.O||(R.H=N,N=null),this.P)e:{for(var d=0,f=0;f<this.i.length;f++){t:{var g=this.i[f];if("__data__"in g.map&&(g=g.map.__data__,typeof g=="string")){g=g.length;break t}g=void 0}if(g===void 0)break;if(d+=g,4096<d){d=f;break e}if(d===4096||f===this.i.length-1){d=f+1;break e}}d=1e3}else d=1e3;d=Kw(this,R,d),f=fr(this.I),Le(f,"RID",c),Le(f,"CVER",22),this.D&&Le(f,"X-HTTP-Session-Id",this.D),Ka(this,f),N&&(this.O?d="headers="+encodeURIComponent(String(jw(N)))+"&"+d:this.m&&Wp(f,this.m,N)),qp(this.h,R),this.Ua&&Le(f,"TYPE","init"),this.P?(Le(f,"$req",d),Le(f,"SID","null"),R.T=!0,Bp(R,f,null)):Bp(R,f,d),this.G=2}}else this.G==3&&(c?Gw(this,c):this.i.length==0||Sw(this.h)||Gw(this))};function Gw(c,d){var f;d?f=d.l:f=c.U++;let g=fr(c.I);Le(g,"SID",c.K),Le(g,"RID",f),Le(g,"AID",c.T),Ka(c,g),c.m&&c.o&&Wp(g,c.m,c.o),f=new Jr(c,c.j,f,c.B+1),c.m===null&&(f.H=c.o),d&&(c.i=d.D.concat(c.i)),d=Kw(c,f,1e3),f.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),qp(c.h,f),Bp(f,g,d)}function Ka(c,d){c.H&&Ne(c.H,function(f,g){Le(d,g,f)}),c.l&&Nw({},function(f,g){Le(d,g,f)})}function Kw(c,d,f){f=Math.min(c.i.length,f);var g=c.l?y(c.l.Na,c.l,c):null;e:{var R=c.i;let N=-1;for(;;){let V=["count="+f];N==-1?0<f?(N=R[0].g,V.push("ofs="+N)):N=0:V.push("ofs="+N);let xe=!0;for(let mt=0;mt<f;mt++){let Se=R[mt].g,Tt=R[mt].map;if(Se-=N,0>Se)N=Math.max(0,R[mt].g-100),xe=!1;else try{zP(Tt,V,"req"+Se+"_")}catch{g&&g(Tt)}}if(xe){g=V.join("&");break e}}}return c=c.i.splice(0,f),d.D=c,g}function Qw(c){if(!c.g&&!c.u){c.Y=1;var d=c.Fa;Na||iw(),Pa||(Na(),Pa=!0),Tp.add(d,c),c.v=0}}function Kp(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=Va(y(c.Fa,c),Jw(c,c.v)),c.v++,!0)}t.Fa=function(){if(this.u=null,Yw(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=Va(y(this.ab,this),c)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,xt(10),nl(this),Yw(this))};function Qp(c){c.A!=null&&(a.clearTimeout(c.A),c.A=null)}function Yw(c){c.g=new Jr(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var d=fr(c.qa);Le(d,"RID","rpc"),Le(d,"SID",c.K),Le(d,"AID",c.T),Le(d,"CI",c.F?"0":"1"),!c.F&&c.ja&&Le(d,"TO",c.ja),Le(d,"TYPE","xmlhttp"),Ka(c,d),c.m&&c.o&&Wp(d,c.m,c.o),c.L&&(c.g.I=c.L);var f=c.g;c=c.ia,f.L=1,f.v=Xu(fr(d)),f.m=null,f.P=!0,Cw(f,c)}t.Za=function(){this.C!=null&&(this.C=null,nl(this),Kp(this),xt(19))};function il(c){c.C!=null&&(a.clearTimeout(c.C),c.C=null)}function Zw(c,d){var f=null;if(c.g==d){il(c),Qp(c),c.g=null;var g=2}else if(zp(c.h,d))f=d.D,Rw(c.h,d),g=1;else return;if(c.G!=0){if(d.o)if(g==1){f=d.m?d.m.length:0,d=Date.now()-d.F;var R=c.B;g=Gu(),Pt(g,new _w(g,f)),rl(c)}else Qw(c);else if(R=d.s,R==3||R==0&&0<d.X||!(g==1&&KP(c,d)||g==2&&Kp(c)))switch(f&&0<f.length&&(d=c.h,d.i=d.i.concat(f)),R){case 1:ji(c,5);break;case 4:ji(c,10);break;case 3:ji(c,6);break;default:ji(c,2)}}}function Jw(c,d){let f=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(f*=2),f*d}function ji(c,d){if(c.j.info("Error code "+d),d==2){var f=y(c.fb,c),g=c.Xa;let R=!g;g=new Vi(g||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||Zu(g,"https"),Xu(g),R?BP(g.toString(),f):$P(g.toString(),f)}else xt(2);c.G=0,c.l&&c.l.sa(d),Xw(c),Ww(c)}t.fb=function(c){c?(this.j.info("Successfully pinged google.com"),xt(2)):(this.j.info("Failed to ping google.com"),xt(1))};function Xw(c){if(c.G=0,c.ka=[],c.l){let d=Mw(c.h);(d.length!=0||c.i.length!=0)&&(x(c.ka,d),x(c.ka,c.i),c.h.i.length=0,k(c.i),c.i.length=0),c.l.ra()}}function e0(c,d,f){var g=f instanceof Vi?fr(f):new Vi(f);if(g.g!="")d&&(g.g=d+"."+g.g),Ju(g,g.s);else{var R=a.location;g=R.protocol,d=d?d+"."+R.hostname:R.hostname,R=+R.port;var N=new Vi(null);g&&Zu(N,g),d&&(N.g=d),R&&Ju(N,R),f&&(N.l=f),g=N}return f=c.D,d=c.ya,f&&d&&Le(g,f,d),Le(g,"VER",c.la),Ka(c,g),g}function t0(c,d,f){if(d&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return d=c.Ca&&!c.pa?new Be(new za({eb:f})):new Be(c.pa),d.Ha(c.J),d}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function n0(){}t=n0.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function ol(){}ol.prototype.g=function(c,d){return new Xt(c,d)};function Xt(c,d){Dt.call(this),this.g=new qw(d),this.l=c,this.h=d&&d.messageUrlParams||null,c=d&&d.messageHeaders||null,d&&d.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=d&&d.initMessageHeaders||null,d&&d.messageContentType&&(c?c["X-WebChannel-Content-Type"]=d.messageContentType:c={"X-WebChannel-Content-Type":d.messageContentType}),d&&d.va&&(c?c["X-WebChannel-Client-Profile"]=d.va:c={"X-WebChannel-Client-Profile":d.va}),this.g.S=c,(c=d&&d.Sb)&&!K(c)&&(this.g.m=c),this.v=d&&d.supportsCrossDomainXhr||!1,this.u=d&&d.sendRawJson||!1,(d=d&&d.httpSessionIdParam)&&!K(d)&&(this.g.D=d,c=this.h,c!==null&&d in c&&(c=this.h,d in c&&delete c[d])),this.j=new $o(this)}D(Xt,Dt),Xt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Xt.prototype.close=function(){Gp(this.g)},Xt.prototype.o=function(c){var d=this.g;if(typeof c=="string"){var f={};f.__data__=c,c=f}else this.u&&(f={},f.__data__=Op(c),c=f);d.i.push(new NP(d.Ya++,c)),d.G==3&&rl(d)},Xt.prototype.N=function(){this.g.l=null,delete this.j,Gp(this.g),delete this.g,Xt.aa.N.call(this)};function r0(c){Lp.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var d=c.__sm__;if(d){e:{for(let f in d){c=f;break e}c=void 0}(this.i=c)&&(c=this.i,d=d!==null&&c in d?d[c]:void 0),this.data=d}else this.data=c}D(r0,Lp);function i0(){Vp.call(this),this.status=1}D(i0,Vp);function $o(c){this.g=c}D($o,n0),$o.prototype.ua=function(){Pt(this.g,"a")},$o.prototype.ta=function(c){Pt(this.g,new r0(c))},$o.prototype.sa=function(c){Pt(this.g,new i0)},$o.prototype.ra=function(){Pt(this.g,"b")},ol.prototype.createWebChannel=ol.prototype.g,Xt.prototype.send=Xt.prototype.o,Xt.prototype.open=Xt.prototype.m,Xt.prototype.close=Xt.prototype.close,L_=Ur.createWebChannelTransport=function(){return new ol},F_=Ur.getStatEventTarget=function(){return Gu()},O_=Ur.Event=Fi,ef=Ur.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Ku.NO_ERROR=0,Ku.TIMEOUT=8,Ku.HTTP_ERROR=6,gu=Ur.ErrorCode=Ku,Iw.COMPLETE="complete",k_=Ur.EventType=Iw,gw.EventType=Fa,Fa.OPEN="a",Fa.CLOSE="b",Fa.ERROR="c",Fa.MESSAGE="d",Dt.prototype.listen=Dt.prototype.K,Qs=Ur.WebChannel=gw,jH=Ur.FetchXmlHttpFactory=za,Be.prototype.listenOnce=Be.prototype.L,Be.prototype.getLastError=Be.prototype.Ka,Be.prototype.getLastErrorCode=Be.prototype.Ba,Be.prototype.getStatus=Be.prototype.Z,Be.prototype.getResponseJson=Be.prototype.Oa,Be.prototype.getResponseText=Be.prototype.oa,Be.prototype.send=Be.prototype.ea,Be.prototype.setWithCredentials=Be.prototype.Ha,x_=Ur.XhrIo=Be}).apply(typeof Xh<"u"?Xh:typeof self<"u"?self:typeof window<"u"?window:{});var pR="@firebase/firestore",gR="4.7.11";var ft=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};ft.UNAUTHENTICATED=new ft(null),ft.GOOGLE_CREDENTIALS=new ft("google-credentials-uid"),ft.FIRST_PARTY=new ft("first-party-uid"),ft.MOCK_USER=new ft("mock-user");var va="11.6.1";var No=new nr("@firebase/firestore");function Ys(){return No.logLevel}function B(t,...e){if(No.logLevel<=me.DEBUG){let n=e.map(bE);No.debug(`Firestore (${va}): ${t}`,...n)}}function $r(t,...e){if(No.logLevel<=me.ERROR){let n=e.map(bE);No.error(`Firestore (${va}): ${t}`,...n)}}function ra(t,...e){if(No.logLevel<=me.WARN){let n=e.map(bE);No.warn(`Firestore (${va}): ${t}`,...n)}}function bE(t){if(typeof t=="string")return t;try{return function(n){return JSON.stringify(n)}(t)}catch{return t}}function Y(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,oM(t,r,n)}function oM(t,e,n){let r=`FIRESTORE (${va}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw $r(r),new Error(r)}function Re(t,e,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,t||oM(e,i,r)}function te(t,e){return t}var L={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},W=class extends rn{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var Br=class{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}};var cf=class{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},$_=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(ft.UNAUTHENTICATED))}shutdown(){}},H_=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}},z_=class{constructor(e){this.t=e,this.currentUser=ft.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Re(this.o===void 0,42304);let r=this.i,i=u=>this.i!==r?(r=this.i,n(u)):Promise.resolve(),o=new Br;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Br,e.enqueueRetryable(()=>i(this.currentUser))};let s=()=>{let u=o;e.enqueueRetryable(()=>_(this,null,function*(){yield u.promise,yield i(this.currentUser)}))},a=u=>{B("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(u=>a(u)),setTimeout(()=>{if(!this.auth){let u=this.t.getImmediate({optional:!0});u?a(u):(B("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Br)}},0),s()}getToken(){let e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(B("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Re(typeof r.accessToken=="string",31837,{l:r}),new cf(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){let e=this.auth&&this.auth.getUid();return Re(e===null||typeof e=="string",2055,{h:e}),new ft(e)}},q_=class{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=ft.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);let e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}},W_=class{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new q_(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(ft.FIRST_PARTY))}shutdown(){}invalidateToken(){}},uf=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},G_=class{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,$t(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Re(this.o===void 0,3512);let r=o=>{o.error!=null&&B("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);let s=o.token!==this.m;return this.m=o.token,B("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};let i=o=>{B("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){let o=this.V.getImmediate({optional:!0});o?i(o):B("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new uf(this.p));let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Re(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new uf(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}};function UH(t){let e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}function sM(){return new TextEncoder}var lf=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516),r="";for(;r.length<20;){let i=UH(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+=e.charAt(i[o]%62))}return r}};function he(t,e){return t<e?-1:t>e?1:0}function K_(t,e){let n=0;for(;n<t.length&&n<e.length;){let r=t.codePointAt(n),i=e.codePointAt(n);if(r!==i){if(r<128&&i<128)return he(r,i);{let o=sM(),s=BH(o.encode(mR(t,n)),o.encode(mR(e,n)));return s!==0?s:he(r,i)}}n+=r>65535?2:1}return he(t.length,e.length)}function mR(t,e){return t.codePointAt(e)>65535?t.substring(e,e+2):t.substring(e,e+1)}function BH(t,e){for(let n=0;n<t.length&&n<e.length;++n)if(t[n]!==e[n])return he(t[n],e[n]);return he(t.length,e.length)}function ia(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}var yR=-62135596800,vR=1e6,Ct=class t{static now(){return t.fromMillis(Date.now())}static fromDate(e){return t.fromMillis(e.getTime())}static fromMillis(e){let n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*vR);return new t(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new W(L.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new W(L.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<yR)throw new W(L.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new W(L.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/vR}_compareTo(e){return this.seconds===e.seconds?he(this.nanoseconds,e.nanoseconds):he(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){let e=this.seconds-yR;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};var ie=class t{static fromTimestamp(e){return new t(e)}static min(){return new t(new Ct(0,0))}static max(){return new t(new Ct(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var _R="__name__",df=class t{constructor(e,n,r){n===void 0?n=0:n>e.length&&Y(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&Y(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return t.comparator(this,e)===0}child(e){let n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){let r=Math.min(e.length,n.length);for(let i=0;i<r;i++){let o=t.compareSegments(e.get(i),n.get(i));if(o!==0)return o}return he(e.length,n.length)}static compareSegments(e,n){let r=t.isNumericId(e),i=t.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?t.extractNumericId(e).compare(t.extractNumericId(n)):K_(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return jr.fromString(e.substring(4,e.length-2))}},qe=class t extends df{construct(e,n,r){return new t(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let n=[];for(let r of e){if(r.indexOf("//")>=0)throw new W(L.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new t(n)}static emptyPath(){return new t([])}},$H=/^[_a-zA-Z][_a-zA-Z0-9]*$/,on=class t extends df{construct(e,n,r){return new t(e,n,r)}static isValidIdentifier(e){return $H.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),t.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===_R}static keyField(){return new t([_R])}static fromServerFormat(e){let n=[],r="",i=0,o=()=>{if(r.length===0)throw new W(L.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""},s=!1;for(;i<e.length;){let a=e[i];if(a==="\\"){if(i+1===e.length)throw new W(L.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let u=e[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new W(L.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else a==="`"?(s=!s,i++):a!=="."||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new W(L.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new t(n)}static emptyPath(){return new t([])}};var Z=class t{constructor(e){this.path=e}static fromPath(e){return new t(qe.fromString(e))}static fromName(e){return new t(qe.fromString(e).popFirst(5))}static empty(){return new t(qe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&qe.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return qe.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new t(new qe(e.slice()))}};var wu=-1,Q_=class{constructor(e,n,r,i){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=i}};Q_.UNKNOWN_ID=-1;function HH(t,e){let n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=ie.fromTimestamp(r===1e9?new Ct(n+1,0):new Ct(n,r));return new Po(i,Z.empty(),e)}function zH(t){return new Po(t.readTime,t.key,wu)}var Po=class t{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new t(ie.min(),Z.empty(),wu)}static max(){return new t(ie.max(),Z.empty(),wu)}};function qH(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Z.comparator(t.documentKey,e.documentKey),n!==0?n:he(t.largestBatchId,e.largestBatchId))}var WH="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Y_=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};function _a(t){return _(this,null,function*(){if(t.code!==L.FAILED_PRECONDITION||t.message!==WH)throw t;B("LocalStore","Unexpectedly lost primary lease")})}var F=class t{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Y(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{let n=e();return n instanceof t?n:t.resolve(n)}catch(n){return t.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):t.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):t.reject(n)}static resolve(e){return new t((n,r)=>{n(e)})}static reject(e){return new t((n,r)=>{r(e)})}static waitFor(e){return new t((n,r)=>{let i=0,o=0,s=!1;e.forEach(a=>{++i,a.next(()=>{++o,s&&o===i&&n()},u=>r(u))}),s=!0,o===i&&n()})}static or(e){let n=t.resolve(!1);for(let r of e)n=n.next(i=>i?t.resolve(i):r());return n}static forEach(e,n){let r=[];return e.forEach((i,o)=>{r.push(n.call(this,i,o))}),this.waitFor(r)}static mapArray(e,n){return new t((r,i)=>{let o=e.length,s=new Array(o),a=0;for(let u=0;u<o;u++){let l=u;n(e[l]).next(h=>{s[l]=h,++a,a===o&&r(s)},h=>i(h))}})}static doWhile(e,n){return new t((r,i)=>{let o=()=>{e()===!0?n().next(()=>{o()},i):r()};o()})}};function GH(t){let e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Ia(t){return t.name==="IndexedDbTransactionError"}var DE=(()=>{class t{constructor(n,r){this.previousValue=n,r&&(r.sequenceNumberHandler=i=>this.ue(i),this.ce=i=>r.writeSequenceNumber(i))}ue(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){let n=++this.previousValue;return this.ce&&this.ce(n),n}}t.le=-1;return t})(),TE=-1;function Hf(t){return t==null}function Cu(t){return t===0&&1/t==-1/0}function KH(t){return typeof t=="number"&&Number.isInteger(t)&&!Cu(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}var aM="";function QH(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=IR(e)),e=YH(t.get(n),e);return IR(e)}function YH(t,e){let n=e,r=t.length;for(let i=0;i<r;i++){let o=t.charAt(i);switch(o){case"\0":n+="";break;case aM:n+="";break;default:n+=o}}return n}function IR(t){return t+aM+""}var ZH="remoteDocuments",cM="owner";var uM="mutationQueues";var lM="mutations";var dM="documentMutations",JH="remoteDocumentsV14";var hM="remoteDocumentGlobal";var fM="targets";var pM="targetDocuments";var gM="targetGlobal",mM="collectionParents";var yM="clientMetadata";var vM="bundles";var _M="namedQueries";var XH="indexConfiguration";var e4="indexState";var t4="indexEntries";var IM="documentOverlays";var n4="globals";var r4=[uM,lM,dM,ZH,fM,cM,gM,pM,yM,hM,mM,vM,_M],PJ=[...r4,IM],i4=[uM,lM,dM,JH,fM,cM,gM,pM,yM,hM,mM,vM,_M,IM],o4=i4,s4=[...o4,XH,e4,t4];var xJ=[...s4,n4];function ER(t){let e=0;for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Lo(t,e){for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function EM(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var We=class t{constructor(e,n){this.comparator=e,this.root=n||ar.EMPTY}insert(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,ar.BLACK,null,null))}remove(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ar.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){let r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){let i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){let e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ea(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ea(this.root,e,this.comparator,!1)}getReverseIterator(){return new ea(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ea(this.root,e,this.comparator,!0)}},ea=class{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},ar=class t{constructor(e,n,r,i,o){this.key=e,this.value=n,this.color=r??t.RED,this.left=i??t.EMPTY,this.right=o??t.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,o){return new t(e??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this,o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,n,r),null):o===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return t.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Y(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Y(14113,{key:this.key,value:this.value});let e=this.left.check();if(e!==this.right.check())throw Y(27949);return e+(this.isRed()?0:1)}};ar.EMPTY=null,ar.RED=!0,ar.BLACK=!1;ar.EMPTY=new class{constructor(){this.size=0}get key(){throw Y(57766)}get value(){throw Y(16141)}get color(){throw Y(16727)}get left(){throw Y(29726)}get right(){throw Y(36894)}copy(e,n,r,i,o){return this}insert(e,n,r){return new ar(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var pt=class t{constructor(e){this.comparator=e,this.data=new We(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new hf(this.data.getIterator())}getIteratorFrom(e){return new hf(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){let i=n.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(n=>{e.push(n)}),e}toString(){let e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){let n=new t(this.comparator);return n.data=e,n}},hf=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var sr=class t{constructor(e){this.fields=e,e.sort(on.comparator)}static empty(){return new t([])}unionWith(e){let n=new pt(on.comparator);for(let r of this.fields)n=n.add(r);for(let r of e)n=n.add(r);return new t(n.toArray())}covers(e){for(let n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return ia(this.fields,e.fields,(n,r)=>n.isEqual(r))}};var ff=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var Mt=class t{constructor(e){this.binaryString=e}static fromBase64String(e){let n=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new ff("Invalid base64 string: "+o):o}}(e);return new t(n)}static fromUint8Array(e){let n=function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o}(e);return new t(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){let r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return he(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};Mt.EMPTY_BYTE_STRING=new Mt("");var a4=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Hr(t){if(Re(!!t,39018),typeof t=="string"){let e=0,n=a4.exec(t);if(Re(!!n,46558,{timestamp:t}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}let r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Ve(t.seconds),nanos:Ve(t.nanos)}}function Ve(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function zr(t){return typeof t=="string"?Mt.fromBase64String(t):Mt.fromUint8Array(t)}var wM="server_timestamp",CM="__type__",bM="__previous_value__",DM="__local_write_time__";function SE(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{})[CM])===null||n===void 0?void 0:n.stringValue)===wM}function zf(t){let e=t.mapValue.fields[bM];return SE(e)?zf(e):e}function bu(t){let e=Hr(t.mapValue.fields[DM].timestampValue);return new Ct(e.seconds,e.nanos)}var Z_=class{constructor(e,n,r,i,o,s,a,u,l){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=u,this.useFetchStreams=l}},pf="(default)",gf=class t{constructor(e,n){this.projectId=e,this.database=n||pf}static empty(){return new t("","")}get isDefaultDatabase(){return this.database===pf}isEqual(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database}};var AE="__type__",TM="__max__",tf={mapValue:{fields:{__type__:{stringValue:TM}}}},RE="__vector__",oa="value";function Ri(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?SE(t)?4:AM(t)?9007199254740991:SM(t)?10:11:Y(28295,{value:t})}function lr(t,e){if(t===e)return!0;let n=Ri(t);if(n!==Ri(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return bu(t).isEqual(bu(e));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;let s=Hr(i.timestampValue),a=Hr(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,o){return zr(i.bytesValue).isEqual(zr(o.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,o){return Ve(i.geoPointValue.latitude)===Ve(o.geoPointValue.latitude)&&Ve(i.geoPointValue.longitude)===Ve(o.geoPointValue.longitude)}(t,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return Ve(i.integerValue)===Ve(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){let s=Ve(i.doubleValue),a=Ve(o.doubleValue);return s===a?Cu(s)===Cu(a):isNaN(s)&&isNaN(a)}return!1}(t,e);case 9:return ia(t.arrayValue.values||[],e.arrayValue.values||[],lr);case 10:case 11:return function(i,o){let s=i.mapValue.fields||{},a=o.mapValue.fields||{};if(ER(s)!==ER(a))return!1;for(let u in s)if(s.hasOwnProperty(u)&&(a[u]===void 0||!lr(s[u],a[u])))return!1;return!0}(t,e);default:return Y(52216,{left:t})}}function Du(t,e){return(t.values||[]).find(n=>lr(n,e))!==void 0}function sa(t,e){if(t===e)return 0;let n=Ri(t),r=Ri(e);if(n!==r)return he(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return he(t.booleanValue,e.booleanValue);case 2:return function(o,s){let a=Ve(o.integerValue||o.doubleValue),u=Ve(s.integerValue||s.doubleValue);return a<u?-1:a>u?1:a===u?0:isNaN(a)?isNaN(u)?0:-1:1}(t,e);case 3:return wR(t.timestampValue,e.timestampValue);case 4:return wR(bu(t),bu(e));case 5:return K_(t.stringValue,e.stringValue);case 6:return function(o,s){let a=zr(o),u=zr(s);return a.compareTo(u)}(t.bytesValue,e.bytesValue);case 7:return function(o,s){let a=o.split("/"),u=s.split("/");for(let l=0;l<a.length&&l<u.length;l++){let h=he(a[l],u[l]);if(h!==0)return h}return he(a.length,u.length)}(t.referenceValue,e.referenceValue);case 8:return function(o,s){let a=he(Ve(o.latitude),Ve(s.latitude));return a!==0?a:he(Ve(o.longitude),Ve(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return CR(t.arrayValue,e.arrayValue);case 10:return function(o,s){var a,u,l,h;let p=o.fields||{},y=s.fields||{},m=(a=p[oa])===null||a===void 0?void 0:a.arrayValue,D=(u=y[oa])===null||u===void 0?void 0:u.arrayValue,k=he(((l=m?.values)===null||l===void 0?void 0:l.length)||0,((h=D?.values)===null||h===void 0?void 0:h.length)||0);return k!==0?k:CR(m,D)}(t.mapValue,e.mapValue);case 11:return function(o,s){if(o===tf.mapValue&&s===tf.mapValue)return 0;if(o===tf.mapValue)return 1;if(s===tf.mapValue)return-1;let a=o.fields||{},u=Object.keys(a),l=s.fields||{},h=Object.keys(l);u.sort(),h.sort();for(let p=0;p<u.length&&p<h.length;++p){let y=K_(u[p],h[p]);if(y!==0)return y;let m=sa(a[u[p]],l[h[p]]);if(m!==0)return m}return he(u.length,h.length)}(t.mapValue,e.mapValue);default:throw Y(23264,{Pe:n})}}function wR(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return he(t,e);let n=Hr(t),r=Hr(e),i=he(n.seconds,r.seconds);return i!==0?i:he(n.nanos,r.nanos)}function CR(t,e){let n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){let o=sa(n[i],r[i]);if(o)return o}return he(n.length,r.length)}function aa(t){return J_(t)}function J_(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){let r=Hr(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return zr(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return Z.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(let o of n.values||[])i?i=!1:r+=",",r+=J_(o);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){let r=Object.keys(n.fields||{}).sort(),i="{",o=!0;for(let s of r)o?o=!1:i+=",",i+=`${s}:${J_(n.fields[s])}`;return i+"}"}(t.mapValue):Y(61005,{value:t})}function of(t){switch(Ri(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:let e=zf(t);return e?16+of(e):16;case 5:return 2*t.stringValue.length;case 6:return zr(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,o)=>i+of(o),0)}(t.arrayValue);case 10:case 11:return function(r){let i=0;return Lo(r.fields,(o,s)=>{i+=o.length+of(s)}),i}(t.mapValue);default:throw Y(13486,{value:t})}}function X_(t){return!!t&&"integerValue"in t}function ME(t){return!!t&&"arrayValue"in t}function bR(t){return!!t&&"nullValue"in t}function DR(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function sf(t){return!!t&&"mapValue"in t}function SM(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{})[AE])===null||n===void 0?void 0:n.stringValue)===RE}function yu(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){let e={mapValue:{fields:{}}};return Lo(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=yu(r)),e}if(t.arrayValue){let e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=yu(t.arrayValue.values[n]);return e}return Object.assign({},t)}function AM(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===TM}var OJ={mapValue:{fields:{[AE]:{stringValue:RE},[oa]:{arrayValue:{}}}}};var Ln=class t{constructor(e){this.value=e}static empty(){return new t({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!sf(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=yu(n)}setAll(e){let n=on.emptyPath(),r={},i=[];e.forEach((s,a)=>{if(!n.isImmediateParentOf(a)){let u=this.getFieldsMap(n);this.applyChanges(u,r,i),r={},i=[],n=a.popLast()}s?r[a.lastSegment()]=yu(s):i.push(a.lastSegment())});let o=this.getFieldsMap(n);this.applyChanges(o,r,i)}delete(e){let n=this.field(e.popLast());sf(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return lr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];sf(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Lo(n,(i,o)=>e[i]=o);for(let i of r)delete e[i]}clone(){return new t(yu(this.value))}};function RM(t){let e=[];return Lo(t.fields,(n,r)=>{let i=new on([n]);if(sf(r)){let o=RM(r.mapValue).fields;if(o.length===0)e.push(i);else for(let s of o)e.push(i.child(s))}else e.push(i)}),new sr(e)}var Vn=class t{constructor(e,n,r,i,o,s,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(e){return new t(e,0,ie.min(),ie.min(),ie.min(),Ln.empty(),0)}static newFoundDocument(e,n,r,i){return new t(e,1,n,ie.min(),r,i,0)}static newNoDocument(e,n){return new t(e,2,n,ie.min(),ie.min(),Ln.empty(),0)}static newUnknownDocument(e,n){return new t(e,3,n,ie.min(),ie.min(),Ln.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ie.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Ln.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Ln.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ie.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new t(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var ca=class{constructor(e,n){this.position=e,this.inclusive=n}};function TR(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){let o=e[i],s=t.position[i];if(o.field.isKeyField()?r=Z.comparator(Z.fromName(s.referenceValue),n.key):r=sa(s,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function SR(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!lr(t.position[n],e.position[n]))return!1;return!0}var ua=class{constructor(e,n="asc"){this.field=e,this.dir=n}};function c4(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}var mf=class{},at=class t extends mf{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new tI(e,n,r):n==="array-contains"?new iI(e,r):n==="in"?new oI(e,r):n==="not-in"?new sI(e,r):n==="array-contains-any"?new aI(e,r):new t(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new nI(e,r):new rI(e,r)}matches(e){let n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(sa(n,this.value)):n!==null&&Ri(this.value)===Ri(n)&&this.matchesComparison(sa(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Y(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},dr=class t extends mf{constructor(e,n){super(),this.filters=e,this.op=n,this.Te=null}static create(e,n){return new t(e,n)}matches(e){return MM(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}};function MM(t){return t.op==="and"}function NM(t){return u4(t)&&MM(t)}function u4(t){for(let e of t.filters)if(e instanceof dr)return!1;return!0}function eI(t){if(t instanceof at)return t.field.canonicalString()+t.op.toString()+aa(t.value);if(NM(t))return t.filters.map(e=>eI(e)).join(",");{let e=t.filters.map(n=>eI(n)).join(",");return`${t.op}(${e})`}}function PM(t,e){return t instanceof at?function(r,i){return i instanceof at&&r.op===i.op&&r.field.isEqual(i.field)&&lr(r.value,i.value)}(t,e):t instanceof dr?function(r,i){return i instanceof dr&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,s,a)=>o&&PM(s,i.filters[a]),!0):!1}(t,e):void Y(19439)}function xM(t){return t instanceof at?function(n){return`${n.field.canonicalString()} ${n.op} ${aa(n.value)}`}(t):t instanceof dr?function(n){return n.op.toString()+" {"+n.getFilters().map(xM).join(" ,")+"}"}(t):"Filter"}var tI=class extends at{constructor(e,n,r){super(e,n,r),this.key=Z.fromName(r.referenceValue)}matches(e){let n=Z.comparator(e.key,this.key);return this.matchesComparison(n)}},nI=class extends at{constructor(e,n){super(e,"in",n),this.keys=kM("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}},rI=class extends at{constructor(e,n){super(e,"not-in",n),this.keys=kM("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}};function kM(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>Z.fromName(r.referenceValue))}var iI=class extends at{constructor(e,n){super(e,"array-contains",n)}matches(e){let n=e.data.field(this.field);return ME(n)&&Du(n.arrayValue,this.value)}},oI=class extends at{constructor(e,n){super(e,"in",n)}matches(e){let n=e.data.field(this.field);return n!==null&&Du(this.value.arrayValue,n)}},sI=class extends at{constructor(e,n){super(e,"not-in",n)}matches(e){if(Du(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Du(this.value.arrayValue,n)}},aI=class extends at{constructor(e,n){super(e,"array-contains-any",n)}matches(e){let n=e.data.field(this.field);return!(!ME(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Du(this.value.arrayValue,r))}};var cI=class{constructor(e,n=null,r=[],i=[],o=null,s=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=a,this.Ie=null}};function AR(t,e=null,n=[],r=[],i=null,o=null,s=null){return new cI(t,e,n,r,i,o,s)}function NE(t){let e=te(t);if(e.Ie===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>eI(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),Hf(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>aa(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>aa(r)).join(",")),e.Ie=n}return e.Ie}function PE(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!c4(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!PM(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!SR(t.startAt,e.startAt)&&SR(t.endAt,e.endAt)}function uI(t){return Z.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}var la=class{constructor(e,n=null,r=[],i=[],o=null,s="F",a=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=u,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}};function l4(t,e,n,r,i,o,s,a){return new la(t,e,n,r,i,o,s,a)}function xE(t){return new la(t)}function RR(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function d4(t){return t.collectionGroup!==null}function vu(t){let e=te(t);if(e.Ee===null){e.Ee=[];let n=new Set;for(let o of e.explicitOrderBy)e.Ee.push(o),n.add(o.field.canonicalString());let r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let a=new pt(on.comparator);return s.filters.forEach(u=>{u.getFlattenedFilters().forEach(l=>{l.isInequality()&&(a=a.add(l.field))})}),a})(e).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||e.Ee.push(new ua(o,r))}),n.has(on.keyField().canonicalString())||e.Ee.push(new ua(on.keyField(),r))}return e.Ee}function cr(t){let e=te(t);return e.de||(e.de=h4(e,vu(t))),e.de}function h4(t,e){if(t.limitType==="F")return AR(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{let o=i.dir==="desc"?"asc":"desc";return new ua(i.field,o)});let n=t.endAt?new ca(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new ca(t.startAt.position,t.startAt.inclusive):null;return AR(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function lI(t,e,n){return new la(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function qf(t,e){return PE(cr(t),cr(e))&&t.limitType===e.limitType}function OM(t){return`${NE(cr(t))}|lt:${t.limitType}`}function Zs(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>xM(i)).join(", ")}]`),Hf(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>aa(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>aa(i)).join(",")),`Target(${r})`}(cr(t))}; limitType=${t.limitType})`}function Wf(t,e){return e.isFoundDocument()&&function(r,i){let o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):Z.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(t,e)&&function(r,i){for(let o of vu(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(t,e)&&function(r,i){for(let o of r.filters)if(!o.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(s,a,u){let l=TR(s,a,u);return s.inclusive?l<=0:l<0}(r.startAt,vu(r),i)||r.endAt&&!function(s,a,u){let l=TR(s,a,u);return s.inclusive?l>=0:l>0}(r.endAt,vu(r),i))}(t,e)}function f4(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function FM(t){return(e,n)=>{let r=!1;for(let i of vu(t)){let o=p4(i,e,n);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function p4(t,e,n){let r=t.field.isKeyField()?Z.comparator(e.key,n.key):function(o,s,a){let u=s.data.field(o),l=a.data.field(o);return u!==null&&l!==null?sa(u,l):Y(42886)}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Y(19790,{direction:t.dir})}}var qr=class{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(let[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){let r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Lo(this.inner,(n,r)=>{for(let[i,o]of r)e(i,o)})}isEmpty(){return EM(this.inner)}size(){return this.innerSize}};var g4=new We(Z.comparator);function Wr(){return g4}var LM=new We(Z.comparator);function mu(...t){let e=LM;for(let n of t)e=e.insert(n.key,n);return e}function VM(t){let e=LM;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function So(){return _u()}function jM(){return _u()}function _u(){return new qr(t=>t.toString(),(t,e)=>t.isEqual(e))}var m4=new We(Z.comparator),y4=new pt(Z.comparator);function _e(...t){let e=y4;for(let n of t)e=e.add(n);return e}var v4=new pt(he);function _4(){return v4}function kE(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Cu(e)?"-0":e}}function UM(t){return{integerValue:""+t}}function I4(t,e){return KH(e)?UM(e):kE(t,e)}var da=class{constructor(){this._=void 0}};function E4(t,e,n){return t instanceof ha?function(i,o){let s={fields:{[CM]:{stringValue:wM},[DM]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&SE(o)&&(o=zf(o)),o&&(s.fields[bM]=o),{mapValue:s}}(n,e):t instanceof xo?$M(t,e):t instanceof ko?HM(t,e):function(i,o){let s=BM(i,o),a=MR(s)+MR(i.Re);return X_(s)&&X_(i.Re)?UM(a):kE(i.serializer,a)}(t,e)}function w4(t,e,n){return t instanceof xo?$M(t,e):t instanceof ko?HM(t,e):n}function BM(t,e){return t instanceof fa?function(r){return X_(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}var ha=class extends da{},xo=class extends da{constructor(e){super(),this.elements=e}};function $M(t,e){let n=zM(e);for(let r of t.elements)n.some(i=>lr(i,r))||n.push(r);return{arrayValue:{values:n}}}var ko=class extends da{constructor(e){super(),this.elements=e}};function HM(t,e){let n=zM(e);for(let r of t.elements)n=n.filter(i=>!lr(i,r));return{arrayValue:{values:n}}}var fa=class extends da{constructor(e,n){super(),this.serializer=e,this.Re=n}};function MR(t){return Ve(t.integerValue||t.doubleValue)}function zM(t){return ME(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function C4(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof xo&&i instanceof xo||r instanceof ko&&i instanceof ko?ia(r.elements,i.elements,lr):r instanceof fa&&i instanceof fa?lr(r.Re,i.Re):r instanceof ha&&i instanceof ha}(t.transform,e.transform)}var dI=class{constructor(e,n){this.version=e,this.transformResults=n}},Mo=class t{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new t}static exists(e){return new t(void 0,e)}static updateTime(e){return new t(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function af(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}var pa=class{};function qM(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new yf(t.key,Mo.none()):new Oo(t.key,t.data,Mo.none());{let n=t.data,r=Ln.empty(),i=new pt(on.comparator);for(let o of e.fields)if(!i.has(o)){let s=n.field(o);s===null&&o.length>1&&(o=o.popLast(),s=n.field(o)),s===null?r.delete(o):r.set(o,s),i=i.add(o)}return new Gr(t.key,r,new sr(i.toArray()),Mo.none())}}function b4(t,e,n){t instanceof Oo?function(i,o,s){let a=i.value.clone(),u=PR(i.fieldTransforms,o,s.transformResults);a.setAll(u),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(t,e,n):t instanceof Gr?function(i,o,s){if(!af(i.precondition,o))return void o.convertToUnknownDocument(s.version);let a=PR(i.fieldTransforms,o,s.transformResults),u=o.data;u.setAll(WM(i)),u.setAll(a),o.convertToFoundDocument(s.version,u).setHasCommittedMutations()}(t,e,n):function(i,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,n)}function Iu(t,e,n,r){return t instanceof Oo?function(o,s,a,u){if(!af(o.precondition,s))return a;let l=o.value.clone(),h=xR(o.fieldTransforms,u,s);return l.setAll(h),s.convertToFoundDocument(s.version,l).setHasLocalMutations(),null}(t,e,n,r):t instanceof Gr?function(o,s,a,u){if(!af(o.precondition,s))return a;let l=xR(o.fieldTransforms,u,s),h=s.data;return h.setAll(WM(o)),h.setAll(l),s.convertToFoundDocument(s.version,h).setHasLocalMutations(),a===null?null:a.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(p=>p.field))}(t,e,n,r):function(o,s,a){return af(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a}(t,e,n)}function D4(t,e){let n=null;for(let r of t.fieldTransforms){let i=e.data.field(r.field),o=BM(r.transform,i||null);o!=null&&(n===null&&(n=Ln.empty()),n.set(r.field,o))}return n||null}function NR(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&ia(r,i,(o,s)=>C4(o,s))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}var Oo=class extends pa{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}},Gr=class extends pa{constructor(e,n,r,i,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}};function WM(t){let e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){let r=t.data.field(n);e.set(n,r)}}),e}function PR(t,e,n){let r=new Map;Re(t.length===n.length,32656,{Ve:n.length,me:t.length});for(let i=0;i<n.length;i++){let o=t[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,w4(s,a,n[i]))}return r}function xR(t,e,n){let r=new Map;for(let i of t){let o=i.transform,s=n.data.field(i.field);r.set(i.field,E4(o,s,e))}return r}var yf=class extends pa{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},hI=class extends pa{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};var fI=class{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){let r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){let o=this.mutations[i];o.key.isEqual(e.key)&&b4(o,e,r[i])}}applyToLocalView(e,n){for(let r of this.baseMutations)r.key.isEqual(e.key)&&(n=Iu(r,e,n,this.localWriteTime));for(let r of this.mutations)r.key.isEqual(e.key)&&(n=Iu(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){let r=jM();return this.mutations.forEach(i=>{let o=e.get(i.key),s=o.overlayedDocument,a=this.applyToLocalView(s,o.mutatedFields);a=n.has(i.key)?null:a;let u=qM(s,a);u!==null&&r.set(i.key,u),s.isValidDocument()||s.convertToNoDocument(ie.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),_e())}isEqual(e){return this.batchId===e.batchId&&ia(this.mutations,e.mutations,(n,r)=>NR(n,r))&&ia(this.baseMutations,e.baseMutations,(n,r)=>NR(n,r))}},pI=class t{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Re(e.mutations.length===r.length,58842,{fe:e.mutations.length,ge:r.length});let i=function(){return m4}(),o=e.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new t(e,n,r,i)}};var gI=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var mI=class{constructor(e,n){this.count=e,this.unchangedNames=n}};var Xe,De;function T4(t){switch(t){case L.OK:return Y(64938);case L.CANCELLED:case L.UNKNOWN:case L.DEADLINE_EXCEEDED:case L.RESOURCE_EXHAUSTED:case L.INTERNAL:case L.UNAVAILABLE:case L.UNAUTHENTICATED:return!1;case L.INVALID_ARGUMENT:case L.NOT_FOUND:case L.ALREADY_EXISTS:case L.PERMISSION_DENIED:case L.FAILED_PRECONDITION:case L.ABORTED:case L.OUT_OF_RANGE:case L.UNIMPLEMENTED:case L.DATA_LOSS:return!0;default:return Y(15467,{code:t})}}function GM(t){if(t===void 0)return $r("GRPC error has no .code"),L.UNKNOWN;switch(t){case Xe.OK:return L.OK;case Xe.CANCELLED:return L.CANCELLED;case Xe.UNKNOWN:return L.UNKNOWN;case Xe.DEADLINE_EXCEEDED:return L.DEADLINE_EXCEEDED;case Xe.RESOURCE_EXHAUSTED:return L.RESOURCE_EXHAUSTED;case Xe.INTERNAL:return L.INTERNAL;case Xe.UNAVAILABLE:return L.UNAVAILABLE;case Xe.UNAUTHENTICATED:return L.UNAUTHENTICATED;case Xe.INVALID_ARGUMENT:return L.INVALID_ARGUMENT;case Xe.NOT_FOUND:return L.NOT_FOUND;case Xe.ALREADY_EXISTS:return L.ALREADY_EXISTS;case Xe.PERMISSION_DENIED:return L.PERMISSION_DENIED;case Xe.FAILED_PRECONDITION:return L.FAILED_PRECONDITION;case Xe.ABORTED:return L.ABORTED;case Xe.OUT_OF_RANGE:return L.OUT_OF_RANGE;case Xe.UNIMPLEMENTED:return L.UNIMPLEMENTED;case Xe.DATA_LOSS:return L.DATA_LOSS;default:return Y(39323,{code:t})}}(De=Xe||(Xe={}))[De.OK=0]="OK",De[De.CANCELLED=1]="CANCELLED",De[De.UNKNOWN=2]="UNKNOWN",De[De.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",De[De.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",De[De.NOT_FOUND=5]="NOT_FOUND",De[De.ALREADY_EXISTS=6]="ALREADY_EXISTS",De[De.PERMISSION_DENIED=7]="PERMISSION_DENIED",De[De.UNAUTHENTICATED=16]="UNAUTHENTICATED",De[De.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",De[De.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",De[De.ABORTED=10]="ABORTED",De[De.OUT_OF_RANGE=11]="OUT_OF_RANGE",De[De.UNIMPLEMENTED=12]="UNIMPLEMENTED",De[De.INTERNAL=13]="INTERNAL",De[De.UNAVAILABLE=14]="UNAVAILABLE",De[De.DATA_LOSS=15]="DATA_LOSS";var kR=null;var S4=new jr([4294967295,4294967295],0);function OR(t){let e=sM().encode(t),n=new P_;return n.update(e),new Uint8Array(n.digest())}function FR(t){let e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new jr([n,r],0),new jr([i,o],0)]}var yI=class t{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Ao(`Invalid padding: ${n}`);if(r<0)throw new Ao(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Ao(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Ao(`Invalid padding when bitmap length is 0: ${n}`);this.pe=8*e.length-n,this.ye=jr.fromNumber(this.pe)}we(e,n,r){let i=e.add(n.multiply(jr.fromNumber(r)));return i.compare(S4)===1&&(i=new jr([i.getBits(0),i.getBits(1)],0)),i.modulo(this.ye).toNumber()}be(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.pe===0)return!1;let n=OR(e),[r,i]=FR(n);for(let o=0;o<this.hashCount;o++){let s=this.we(r,i,o);if(!this.be(s))return!1}return!0}static create(e,n,r){let i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new t(o,i,n);return r.forEach(a=>s.insert(a)),s}insert(e){if(this.pe===0)return;let n=OR(e),[r,i]=FR(n);for(let o=0;o<this.hashCount;o++){let s=this.we(r,i,o);this.Se(s)}}Se(e){let n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}},Ao=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var vf=class t{constructor(e,n,r,i,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){let i=new Map;return i.set(e,Tu.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new t(ie.min(),i,new We(he),Wr(),_e())}},Tu=class t{constructor(e,n,r,i,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new t(r,n,_e(),_e(),_e())}};var ta=class{constructor(e,n,r,i){this.De=e,this.removedTargetIds=n,this.key=r,this.ve=i}},_f=class{constructor(e,n){this.targetId=e,this.Ce=n}},If=class{constructor(e,n,r=Mt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}},Ef=class{constructor(){this.Fe=0,this.Me=LR(),this.xe=Mt.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=_e(),n=_e(),r=_e();return this.Me.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:Y(38017,{changeType:o})}}),new Tu(this.xe,this.Oe,e,n,r)}Qe(){this.Ne=!1,this.Me=LR()}$e(e,n){this.Ne=!0,this.Me=this.Me.insert(e,n)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,Re(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}},vI=class{constructor(e){this.ze=e,this.je=new Map,this.He=Wr(),this.Je=nf(),this.Ye=nf(),this.Ze=new We(he)}Xe(e){for(let n of e.De)e.ve&&e.ve.isFoundDocument()?this.et(n,e.ve):this.tt(n,e.key,e.ve);for(let n of e.removedTargetIds)this.tt(n,e.key,e.ve)}nt(e){this.forEachTarget(e,n=>{let r=this.rt(n);switch(e.state){case 0:this.it(n)&&r.ke(e.resumeToken);break;case 1:r.We(),r.Be||r.Qe(),r.ke(e.resumeToken);break;case 2:r.We(),r.Be||this.removeTarget(n);break;case 3:this.it(n)&&(r.Ge(),r.ke(e.resumeToken));break;case 4:this.it(n)&&(this.st(n),r.ke(e.resumeToken));break;default:Y(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.je.forEach((r,i)=>{this.it(i)&&n(i)})}ot(e){let n=e.targetId,r=e.Ce.count,i=this._t(n);if(i){let o=i.target;if(uI(o))if(r===0){let s=new Z(o.path);this.tt(n,s,Vn.newNoDocument(s,ie.min()))}else Re(r===1,20013,{expectedCount:r});else{let s=this.ut(n);if(s!==r){let a=this.ct(e),u=a?this.lt(a,e,s):1;if(u!==0){this.st(n);let l=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,l)}kR?.ht(function(h,p,y,m,D){var k,x,U,K,J,Me;let ut={localCacheCount:h,existenceFilterCount:p.count,databaseId:y.database,projectId:y.projectId},Ne=p.unchangedNames;return Ne&&(ut.bloomFilter={applied:D===0,hashCount:(k=Ne?.hashCount)!==null&&k!==void 0?k:0,bitmapLength:(K=(U=(x=Ne?.bits)===null||x===void 0?void 0:x.bitmap)===null||U===void 0?void 0:U.length)!==null&&K!==void 0?K:0,padding:(Me=(J=Ne?.bits)===null||J===void 0?void 0:J.padding)!==null&&Me!==void 0?Me:0,mightContain:T=>{var v;return(v=m?.mightContain(T))!==null&&v!==void 0&&v}}),ut}(s,e.Ce,this.ze.Pt(),a,u))}}}}ct(e){let n=e.Ce.unchangedNames;if(!n||!n.bits)return null;let{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=n,s,a;try{s=zr(r).toUint8Array()}catch(u){if(u instanceof ff)return ra("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{a=new yI(s,i,o)}catch(u){return ra(u instanceof Ao?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return a.pe===0?null:a}lt(e,n,r){return n.Ce.count===r-this.Tt(e,n.targetId)?0:2}Tt(e,n){let r=this.ze.getRemoteKeysForTarget(n),i=0;return r.forEach(o=>{let s=this.ze.Pt(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(a)||(this.tt(n,o,null),i++)}),i}It(e){let n=new Map;this.je.forEach((o,s)=>{let a=this._t(s);if(a){if(o.current&&uI(a.target)){let u=new Z(a.target.path);this.Et(u).has(s)||this.dt(s,u)||this.tt(s,u,Vn.newNoDocument(u,e))}o.Le&&(n.set(s,o.qe()),o.Qe())}});let r=_e();this.Ye.forEach((o,s)=>{let a=!0;s.forEachWhile(u=>{let l=this._t(u);return!l||l.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(o))}),this.He.forEach((o,s)=>s.setReadTime(e));let i=new vf(e,n,this.Ze,this.He,r);return this.He=Wr(),this.Je=nf(),this.Ye=nf(),this.Ze=new We(he),i}et(e,n){if(!this.it(e))return;let r=this.dt(e,n.key)?2:0;this.rt(e).$e(n.key,r),this.He=this.He.insert(n.key,n),this.Je=this.Je.insert(n.key,this.Et(n.key).add(e)),this.Ye=this.Ye.insert(n.key,this.At(n.key).add(e))}tt(e,n,r){if(!this.it(e))return;let i=this.rt(e);this.dt(e,n)?i.$e(n,1):i.Ue(n),this.Ye=this.Ye.insert(n,this.At(n).delete(e)),this.Ye=this.Ye.insert(n,this.At(n).add(e)),r&&(this.He=this.He.insert(n,r))}removeTarget(e){this.je.delete(e)}ut(e){let n=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let n=this.je.get(e);return n||(n=new Ef,this.je.set(e,n)),n}At(e){let n=this.Ye.get(e);return n||(n=new pt(he),this.Ye=this.Ye.insert(e,n)),n}Et(e){let n=this.Je.get(e);return n||(n=new pt(he),this.Je=this.Je.insert(e,n)),n}it(e){let n=this._t(e)!==null;return n||B("WatchChangeAggregator","Detected inactive target",e),n}_t(e){let n=this.je.get(e);return n&&n.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new Ef),this.ze.getRemoteKeysForTarget(e).forEach(n=>{this.tt(e,n,null)})}dt(e,n){return this.ze.getRemoteKeysForTarget(e).has(n)}};function nf(){return new We(Z.comparator)}function LR(){return new We(Z.comparator)}var A4={asc:"ASCENDING",desc:"DESCENDING"},R4={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},M4={and:"AND",or:"OR"},_I=class{constructor(e,n){this.databaseId=e,this.useProto3Json=n}};function II(t,e){return t.useProto3Json||Hf(e)?e:{value:e}}function wf(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function KM(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function N4(t,e){return wf(t,e.toTimestamp())}function ur(t){return Re(!!t,49232),ie.fromTimestamp(function(n){let r=Hr(n);return new Ct(r.seconds,r.nanos)}(t))}function OE(t,e){return EI(t,e).canonicalString()}function EI(t,e){let n=function(i){return new qe(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function QM(t){let e=qe.fromString(t);return Re(eN(e),10190,{key:e.toString()}),e}function wI(t,e){return OE(t.databaseId,e.path)}function V_(t,e){let n=QM(e);if(n.get(1)!==t.databaseId.projectId)throw new W(L.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new W(L.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Z(ZM(n))}function YM(t,e){return OE(t.databaseId,e)}function P4(t){let e=QM(t);return e.length===4?qe.emptyPath():ZM(e)}function CI(t){return new qe(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function ZM(t){return Re(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function VR(t,e,n){return{name:wI(t,e),fields:n.value.mapValue.fields}}function x4(t,e){let n;if("targetChange"in e){e.targetChange;let r=function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:Y(39313,{state:l})}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(l,h){return l.useProto3Json?(Re(h===void 0||typeof h=="string",58123),Mt.fromBase64String(h||"")):(Re(h===void 0||h instanceof Buffer||h instanceof Uint8Array,16193),Mt.fromUint8Array(h||new Uint8Array))}(t,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&function(l){let h=l.code===void 0?L.UNKNOWN:GM(l.code);return new W(h,l.message||"")}(s);n=new If(r,i,o,a||null)}else if("documentChange"in e){e.documentChange;let r=e.documentChange;r.document,r.document.name,r.document.updateTime;let i=V_(t,r.document.name),o=ur(r.document.updateTime),s=r.document.createTime?ur(r.document.createTime):ie.min(),a=new Ln({mapValue:{fields:r.document.fields}}),u=Vn.newFoundDocument(i,o,s,a),l=r.targetIds||[],h=r.removedTargetIds||[];n=new ta(l,h,u.key,u)}else if("documentDelete"in e){e.documentDelete;let r=e.documentDelete;r.document;let i=V_(t,r.document),o=r.readTime?ur(r.readTime):ie.min(),s=Vn.newNoDocument(i,o),a=r.removedTargetIds||[];n=new ta([],a,s.key,s)}else if("documentRemove"in e){e.documentRemove;let r=e.documentRemove;r.document;let i=V_(t,r.document),o=r.removedTargetIds||[];n=new ta([],o,i,null)}else{if(!("filter"in e))return Y(11601,{Vt:e});{e.filter;let r=e.filter;r.targetId;let{count:i=0,unchangedNames:o}=r,s=new mI(i,o),a=r.targetId;n=new _f(a,s)}}return n}function k4(t,e){let n;if(e instanceof Oo)n={update:VR(t,e.key,e.value)};else if(e instanceof yf)n={delete:wI(t,e.key)};else if(e instanceof Gr)n={update:VR(t,e.key,e.data),updateMask:H4(e.fieldMask)};else{if(!(e instanceof hI))return Y(16599,{ft:e.type});n={verify:wI(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(o,s){let a=s.transform;if(a instanceof ha)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof xo)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof ko)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof fa)return{fieldPath:s.field.canonicalString(),increment:a.Re};throw Y(20930,{transform:s.transform})}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:N4(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:Y(27497)}(t,e.precondition)),n}function O4(t,e){return t&&t.length>0?(Re(e!==void 0,14353),t.map(n=>function(i,o){let s=i.updateTime?ur(i.updateTime):ur(o);return s.isEqual(ie.min())&&(s=ur(o)),new dI(s,i.transformResults||[])}(n,e))):[]}function F4(t,e){return{documents:[YM(t,e.path)]}}function L4(t,e){let n={structuredQuery:{}},r=e.path,i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=YM(t,i);let o=function(l){if(l.length!==0)return XM(dr.create(l,"and"))}(e.filters);o&&(n.structuredQuery.where=o);let s=function(l){if(l.length!==0)return l.map(h=>function(y){return{field:Js(y.field),direction:U4(y.dir)}}(h))}(e.orderBy);s&&(n.structuredQuery.orderBy=s);let a=II(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(l){return{before:l.inclusive,values:l.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(e.endAt)),{gt:n,parent:i}}function V4(t){let e=P4(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){Re(r===1,65062);let h=n.from[0];h.allDescendants?i=h.collectionId:e=e.child(h.collectionId)}let o=[];n.where&&(o=function(p){let y=JM(p);return y instanceof dr&&NM(y)?y.getFilters():[y]}(n.where));let s=[];n.orderBy&&(s=function(p){return p.map(y=>function(D){return new ua(Xs(D.field),function(x){switch(x){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(D.direction))}(y))}(n.orderBy));let a=null;n.limit&&(a=function(p){let y;return y=typeof p=="object"?p.value:p,Hf(y)?null:y}(n.limit));let u=null;n.startAt&&(u=function(p){let y=!!p.before,m=p.values||[];return new ca(m,y)}(n.startAt));let l=null;return n.endAt&&(l=function(p){let y=!p.before,m=p.values||[];return new ca(m,y)}(n.endAt)),l4(e,i,s,o,a,"F",u,l)}function j4(t,e){let n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Y(28987,{purpose:i})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function JM(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":let r=Xs(n.unaryFilter.field);return at.create(r,"==",{doubleValue:NaN});case"IS_NULL":let i=Xs(n.unaryFilter.field);return at.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let o=Xs(n.unaryFilter.field);return at.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let s=Xs(n.unaryFilter.field);return at.create(s,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Y(61313);default:return Y(60726)}}(t):t.fieldFilter!==void 0?function(n){return at.create(Xs(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Y(58110);default:return Y(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return dr.create(n.compositeFilter.filters.map(r=>JM(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Y(1026)}}(n.compositeFilter.op))}(t):Y(30097,{filter:t})}function U4(t){return A4[t]}function B4(t){return R4[t]}function $4(t){return M4[t]}function Js(t){return{fieldPath:t.canonicalString()}}function Xs(t){return on.fromServerFormat(t.fieldPath)}function XM(t){return t instanceof at?function(n){if(n.op==="=="){if(DR(n.value))return{unaryFilter:{field:Js(n.field),op:"IS_NAN"}};if(bR(n.value))return{unaryFilter:{field:Js(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(DR(n.value))return{unaryFilter:{field:Js(n.field),op:"IS_NOT_NAN"}};if(bR(n.value))return{unaryFilter:{field:Js(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Js(n.field),op:B4(n.op),value:n.value}}}(t):t instanceof dr?function(n){let r=n.getFilters().map(i=>XM(i));return r.length===1?r[0]:{compositeFilter:{op:$4(n.op),filters:r}}}(t):Y(54877,{filter:t})}function H4(t){let e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function eN(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}var Su=class t{constructor(e,n,r,i,o=ie.min(),s=ie.min(),a=Mt.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=u}withSequenceNumber(e){return new t(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};var bI=class{constructor(e){this.wt=e}};function z4(t){let e=V4({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?lI(e,e.limit,"L"):e}var Cf=class{constructor(){}vt(e,n){this.Ct(e,n),n.Ft()}Ct(e,n){if("nullValue"in e)this.Mt(n,5);else if("booleanValue"in e)this.Mt(n,10),n.xt(e.booleanValue?1:0);else if("integerValue"in e)this.Mt(n,15),n.xt(Ve(e.integerValue));else if("doubleValue"in e){let r=Ve(e.doubleValue);isNaN(r)?this.Mt(n,13):(this.Mt(n,15),Cu(r)?n.xt(0):n.xt(r))}else if("timestampValue"in e){let r=e.timestampValue;this.Mt(n,20),typeof r=="string"&&(r=Hr(r)),n.Ot(`${r.seconds||""}`),n.xt(r.nanos||0)}else if("stringValue"in e)this.Nt(e.stringValue,n),this.Bt(n);else if("bytesValue"in e)this.Mt(n,30),n.Lt(zr(e.bytesValue)),this.Bt(n);else if("referenceValue"in e)this.kt(e.referenceValue,n);else if("geoPointValue"in e){let r=e.geoPointValue;this.Mt(n,45),n.xt(r.latitude||0),n.xt(r.longitude||0)}else"mapValue"in e?AM(e)?this.Mt(n,Number.MAX_SAFE_INTEGER):SM(e)?this.qt(e.mapValue,n):(this.Qt(e.mapValue,n),this.Bt(n)):"arrayValue"in e?(this.$t(e.arrayValue,n),this.Bt(n)):Y(19022,{Ut:e})}Nt(e,n){this.Mt(n,25),this.Kt(e,n)}Kt(e,n){n.Ot(e)}Qt(e,n){let r=e.fields||{};this.Mt(n,55);for(let i of Object.keys(r))this.Nt(i,n),this.Ct(r[i],n)}qt(e,n){var r,i;let o=e.fields||{};this.Mt(n,53);let s=oa,a=((i=(r=o[s].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.length)||0;this.Mt(n,15),n.xt(Ve(a)),this.Nt(s,n),this.Ct(o[s],n)}$t(e,n){let r=e.values||[];this.Mt(n,50);for(let i of r)this.Ct(i,n)}kt(e,n){this.Mt(n,37),Z.fromName(e).path.forEach(r=>{this.Mt(n,60),this.Kt(r,n)})}Mt(e,n){e.xt(n)}Bt(e){e.xt(2)}};Cf.Wt=new Cf;var DI=class{constructor(){this.yn=new TI}addToCollectionParentIndex(e,n){return this.yn.add(n),F.resolve()}getCollectionParents(e,n){return F.resolve(this.yn.getEntries(n))}addFieldIndex(e,n){return F.resolve()}deleteFieldIndex(e,n){return F.resolve()}deleteAllFieldIndexes(e){return F.resolve()}createTargetIndexes(e,n){return F.resolve()}getDocumentsMatchingTarget(e,n){return F.resolve(null)}getIndexType(e,n){return F.resolve(0)}getFieldIndexes(e,n){return F.resolve([])}getNextCollectionGroupToUpdate(e){return F.resolve(null)}getMinOffset(e,n){return F.resolve(Po.min())}getMinOffsetFromCollectionGroup(e,n){return F.resolve(Po.min())}updateCollectionGroup(e,n,r){return F.resolve()}updateIndexEntries(e,n){return F.resolve()}},TI=class{constructor(){this.index={}}add(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new pt(qe.comparator),o=!i.has(r);return this.index[n]=i.add(r),o}has(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new pt(qe.comparator)).toArray()}};var FJ=new Uint8Array(0);var jR={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},tN=41943040,mn=class t{static withCacheSize(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}};mn.DEFAULT_COLLECTION_PERCENTILE=10,mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,mn.DEFAULT=new mn(tN,mn.DEFAULT_COLLECTION_PERCENTILE,mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),mn.DISABLED=new mn(-1,0,0);var Au=class t{constructor(e){this.nr=e}next(){return this.nr+=2,this.nr}static rr(){return new t(0)}static ir(){return new t(-1)}};var UR="LruGarbageCollector",q4=1048576;function BR([t,e],[n,r]){let i=he(t,n);return i===0?he(e,r):i}var SI=class{constructor(e){this.cr=e,this.buffer=new pt(BR),this.lr=0}hr(){return++this.lr}Pr(e){let n=[e,this.hr()];if(this.buffer.size<this.cr)this.buffer=this.buffer.add(n);else{let r=this.buffer.last();BR(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}},AI=class{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Tr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ir(6e4)}stop(){this.Tr&&(this.Tr.cancel(),this.Tr=null)}get started(){return this.Tr!==null}Ir(e){B(UR,`Garbage collection scheduled in ${e}ms`),this.Tr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,()=>_(this,null,function*(){this.Tr=null;try{yield this.localStore.collectGarbage(this.garbageCollector)}catch(n){Ia(n)?B(UR,"Ignoring IndexedDB error during garbage collection: ",n):yield _a(n)}yield this.Ir(3e5)}))}},RI=class{constructor(e,n){this.Er=e,this.params=n}calculateTargetCount(e,n){return this.Er.dr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return F.resolve(DE.le);let r=new SI(n);return this.Er.forEachTarget(e,i=>r.Pr(i.sequenceNumber)).next(()=>this.Er.Ar(e,i=>r.Pr(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.Er.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.Er.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(B("LruGarbageCollector","Garbage collection skipped; disabled"),F.resolve(jR)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(B("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),jR):this.Rr(e,n))}getCacheSize(e){return this.Er.getCacheSize(e)}Rr(e,n){let r,i,o,s,a,u,l,h=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(p=>(p>this.params.maximumSequenceNumbersToCollect?(B("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${p}`),i=this.params.maximumSequenceNumbersToCollect):i=p,s=Date.now(),this.nthSequenceNumber(e,i))).next(p=>(r=p,a=Date.now(),this.removeTargets(e,r,n))).next(p=>(o=p,u=Date.now(),this.removeOrphanedDocuments(e,r))).next(p=>(l=Date.now(),Ys()<=me.DEBUG&&B("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${s-h}ms
	Determined least recently used ${i} in `+(a-s)+`ms
	Removed ${o} targets in `+(u-a)+`ms
	Removed ${p} documents in `+(l-u)+`ms
Total Duration: ${l-h}ms`),F.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:o,documentsRemoved:p})))}};function W4(t,e){return new RI(t,e)}var MI=class{constructor(){this.changes=new qr(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Vn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();let r=this.changes.get(n);return r!==void 0?F.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var NI=class{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}};var PI=class{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&Iu(r.mutation,i,sr.empty(),Ct.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,_e()).next(()=>r))}getLocalViewOfDocuments(e,n,r=_e()){let i=So();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(o=>{let s=mu();return o.forEach((a,u)=>{s=s.insert(a,u.overlayedDocument)}),s}))}getOverlayedDocuments(e,n){let r=So();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,_e()))}populateOverlays(e,n,r){let i=[];return r.forEach(o=>{n.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,a)=>{n.set(s,a)})})}computeViews(e,n,r,i){let o=Wr(),s=_u(),a=function(){return _u()}();return n.forEach((u,l)=>{let h=r.get(l.key);i.has(l.key)&&(h===void 0||h.mutation instanceof Gr)?o=o.insert(l.key,l):h!==void 0?(s.set(l.key,h.mutation.getFieldMask()),Iu(h.mutation,l,h.mutation.getFieldMask(),Ct.now())):s.set(l.key,sr.empty())}),this.recalculateAndSaveOverlays(e,o).next(u=>(u.forEach((l,h)=>s.set(l,h)),n.forEach((l,h)=>{var p;return a.set(l,new NI(h,(p=s.get(l))!==null&&p!==void 0?p:null))}),a))}recalculateAndSaveOverlays(e,n){let r=_u(),i=new We((s,a)=>s-a),o=_e();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(s=>{for(let a of s)a.keys().forEach(u=>{let l=n.get(u);if(l===null)return;let h=r.get(u)||sr.empty();h=a.applyToLocalView(l,h),r.set(u,h);let p=(i.get(a.batchId)||_e()).add(u);i=i.insert(a.batchId,p)})}).next(()=>{let s=[],a=i.getReverseIterator();for(;a.hasNext();){let u=a.getNext(),l=u.key,h=u.value,p=jM();h.forEach(y=>{if(!o.has(y)){let m=qM(n.get(y),r.get(y));m!==null&&p.set(y,m),o=o.add(y)}}),s.push(this.documentOverlayCache.saveOverlays(e,l,p))}return F.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(s){return Z.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):d4(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(o=>{let s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-o.size):F.resolve(So()),a=wu,u=o;return s.next(l=>F.forEach(l,(h,p)=>(a<p.largestBatchId&&(a=p.largestBatchId),o.get(h)?F.resolve():this.remoteDocumentCache.getEntry(e,h).next(y=>{u=u.insert(h,y)}))).next(()=>this.populateOverlays(e,l,o)).next(()=>this.computeViews(e,u,l,_e())).next(h=>({batchId:a,changes:VM(h)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Z(n)).next(r=>{let i=mu();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){let o=n.collectionGroup,s=mu();return this.indexManager.getCollectionParents(e,o).next(a=>F.forEach(a,u=>{let l=function(p,y){return new la(y,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)}(n,u.child(o));return this.getDocumentsMatchingCollectionQuery(e,l,r,i).next(h=>{h.forEach((p,y)=>{s=s.insert(p,y)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,i))).next(s=>{o.forEach((u,l)=>{let h=l.getKey();s.get(h)===null&&(s=s.insert(h,Vn.newInvalidDocument(h)))});let a=mu();return s.forEach((u,l)=>{let h=o.get(u);h!==void 0&&Iu(h.mutation,l,sr.empty(),Ct.now()),Wf(n,l)&&(a=a.insert(u,l))}),a})}};var xI=class{constructor(e){this.serializer=e,this.Fr=new Map,this.Mr=new Map}getBundleMetadata(e,n){return F.resolve(this.Fr.get(n))}saveBundleMetadata(e,n){return this.Fr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:ur(i.createTime)}}(n)),F.resolve()}getNamedQuery(e,n){return F.resolve(this.Mr.get(n))}saveNamedQuery(e,n){return this.Mr.set(n.name,function(i){return{name:i.name,query:z4(i.bundledQuery),readTime:ur(i.readTime)}}(n)),F.resolve()}};var kI=class{constructor(){this.overlays=new We(Z.comparator),this.Or=new Map}getOverlay(e,n){return F.resolve(this.overlays.get(n))}getOverlays(e,n){let r=So();return F.forEach(n,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,o)=>{this.St(e,n,o)}),F.resolve()}removeOverlaysForBatchId(e,n,r){let i=this.Or.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.Or.delete(r)),F.resolve()}getOverlaysForCollection(e,n,r){let i=So(),o=n.length+1,s=new Z(n.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){let u=a.getNext().value,l=u.getKey();if(!n.isPrefixOf(l.path))break;l.path.length===o&&u.largestBatchId>r&&i.set(u.getKey(),u)}return F.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let o=new We((l,h)=>l-h),s=this.overlays.getIterator();for(;s.hasNext();){let l=s.getNext().value;if(l.getKey().getCollectionGroup()===n&&l.largestBatchId>r){let h=o.get(l.largestBatchId);h===null&&(h=So(),o=o.insert(l.largestBatchId,h)),h.set(l.getKey(),l)}}let a=So(),u=o.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((l,h)=>a.set(l,h)),!(a.size()>=i)););return F.resolve(a)}St(e,n,r){let i=this.overlays.get(r.key);if(i!==null){let s=this.Or.get(i.largestBatchId).delete(r.key);this.Or.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new gI(n,r));let o=this.Or.get(n);o===void 0&&(o=_e(),this.Or.set(n,o)),this.Or.set(n,o.add(r.key))}};var OI=class{constructor(){this.sessionToken=Mt.EMPTY_BYTE_STRING}getSessionToken(e){return F.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,F.resolve()}};var Ru=class{constructor(){this.Nr=new pt(et.Br),this.Lr=new pt(et.kr)}isEmpty(){return this.Nr.isEmpty()}addReference(e,n){let r=new et(e,n);this.Nr=this.Nr.add(r),this.Lr=this.Lr.add(r)}qr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Qr(new et(e,n))}$r(e,n){e.forEach(r=>this.removeReference(r,n))}Ur(e){let n=new Z(new qe([])),r=new et(n,e),i=new et(n,e+1),o=[];return this.Lr.forEachInRange([r,i],s=>{this.Qr(s),o.push(s.key)}),o}Kr(){this.Nr.forEach(e=>this.Qr(e))}Qr(e){this.Nr=this.Nr.delete(e),this.Lr=this.Lr.delete(e)}Wr(e){let n=new Z(new qe([])),r=new et(n,e),i=new et(n,e+1),o=_e();return this.Lr.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){let n=new et(e,0),r=this.Nr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}},et=class{constructor(e,n){this.key=e,this.Gr=n}static Br(e,n){return Z.comparator(e.key,n.key)||he(e.Gr,n.Gr)}static kr(e,n){return he(e.Gr,n.Gr)||Z.comparator(e.key,n.key)}};var FI=class{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Jn=1,this.zr=new pt(et.Br)}checkEmpty(e){return F.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){let o=this.Jn;this.Jn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let s=new fI(o,n,r,i);this.mutationQueue.push(s);for(let a of i)this.zr=this.zr.add(new et(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return F.resolve(s)}lookupMutationBatch(e,n){return F.resolve(this.jr(n))}getNextMutationBatchAfterBatchId(e,n){let r=n+1,i=this.Hr(r),o=i<0?0:i;return F.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return F.resolve(this.mutationQueue.length===0?TE:this.Jn-1)}getAllMutationBatches(e){return F.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){let r=new et(n,0),i=new et(n,Number.POSITIVE_INFINITY),o=[];return this.zr.forEachInRange([r,i],s=>{let a=this.jr(s.Gr);o.push(a)}),F.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new pt(he);return n.forEach(i=>{let o=new et(i,0),s=new et(i,Number.POSITIVE_INFINITY);this.zr.forEachInRange([o,s],a=>{r=r.add(a.Gr)})}),F.resolve(this.Jr(r))}getAllMutationBatchesAffectingQuery(e,n){let r=n.path,i=r.length+1,o=r;Z.isDocumentKey(o)||(o=o.child(""));let s=new et(new Z(o),0),a=new pt(he);return this.zr.forEachWhile(u=>{let l=u.key.path;return!!r.isPrefixOf(l)&&(l.length===i&&(a=a.add(u.Gr)),!0)},s),F.resolve(this.Jr(a))}Jr(e){let n=[];return e.forEach(r=>{let i=this.jr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){Re(this.Yr(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.zr;return F.forEach(n.mutations,i=>{let o=new et(i.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.zr=r})}Xn(e){}containsKey(e,n){let r=new et(n,0),i=this.zr.firstAfterOrEqual(r);return F.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,F.resolve()}Yr(e,n){return this.Hr(e)}Hr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}jr(e){let n=this.Hr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}};var LI=class{constructor(e){this.Zr=e,this.docs=function(){return new We(Z.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){let r=n.key,i=this.docs.get(r),o=i?i.size:0,s=this.Zr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){let n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){let r=this.docs.get(n);return F.resolve(r?r.document.mutableCopy():Vn.newInvalidDocument(n))}getEntries(e,n){let r=Wr();return n.forEach(i=>{let o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():Vn.newInvalidDocument(i))}),F.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let o=Wr(),s=n.path,a=new Z(s.child("__id-9223372036854775808__")),u=this.docs.getIteratorFrom(a);for(;u.hasNext();){let{key:l,value:{document:h}}=u.getNext();if(!s.isPrefixOf(l.path))break;l.path.length>s.length+1||qH(zH(h),r)<=0||(i.has(h.key)||Wf(n,h))&&(o=o.insert(h.key,h.mutableCopy()))}return F.resolve(o)}getAllFromCollectionGroup(e,n,r,i){Y(9500)}Xr(e,n){return F.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new VI(this)}getSize(e){return F.resolve(this.size)}},VI=class extends MI{constructor(e){super(),this.vr=e}applyChanges(e){let n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.vr.addEntry(e,i)):this.vr.removeEntry(r)}),F.waitFor(n)}getFromCache(e,n){return this.vr.getEntry(e,n)}getAllFromCache(e,n){return this.vr.getEntries(e,n)}};var jI=class{constructor(e){this.persistence=e,this.ei=new qr(n=>NE(n),PE),this.lastRemoteSnapshotVersion=ie.min(),this.highestTargetId=0,this.ti=0,this.ni=new Ru,this.targetCount=0,this.ri=Au.rr()}forEachTarget(e,n){return this.ei.forEach((r,i)=>n(i)),F.resolve()}getLastRemoteSnapshotVersion(e){return F.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return F.resolve(this.ti)}allocateTargetId(e){return this.highestTargetId=this.ri.next(),F.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.ti&&(this.ti=n),F.resolve()}ar(e){this.ei.set(e.target,e);let n=e.targetId;n>this.highestTargetId&&(this.ri=new Au(n),this.highestTargetId=n),e.sequenceNumber>this.ti&&(this.ti=e.sequenceNumber)}addTargetData(e,n){return this.ar(n),this.targetCount+=1,F.resolve()}updateTargetData(e,n){return this.ar(n),F.resolve()}removeTargetData(e,n){return this.ei.delete(n.target),this.ni.Ur(n.targetId),this.targetCount-=1,F.resolve()}removeTargets(e,n,r){let i=0,o=[];return this.ei.forEach((s,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.ei.delete(s),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),F.waitFor(o).next(()=>i)}getTargetCount(e){return F.resolve(this.targetCount)}getTargetData(e,n){let r=this.ei.get(n)||null;return F.resolve(r)}addMatchingKeys(e,n,r){return this.ni.qr(n,r),F.resolve()}removeMatchingKeys(e,n,r){this.ni.$r(n,r);let i=this.persistence.referenceDelegate,o=[];return i&&n.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),F.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this.ni.Ur(n),F.resolve()}getMatchingKeysForTargetId(e,n){let r=this.ni.Wr(n);return F.resolve(r)}containsKey(e,n){return F.resolve(this.ni.containsKey(n))}};var bf=class{constructor(e,n){this.ii={},this.overlays={},this.si=new DE(0),this.oi=!1,this.oi=!0,this._i=new OI,this.referenceDelegate=e(this),this.ai=new jI(this),this.indexManager=new DI,this.remoteDocumentCache=function(i){return new LI(i)}(r=>this.referenceDelegate.ui(r)),this.serializer=new bI(n),this.ci=new xI(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.oi=!1,Promise.resolve()}get started(){return this.oi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new kI,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ii[e.toKey()];return r||(r=new FI(n,this.referenceDelegate),this.ii[e.toKey()]=r),r}getGlobalsCache(){return this._i}getTargetCache(){return this.ai}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.ci}runTransaction(e,n,r){B("MemoryPersistence","Starting transaction:",e);let i=new UI(this.si.next());return this.referenceDelegate.li(),r(i).next(o=>this.referenceDelegate.hi(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Pi(e,n){return F.or(Object.values(this.ii).map(r=>()=>r.containsKey(e,n)))}},UI=class extends Y_{constructor(e){super(),this.currentSequenceNumber=e}},BI=class t{constructor(e){this.persistence=e,this.Ti=new Ru,this.Ii=null}static Ei(e){return new t(e)}get di(){if(this.Ii)return this.Ii;throw Y(60996)}addReference(e,n,r){return this.Ti.addReference(r,n),this.di.delete(r.toString()),F.resolve()}removeReference(e,n,r){return this.Ti.removeReference(r,n),this.di.add(r.toString()),F.resolve()}markPotentiallyOrphaned(e,n){return this.di.add(n.toString()),F.resolve()}removeTarget(e,n){this.Ti.Ur(n.targetId).forEach(i=>this.di.add(i.toString()));let r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(o=>this.di.add(o.toString()))}).next(()=>r.removeTargetData(e,n))}li(){this.Ii=new Set}hi(e){let n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return F.forEach(this.di,r=>{let i=Z.fromPath(r);return this.Ai(e,i).next(o=>{o||n.removeEntry(i,ie.min())})}).next(()=>(this.Ii=null,n.apply(e)))}updateLimboDocument(e,n){return this.Ai(e,n).next(r=>{r?this.di.delete(n.toString()):this.di.add(n.toString())})}ui(e){return 0}Ai(e,n){return F.or([()=>F.resolve(this.Ti.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Pi(e,n)])}},Df=class t{constructor(e,n){this.persistence=e,this.Ri=new qr(r=>QH(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=W4(this,n)}static Ei(e,n){return new t(e,n)}li(){}hi(e){return F.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}dr(e){let n=this.Vr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}Vr(e){let n=0;return this.Ar(e,r=>{n++}).next(()=>n)}Ar(e,n){return F.forEach(this.Ri,(r,i)=>this.gr(e,r,i).next(o=>o?F.resolve():n(i)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0,i=this.persistence.getRemoteDocumentCache(),o=i.newChangeBuffer();return i.Xr(e,s=>this.gr(e,s,n).next(a=>{a||(r++,o.removeEntry(s,ie.min()))})).next(()=>o.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.Ri.set(n,e.currentSequenceNumber),F.resolve()}removeTarget(e,n){let r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.Ri.set(r,e.currentSequenceNumber),F.resolve()}removeReference(e,n,r){return this.Ri.set(r,e.currentSequenceNumber),F.resolve()}updateLimboDocument(e,n){return this.Ri.set(n,e.currentSequenceNumber),F.resolve()}ui(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=of(e.data.value)),n}gr(e,n,r){return F.or([()=>this.persistence.Pi(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{let i=this.Ri.get(n);return F.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}};var $I=class t{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.ls=r,this.hs=i}static Ps(e,n){let r=_e(),i=_e();for(let o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new t(e,n.fromCache,r,i)}};var HI=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var zI=class{constructor(){this.Ts=!1,this.Is=!1,this.Es=100,this.ds=function(){return kS()?8:GH(dt())>0?6:4}()}initialize(e,n){this.As=e,this.indexManager=n,this.Ts=!0}getDocumentsMatchingQuery(e,n,r,i){let o={result:null};return this.Rs(e,n).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.Vs(e,n,i,r).next(s=>{o.result=s})}).next(()=>{if(o.result)return;let s=new HI;return this.fs(e,n,s).next(a=>{if(o.result=a,this.Is)return this.gs(e,n,s,a.size)})}).next(()=>o.result)}gs(e,n,r,i){return r.documentReadCount<this.Es?(Ys()<=me.DEBUG&&B("QueryEngine","SDK will not create cache indexes for query:",Zs(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Es,"documents"),F.resolve()):(Ys()<=me.DEBUG&&B("QueryEngine","Query:",Zs(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.ds*i?(Ys()<=me.DEBUG&&B("QueryEngine","The SDK decides to create cache indexes for query:",Zs(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,cr(n))):F.resolve())}Rs(e,n){if(RR(n))return F.resolve(null);let r=cr(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=lI(n,null,"F"),r=cr(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{let s=_e(...o);return this.As.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,r).next(u=>{let l=this.ps(n,a);return this.ys(n,l,s,u.readTime)?this.Rs(e,lI(n,null,"F")):this.ws(e,l,n,u)}))})))}Vs(e,n,r,i){return RR(n)||i.isEqual(ie.min())?F.resolve(null):this.As.getDocuments(e,r).next(o=>{let s=this.ps(n,o);return this.ys(n,s,r,i)?F.resolve(null):(Ys()<=me.DEBUG&&B("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Zs(n)),this.ws(e,s,n,HH(i,wu)).next(a=>a))})}ps(e,n){let r=new pt(FM(e));return n.forEach((i,o)=>{Wf(e,o)&&(r=r.add(o))}),r}ys(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;let o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}fs(e,n,r){return Ys()<=me.DEBUG&&B("QueryEngine","Using full collection scan to execute query:",Zs(n)),this.As.getDocumentsMatchingQuery(e,n,Po.min(),r)}ws(e,n,r,i){return this.As.getDocumentsMatchingQuery(e,r,i).next(o=>(n.forEach(s=>{o=o.insert(s.key,s)}),o))}};var FE="LocalStore",G4=3e8,qI=class{constructor(e,n,r,i){this.persistence=e,this.bs=n,this.serializer=i,this.Ss=new We(he),this.Ds=new qr(o=>NE(o),PE),this.vs=new Map,this.Cs=e.getRemoteDocumentCache(),this.ai=e.getTargetCache(),this.ci=e.getBundleCache(),this.Fs(r)}Fs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new PI(this.Cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Cs.setIndexManager(this.indexManager),this.bs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ss))}};function K4(t,e,n,r){return new qI(t,e,n,r)}function nN(t,e){return _(this,null,function*(){let n=te(t);return yield n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,n.Fs(e),n.mutationQueue.getAllMutationBatches(r))).next(o=>{let s=[],a=[],u=_e();for(let l of i){s.push(l.batchId);for(let h of l.mutations)u=u.add(h.key)}for(let l of o){a.push(l.batchId);for(let h of l.mutations)u=u.add(h.key)}return n.localDocuments.getDocuments(r,u).next(l=>({Ms:l,removedBatchIds:s,addedBatchIds:a}))})})})}function Q4(t,e){let n=te(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{let i=e.batch.keys(),o=n.Cs.newChangeBuffer({trackRemovals:!0});return function(a,u,l,h){let p=l.batch,y=p.keys(),m=F.resolve();return y.forEach(D=>{m=m.next(()=>h.getEntry(u,D)).next(k=>{let x=l.docVersions.get(D);Re(x!==null,48541),k.version.compareTo(x)<0&&(p.applyToRemoteDocument(k,l),k.isValidDocument()&&(k.setReadTime(l.commitVersion),h.addEntry(k)))})}),m.next(()=>a.mutationQueue.removeMutationBatch(u,p))}(n,r,e,o).next(()=>o.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let u=_e();for(let l=0;l<a.mutationResults.length;++l)a.mutationResults[l].transformResults.length>0&&(u=u.add(a.batch.mutations[l].key));return u}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function rN(t){let e=te(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.ai.getLastRemoteSnapshotVersion(n))}function Y4(t,e){let n=te(t),r=e.snapshotVersion,i=n.Ss;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{let s=n.Cs.newChangeBuffer({trackRemovals:!0});i=n.Ss;let a=[];e.targetChanges.forEach((h,p)=>{let y=i.get(p);if(!y)return;a.push(n.ai.removeMatchingKeys(o,h.removedDocuments,p).next(()=>n.ai.addMatchingKeys(o,h.addedDocuments,p)));let m=y.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(p)!==null?m=m.withResumeToken(Mt.EMPTY_BYTE_STRING,ie.min()).withLastLimboFreeSnapshotVersion(ie.min()):h.resumeToken.approximateByteSize()>0&&(m=m.withResumeToken(h.resumeToken,r)),i=i.insert(p,m),function(k,x,U){return k.resumeToken.approximateByteSize()===0||x.snapshotVersion.toMicroseconds()-k.snapshotVersion.toMicroseconds()>=G4?!0:U.addedDocuments.size+U.modifiedDocuments.size+U.removedDocuments.size>0}(y,m,h)&&a.push(n.ai.updateTargetData(o,m))});let u=Wr(),l=_e();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(o,h))}),a.push(Z4(o,s,e.documentUpdates).next(h=>{u=h.xs,l=h.Os})),!r.isEqual(ie.min())){let h=n.ai.getLastRemoteSnapshotVersion(o).next(p=>n.ai.setTargetsMetadata(o,o.currentSequenceNumber,r));a.push(h)}return F.waitFor(a).next(()=>s.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,u,l)).next(()=>u)}).then(o=>(n.Ss=i,o))}function Z4(t,e,n){let r=_e(),i=_e();return n.forEach(o=>r=r.add(o)),e.getEntries(t,r).next(o=>{let s=Wr();return n.forEach((a,u)=>{let l=o.get(a);u.isFoundDocument()!==l.isFoundDocument()&&(i=i.add(a)),u.isNoDocument()&&u.version.isEqual(ie.min())?(e.removeEntry(a,u.readTime),s=s.insert(a,u)):!l.isValidDocument()||u.version.compareTo(l.version)>0||u.version.compareTo(l.version)===0&&l.hasPendingWrites?(e.addEntry(u),s=s.insert(a,u)):B(FE,"Ignoring outdated watch update for ",a,". Current version:",l.version," Watch version:",u.version)}),{xs:s,Os:i}})}function J4(t,e){let n=te(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=TE),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function X4(t,e){let n=te(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.ai.getTargetData(r,e).next(o=>o?(i=o,F.resolve(i)):n.ai.allocateTargetId(r).next(s=>(i=new Su(e,s,"TargetPurposeListen",r.currentSequenceNumber),n.ai.addTargetData(r,i).next(()=>i))))}).then(r=>{let i=n.Ss.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ss=n.Ss.insert(r.targetId,r),n.Ds.set(e,r.targetId)),r})}function WI(t,e,n){return _(this,null,function*(){let r=te(t),i=r.Ss.get(e),o=n?"readwrite":"readwrite-primary";try{n||(yield r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i)))}catch(s){if(!Ia(s))throw s;B(FE,`Failed to update sequence numbers for target ${e}: ${s}`)}r.Ss=r.Ss.remove(e),r.Ds.delete(i.target)})}function $R(t,e,n){let r=te(t),i=ie.min(),o=_e();return r.persistence.runTransaction("Execute query","readwrite",s=>function(u,l,h){let p=te(u),y=p.Ds.get(h);return y!==void 0?F.resolve(p.Ss.get(y)):p.ai.getTargetData(l,h)}(r,s,cr(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.ai.getMatchingKeysForTargetId(s,a.targetId).next(u=>{o=u})}).next(()=>r.bs.getDocumentsMatchingQuery(s,e,n?i:ie.min(),n?o:_e())).next(a=>(e3(r,f4(e),a),{documents:a,Ns:o})))}function e3(t,e,n){let r=t.vs.get(e)||ie.min();n.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),t.vs.set(e,r)}var Tf=class{constructor(){this.activeTargetIds=_4()}$s(e){this.activeTargetIds=this.activeTargetIds.add(e)}Us(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Qs(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}};var GI=class{constructor(){this.So=new Tf,this.Do={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.So.$s(e),this.Do[e]||"not-current"}updateQueryState(e,n,r){this.Do[e]=n}removeLocalQueryTarget(e){this.So.Us(e)}isLocalQueryTarget(e){return this.So.activeTargetIds.has(e)}clearQueryState(e){delete this.Do[e]}getAllActiveQueryTargets(){return this.So.activeTargetIds}isActiveQueryTarget(e){return this.So.activeTargetIds.has(e)}start(){return this.So=new Tf,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var KI=class{vo(e){}shutdown(){}};var HR="ConnectivityMonitor",Sf=class{constructor(){this.Co=()=>this.Fo(),this.Mo=()=>this.xo(),this.Oo=[],this.No()}vo(e){this.Oo.push(e)}shutdown(){window.removeEventListener("online",this.Co),window.removeEventListener("offline",this.Mo)}No(){window.addEventListener("online",this.Co),window.addEventListener("offline",this.Mo)}Fo(){B(HR,"Network connectivity changed: AVAILABLE");for(let e of this.Oo)e(0)}xo(){B(HR,"Network connectivity changed: UNAVAILABLE");for(let e of this.Oo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var rf=null;function QI(){return rf===null?rf=function(){return 268435456+Math.round(2147483648*Math.random())}():rf++,"0x"+rf.toString(16)}var j_="RestConnection",t3={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"},YI=class{get Bo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;let n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Lo=n+"://"+e.host,this.ko=`projects/${r}/databases/${i}`,this.qo=this.databaseId.database===pf?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Qo(e,n,r,i,o){let s=QI(),a=this.$o(e,n.toUriEncodedString());B(j_,`Sending RPC '${e}' ${s}:`,a,r);let u={"google-cloud-resource-prefix":this.ko,"x-goog-request-params":this.qo};return this.Uo(u,i,o),this.Ko(e,a,u,r).then(l=>(B(j_,`Received RPC '${e}' ${s}: `,l),l),l=>{throw ra(j_,`RPC '${e}' ${s} failed with error: `,l,"url: ",a,"request:",r),l})}Wo(e,n,r,i,o,s){return this.Qo(e,n,r,i,o)}Uo(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+va}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,o)=>e[o]=i),r&&r.headers.forEach((i,o)=>e[o]=i)}$o(e,n){let r=t3[e];return`${this.Lo}/v1/${n}:${r}`}terminate(){}};var ZI=class{constructor(e){this.Go=e.Go,this.zo=e.zo}jo(e){this.Ho=e}Jo(e){this.Yo=e}Zo(e){this.Xo=e}onMessage(e){this.e_=e}close(){this.zo()}send(e){this.Go(e)}t_(){this.Ho()}n_(){this.Yo()}r_(e){this.Xo(e)}i_(e){this.e_(e)}};var Rt="WebChannelConnection",JI=class extends YI{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ko(e,n,r,i){let o=QI();return new Promise((s,a)=>{let u=new x_;u.setWithCredentials(!0),u.listenOnce(k_.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case gu.NO_ERROR:let h=u.getResponseJson();B(Rt,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(h)),s(h);break;case gu.TIMEOUT:B(Rt,`RPC '${e}' ${o} timed out`),a(new W(L.DEADLINE_EXCEEDED,"Request time out"));break;case gu.HTTP_ERROR:let p=u.getStatus();if(B(Rt,`RPC '${e}' ${o} failed with status:`,p,"response text:",u.getResponseText()),p>0){let y=u.getResponseJson();Array.isArray(y)&&(y=y[0]);let m=y?.error;if(m&&m.status&&m.message){let D=function(x){let U=x.toLowerCase().replace(/_/g,"-");return Object.values(L).indexOf(U)>=0?U:L.UNKNOWN}(m.status);a(new W(D,m.message))}else a(new W(L.UNKNOWN,"Server responded with status "+u.getStatus()))}else a(new W(L.UNAVAILABLE,"Connection failed."));break;default:Y(9055,{s_:e,streamId:o,o_:u.getLastErrorCode(),__:u.getLastError()})}}finally{B(Rt,`RPC '${e}' ${o} completed.`)}});let l=JSON.stringify(i);B(Rt,`RPC '${e}' ${o} sending request:`,i),u.send(n,"POST",l,r,15)})}a_(e,n,r){let i=QI(),o=[this.Lo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=L_(),a=F_(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;l!==void 0&&(u.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(u.useFetchStreams=!0),this.Uo(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;let h=o.join("");B(Rt,`Creating RPC '${e}' stream ${i}: ${h}`,u);let p=s.createWebChannel(h,u),y=!1,m=!1,D=new ZI({Go:x=>{m?B(Rt,`Not sending because RPC '${e}' stream ${i} is closed:`,x):(y||(B(Rt,`Opening RPC '${e}' stream ${i} transport.`),p.open(),y=!0),B(Rt,`RPC '${e}' stream ${i} sending:`,x),p.send(x))},zo:()=>p.close()}),k=(x,U,K)=>{x.listen(U,J=>{try{K(J)}catch(Me){setTimeout(()=>{throw Me},0)}})};return k(p,Qs.EventType.OPEN,()=>{m||(B(Rt,`RPC '${e}' stream ${i} transport opened.`),D.t_())}),k(p,Qs.EventType.CLOSE,()=>{m||(m=!0,B(Rt,`RPC '${e}' stream ${i} transport closed`),D.r_())}),k(p,Qs.EventType.ERROR,x=>{m||(m=!0,ra(Rt,`RPC '${e}' stream ${i} transport errored. Name:`,x.name,"Message:",x.message),D.r_(new W(L.UNAVAILABLE,"The operation could not be completed")))}),k(p,Qs.EventType.MESSAGE,x=>{var U;if(!m){let K=x.data[0];Re(!!K,16349);let J=K,Me=J?.error||((U=J[0])===null||U===void 0?void 0:U.error);if(Me){B(Rt,`RPC '${e}' stream ${i} received error:`,Me);let ut=Me.status,Ne=function(C){let b=Xe[C];if(b!==void 0)return GM(b)}(ut),T=Me.message;Ne===void 0&&(Ne=L.INTERNAL,T="Unknown error status: "+ut+" with message "+Me.message),m=!0,D.r_(new W(Ne,T)),p.close()}else B(Rt,`RPC '${e}' stream ${i} received:`,K),D.i_(K)}}),k(a,O_.STAT_EVENT,x=>{x.stat===ef.PROXY?B(Rt,`RPC '${e}' stream ${i} detected buffering proxy`):x.stat===ef.NOPROXY&&B(Rt,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{D.n_()},0),D}};function U_(){return typeof document<"u"?document:null}function Gf(t){return new _I(t,!0)}var Af=class{constructor(e,n,r=1e3,i=1.5,o=6e4){this.bi=e,this.timerId=n,this.u_=r,this.c_=i,this.l_=o,this.h_=0,this.P_=null,this.T_=Date.now(),this.reset()}reset(){this.h_=0}I_(){this.h_=this.l_}E_(e){this.cancel();let n=Math.floor(this.h_+this.d_()),r=Math.max(0,Date.now()-this.T_),i=Math.max(0,n-r);i>0&&B("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.h_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.P_=this.bi.enqueueAfterDelay(this.timerId,i,()=>(this.T_=Date.now(),e())),this.h_*=this.c_,this.h_<this.u_&&(this.h_=this.u_),this.h_>this.l_&&(this.h_=this.l_)}A_(){this.P_!==null&&(this.P_.skipDelay(),this.P_=null)}cancel(){this.P_!==null&&(this.P_.cancel(),this.P_=null)}d_(){return(Math.random()-.5)*this.h_}};var zR="PersistentStream",Rf=class{constructor(e,n,r,i,o,s,a,u){this.bi=e,this.R_=r,this.V_=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=u,this.state=0,this.m_=0,this.f_=null,this.g_=null,this.stream=null,this.p_=0,this.y_=new Af(e,n)}w_(){return this.state===1||this.state===5||this.b_()}b_(){return this.state===2||this.state===3}start(){this.p_=0,this.state!==4?this.auth():this.S_()}stop(){return _(this,null,function*(){this.w_()&&(yield this.close(0))})}D_(){this.state=0,this.y_.reset()}v_(){this.b_()&&this.f_===null&&(this.f_=this.bi.enqueueAfterDelay(this.R_,6e4,()=>this.C_()))}F_(e){this.M_(),this.stream.send(e)}C_(){return _(this,null,function*(){if(this.b_())return this.close(0)})}M_(){this.f_&&(this.f_.cancel(),this.f_=null)}x_(){this.g_&&(this.g_.cancel(),this.g_=null)}close(e,n){return _(this,null,function*(){this.M_(),this.x_(),this.y_.cancel(),this.m_++,e!==4?this.y_.reset():n&&n.code===L.RESOURCE_EXHAUSTED?($r(n.toString()),$r("Using maximum backoff delay to prevent overloading the backend."),this.y_.I_()):n&&n.code===L.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.O_(),this.stream.close(),this.stream=null),this.state=e,yield this.listener.Zo(n)})}O_(){}auth(){this.state=1;let e=this.N_(this.m_),n=this.m_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.m_===n&&this.B_(r,i)},r=>{e(()=>{let i=new W(L.UNKNOWN,"Fetching auth token failed: "+r.message);return this.L_(i)})})}B_(e,n){let r=this.N_(this.m_);this.stream=this.k_(e,n),this.stream.jo(()=>{r(()=>this.listener.jo())}),this.stream.Jo(()=>{r(()=>(this.state=2,this.g_=this.bi.enqueueAfterDelay(this.V_,1e4,()=>(this.b_()&&(this.state=3),Promise.resolve())),this.listener.Jo()))}),this.stream.Zo(i=>{r(()=>this.L_(i))}),this.stream.onMessage(i=>{r(()=>++this.p_==1?this.q_(i):this.onNext(i))})}S_(){this.state=5,this.y_.E_(()=>_(this,null,function*(){this.state=0,this.start()}))}L_(e){return B(zR,`close with error: ${e}`),this.stream=null,this.close(4,e)}N_(e){return n=>{this.bi.enqueueAndForget(()=>this.m_===e?n():(B(zR,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},XI=class extends Rf{constructor(e,n,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}k_(e,n){return this.connection.a_("Listen",e,n)}q_(e){return this.onNext(e)}onNext(e){this.y_.reset();let n=x4(this.serializer,e),r=function(o){if(!("targetChange"in o))return ie.min();let s=o.targetChange;return s.targetIds&&s.targetIds.length?ie.min():s.readTime?ur(s.readTime):ie.min()}(e);return this.listener.Q_(n,r)}U_(e){let n={};n.database=CI(this.serializer),n.addTarget=function(o,s){let a,u=s.target;if(a=uI(u)?{documents:F4(o,u)}:{query:L4(o,u).gt},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=KM(o,s.resumeToken);let l=II(o,s.expectedCount);l!==null&&(a.expectedCount=l)}else if(s.snapshotVersion.compareTo(ie.min())>0){a.readTime=wf(o,s.snapshotVersion.toTimestamp());let l=II(o,s.expectedCount);l!==null&&(a.expectedCount=l)}return a}(this.serializer,e);let r=j4(this.serializer,e);r&&(n.labels=r),this.F_(n)}K_(e){let n={};n.database=CI(this.serializer),n.removeTarget=e,this.F_(n)}},eE=class extends Rf{constructor(e,n,r,i,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}get W_(){return this.p_>0}start(){this.lastStreamToken=void 0,super.start()}O_(){this.W_&&this.G_([])}k_(e,n){return this.connection.a_("Write",e,n)}q_(e){return Re(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Re(!e.writeResults||e.writeResults.length===0,55816),this.listener.z_()}onNext(e){Re(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.y_.reset();let n=O4(e.writeResults,e.commitTime),r=ur(e.commitTime);return this.listener.j_(r,n)}H_(){let e={};e.database=CI(this.serializer),this.F_(e)}G_(e){let n={streamToken:this.lastStreamToken,writes:e.map(r=>k4(this.serializer,r))};this.F_(n)}};var tE=class{},nE=class extends tE{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.J_=!1}Y_(){if(this.J_)throw new W(L.FAILED_PRECONDITION,"The client has already been terminated.")}Qo(e,n,r,i){return this.Y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Qo(e,EI(n,r),i,o,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===L.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new W(L.UNKNOWN,o.toString())})}Wo(e,n,r,i,o){return this.Y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.Wo(e,EI(n,r),i,s,a,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===L.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new W(L.UNKNOWN,s.toString())})}terminate(){this.J_=!0,this.connection.terminate()}},rE=class{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.Z_=0,this.X_=null,this.ea=!0}ta(){this.Z_===0&&(this.na("Unknown"),this.X_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.X_=null,this.ra("Backend didn't respond within 10 seconds."),this.na("Offline"),Promise.resolve())))}ia(e){this.state==="Online"?this.na("Unknown"):(this.Z_++,this.Z_>=1&&(this.sa(),this.ra(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.na("Offline")))}set(e){this.sa(),this.Z_=0,e==="Online"&&(this.ea=!1),this.na(e)}na(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ra(e){let n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ea?($r(n),this.ea=!1):B("OnlineStateTracker",n)}sa(){this.X_!==null&&(this.X_.cancel(),this.X_=null)}};var Fo="RemoteStore",iE=class{constructor(e,n,r,i,o){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.oa=[],this._a=new Map,this.aa=new Set,this.ua=[],this.ca=o,this.ca.vo(s=>{r.enqueueAndForget(()=>_(this,null,function*(){Vo(this)&&(B(Fo,"Restarting streams for network reachability change."),yield function(u){return _(this,null,function*(){let l=te(u);l.aa.add(4),yield ku(l),l.la.set("Unknown"),l.aa.delete(4),yield Kf(l)})}(this))}))}),this.la=new rE(r,i)}};function Kf(t){return _(this,null,function*(){if(Vo(t))for(let e of t.ua)yield e(!0)})}function ku(t){return _(this,null,function*(){for(let e of t.ua)yield e(!1)})}function iN(t,e){let n=te(t);n._a.has(e.targetId)||(n._a.set(e.targetId,e),UE(n)?jE(n):Ea(n).b_()&&VE(n,e))}function LE(t,e){let n=te(t),r=Ea(n);n._a.delete(e),r.b_()&&oN(n,e),n._a.size===0&&(r.b_()?r.v_():Vo(n)&&n.la.set("Unknown"))}function VE(t,e){if(t.ha.Ke(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ie.min())>0){let n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Ea(t).U_(e)}function oN(t,e){t.ha.Ke(e),Ea(t).K_(e)}function jE(t){t.ha=new vI({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),Rt:e=>t._a.get(e)||null,Pt:()=>t.datastore.serializer.databaseId}),Ea(t).start(),t.la.ta()}function UE(t){return Vo(t)&&!Ea(t).w_()&&t._a.size>0}function Vo(t){return te(t).aa.size===0}function sN(t){t.ha=void 0}function n3(t){return _(this,null,function*(){t.la.set("Online")})}function r3(t){return _(this,null,function*(){t._a.forEach((e,n)=>{VE(t,e)})})}function i3(t,e){return _(this,null,function*(){sN(t),UE(t)?(t.la.ia(e),jE(t)):t.la.set("Unknown")})}function o3(t,e,n){return _(this,null,function*(){if(t.la.set("Online"),e instanceof If&&e.state===2&&e.cause)try{yield function(i,o){return _(this,null,function*(){let s=o.cause;for(let a of o.targetIds)i._a.has(a)&&(yield i.remoteSyncer.rejectListen(a,s),i._a.delete(a),i.ha.removeTarget(a))})}(t,e)}catch(r){B(Fo,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield Mf(t,r)}else if(e instanceof ta?t.ha.Xe(e):e instanceof _f?t.ha.ot(e):t.ha.nt(e),!n.isEqual(ie.min()))try{let r=yield rN(t.localStore);n.compareTo(r)>=0&&(yield function(o,s){let a=o.ha.It(s);return a.targetChanges.forEach((u,l)=>{if(u.resumeToken.approximateByteSize()>0){let h=o._a.get(l);h&&o._a.set(l,h.withResumeToken(u.resumeToken,s))}}),a.targetMismatches.forEach((u,l)=>{let h=o._a.get(u);if(!h)return;o._a.set(u,h.withResumeToken(Mt.EMPTY_BYTE_STRING,h.snapshotVersion)),oN(o,u);let p=new Su(h.target,u,l,h.sequenceNumber);VE(o,p)}),o.remoteSyncer.applyRemoteEvent(a)}(t,n))}catch(r){B(Fo,"Failed to raise snapshot:",r),yield Mf(t,r)}})}function Mf(t,e,n){return _(this,null,function*(){if(!Ia(e))throw e;t.aa.add(1),yield ku(t),t.la.set("Offline"),n||(n=()=>rN(t.localStore)),t.asyncQueue.enqueueRetryable(()=>_(this,null,function*(){B(Fo,"Retrying IndexedDB access"),yield n(),t.aa.delete(1),yield Kf(t)}))})}function aN(t,e){return e().catch(n=>Mf(t,n,e))}function Qf(t){return _(this,null,function*(){let e=te(t),n=Mi(e),r=e.oa.length>0?e.oa[e.oa.length-1].batchId:TE;for(;s3(e);)try{let i=yield J4(e.localStore,r);if(i===null){e.oa.length===0&&n.v_();break}r=i.batchId,a3(e,i)}catch(i){yield Mf(e,i)}cN(e)&&uN(e)})}function s3(t){return Vo(t)&&t.oa.length<10}function a3(t,e){t.oa.push(e);let n=Mi(t);n.b_()&&n.W_&&n.G_(e.mutations)}function cN(t){return Vo(t)&&!Mi(t).w_()&&t.oa.length>0}function uN(t){Mi(t).start()}function c3(t){return _(this,null,function*(){Mi(t).H_()})}function u3(t){return _(this,null,function*(){let e=Mi(t);for(let n of t.oa)e.G_(n.mutations)})}function l3(t,e,n){return _(this,null,function*(){let r=t.oa.shift(),i=pI.from(r,e,n);yield aN(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),yield Qf(t)})}function d3(t,e){return _(this,null,function*(){e&&Mi(t).W_&&(yield function(r,i){return _(this,null,function*(){if(function(s){return T4(s)&&s!==L.ABORTED}(i.code)){let o=r.oa.shift();Mi(r).D_(),yield aN(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),yield Qf(r)}})}(t,e)),cN(t)&&uN(t)})}function qR(t,e){return _(this,null,function*(){let n=te(t);n.asyncQueue.verifyOperationInProgress(),B(Fo,"RemoteStore received new credentials");let r=Vo(n);n.aa.add(3),yield ku(n),r&&n.la.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.aa.delete(3),yield Kf(n)})}function h3(t,e){return _(this,null,function*(){let n=te(t);e?(n.aa.delete(2),yield Kf(n)):e||(n.aa.add(2),yield ku(n),n.la.set("Unknown"))})}function Ea(t){return t.Pa||(t.Pa=function(n,r,i){let o=te(n);return o.Y_(),new XI(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{jo:n3.bind(null,t),Jo:r3.bind(null,t),Zo:i3.bind(null,t),Q_:o3.bind(null,t)}),t.ua.push(e=>_(this,null,function*(){e?(t.Pa.D_(),UE(t)?jE(t):t.la.set("Unknown")):(yield t.Pa.stop(),sN(t))}))),t.Pa}function Mi(t){return t.Ta||(t.Ta=function(n,r,i){let o=te(n);return o.Y_(),new eE(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{jo:()=>Promise.resolve(),Jo:c3.bind(null,t),Zo:d3.bind(null,t),z_:u3.bind(null,t),j_:l3.bind(null,t)}),t.ua.push(e=>_(this,null,function*(){e?(t.Ta.D_(),yield Qf(t)):(yield t.Ta.stop(),t.oa.length>0&&(B(Fo,`Stopping write stream with ${t.oa.length} pending writes`),t.oa=[]))}))),t.Ta}var oE=class t{constructor(e,n,r,i,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new Br,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,o){let s=Date.now()+r,a=new t(e,n,s,i,o);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new W(L.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function BE(t,e){if($r("AsyncQueue",`${e}: ${t}`),Ia(t))return new W(L.UNAVAILABLE,`${e}: ${t}`);throw t}var Nf=class t{static emptySet(e){return new t(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||Z.comparator(n.key,r.key):(n,r)=>Z.comparator(n.key,r.key),this.keyedMap=mu(),this.sortedSet=new We(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){let n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){let n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){let i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){let e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){let r=new t;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}};var Pf=class{constructor(){this.Ia=new We(Z.comparator)}track(e){let n=e.doc.key,r=this.Ia.get(n);r?e.type!==0&&r.type===3?this.Ia=this.Ia.insert(n,e):e.type===3&&r.type!==1?this.Ia=this.Ia.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.Ia=this.Ia.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.Ia=this.Ia.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.Ia=this.Ia.remove(n):e.type===1&&r.type===2?this.Ia=this.Ia.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.Ia=this.Ia.insert(n,{type:2,doc:e.doc}):Y(63341,{Vt:e,Ea:r}):this.Ia=this.Ia.insert(n,e)}da(){let e=[];return this.Ia.inorderTraversal((n,r)=>{e.push(r)}),e}},ga=class t{constructor(e,n,r,i,o,s,a,u,l){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=u,this.hasCachedResults=l}static fromInitialDocuments(e,n,r,i,o){let s=[];return n.forEach(a=>{s.push({type:0,doc:a})}),new t(e,n,Nf.emptySet(n),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&qf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}};var sE=class{constructor(){this.Aa=void 0,this.Ra=[]}Va(){return this.Ra.some(e=>e.ma())}},aE=class{constructor(){this.queries=WR(),this.onlineState="Unknown",this.fa=new Set}terminate(){(function(n,r){let i=te(n),o=i.queries;i.queries=WR(),o.forEach((s,a)=>{for(let u of a.Ra)u.onError(r)})})(this,new W(L.ABORTED,"Firestore shutting down"))}};function WR(){return new qr(t=>OM(t),qf)}function f3(t,e){return _(this,null,function*(){let n=te(t),r=3,i=e.query,o=n.queries.get(i);o?!o.Va()&&e.ma()&&(r=2):(o=new sE,r=e.ma()?0:1);try{switch(r){case 0:o.Aa=yield n.onListen(i,!0);break;case 1:o.Aa=yield n.onListen(i,!1);break;case 2:yield n.onFirstRemoteStoreListen(i)}}catch(s){let a=BE(s,`Initialization of query '${Zs(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,o),o.Ra.push(e),e.ga(n.onlineState),o.Aa&&e.pa(o.Aa)&&$E(n)})}function p3(t,e){return _(this,null,function*(){let n=te(t),r=e.query,i=3,o=n.queries.get(r);if(o){let s=o.Ra.indexOf(e);s>=0&&(o.Ra.splice(s,1),o.Ra.length===0?i=e.ma()?0:1:!o.Va()&&e.ma()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}})}function g3(t,e){let n=te(t),r=!1;for(let i of e){let o=i.query,s=n.queries.get(o);if(s){for(let a of s.Ra)a.pa(i)&&(r=!0);s.Aa=i}}r&&$E(n)}function m3(t,e,n){let r=te(t),i=r.queries.get(e);if(i)for(let o of i.Ra)o.onError(n);r.queries.delete(e)}function $E(t){t.fa.forEach(e=>{e.next()})}var cE,GR;(GR=cE||(cE={})).ya="default",GR.Cache="cache";var uE=class{constructor(e,n,r){this.query=e,this.wa=n,this.ba=!1,this.Sa=null,this.onlineState="Unknown",this.options=r||{}}pa(e){if(!this.options.includeMetadataChanges){let r=[];for(let i of e.docChanges)i.type!==3&&r.push(i);e=new ga(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.ba?this.Da(e)&&(this.wa.next(e),n=!0):this.va(e,this.onlineState)&&(this.Ca(e),n=!0),this.Sa=e,n}onError(e){this.wa.error(e)}ga(e){this.onlineState=e;let n=!1;return this.Sa&&!this.ba&&this.va(this.Sa,e)&&(this.Ca(this.Sa),n=!0),n}va(e,n){if(!e.fromCache||!this.ma())return!0;let r=n!=="Offline";return(!this.options.Fa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Da(e){if(e.docChanges.length>0)return!0;let n=this.Sa&&this.Sa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Ca(e){e=ga.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ba=!0,this.wa.next(e)}ma(){return this.options.source!==cE.Cache}};var xf=class{constructor(e){this.key=e}},kf=class{constructor(e){this.key=e}},lE=class{constructor(e,n){this.query=e,this.qa=n,this.Qa=null,this.hasCachedResults=!1,this.current=!1,this.$a=_e(),this.mutatedKeys=_e(),this.Ua=FM(e),this.Ka=new Nf(this.Ua)}get Wa(){return this.qa}Ga(e,n){let r=n?n.za:new Pf,i=n?n.Ka:this.Ka,o=n?n.mutatedKeys:this.mutatedKeys,s=i,a=!1,u=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,l=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((h,p)=>{let y=i.get(h),m=Wf(this.query,p)?p:null,D=!!y&&this.mutatedKeys.has(y.key),k=!!m&&(m.hasLocalMutations||this.mutatedKeys.has(m.key)&&m.hasCommittedMutations),x=!1;y&&m?y.data.isEqual(m.data)?D!==k&&(r.track({type:3,doc:m}),x=!0):this.ja(y,m)||(r.track({type:2,doc:m}),x=!0,(u&&this.Ua(m,u)>0||l&&this.Ua(m,l)<0)&&(a=!0)):!y&&m?(r.track({type:0,doc:m}),x=!0):y&&!m&&(r.track({type:1,doc:y}),x=!0,(u||l)&&(a=!0)),x&&(m?(s=s.add(m),o=k?o.add(h):o.delete(h)):(s=s.delete(h),o=o.delete(h)))}),this.query.limit!==null)for(;s.size>this.query.limit;){let h=this.query.limitType==="F"?s.last():s.first();s=s.delete(h.key),o=o.delete(h.key),r.track({type:1,doc:h})}return{Ka:s,za:r,ys:a,mutatedKeys:o}}ja(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){let o=this.Ka;this.Ka=e.Ka,this.mutatedKeys=e.mutatedKeys;let s=e.za.da();s.sort((h,p)=>function(m,D){let k=x=>{switch(x){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Y(20277,{Vt:x})}};return k(m)-k(D)}(h.type,p.type)||this.Ua(h.doc,p.doc)),this.Ha(r),i=i!=null&&i;let a=n&&!i?this.Ja():[],u=this.$a.size===0&&this.current&&!i?1:0,l=u!==this.Qa;return this.Qa=u,s.length!==0||l?{snapshot:new ga(this.query,e.Ka,o,s,e.mutatedKeys,u===0,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),Ya:a}:{Ya:a}}ga(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ka:this.Ka,za:new Pf,mutatedKeys:this.mutatedKeys,ys:!1},!1)):{Ya:[]}}Za(e){return!this.qa.has(e)&&!!this.Ka.has(e)&&!this.Ka.get(e).hasLocalMutations}Ha(e){e&&(e.addedDocuments.forEach(n=>this.qa=this.qa.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.qa=this.qa.delete(n)),this.current=e.current)}Ja(){if(!this.current)return[];let e=this.$a;this.$a=_e(),this.Ka.forEach(r=>{this.Za(r.key)&&(this.$a=this.$a.add(r.key))});let n=[];return e.forEach(r=>{this.$a.has(r)||n.push(new kf(r))}),this.$a.forEach(r=>{e.has(r)||n.push(new xf(r))}),n}Xa(e){this.qa=e.Ns,this.$a=_e();let n=this.Ga(e.documents);return this.applyChanges(n,!0)}eu(){return ga.fromInitialDocuments(this.query,this.Ka,this.mutatedKeys,this.Qa===0,this.hasCachedResults)}},HE="SyncEngine",dE=class{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}},hE=class{constructor(e){this.key=e,this.tu=!1}},fE=class{constructor(e,n,r,i,o,s){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.nu={},this.ru=new qr(a=>OM(a),qf),this.iu=new Map,this.su=new Set,this.ou=new We(Z.comparator),this._u=new Map,this.au=new Ru,this.uu={},this.cu=new Map,this.lu=Au.ir(),this.onlineState="Unknown",this.hu=void 0}get isPrimaryClient(){return this.hu===!0}};function y3(t,e,n=!0){return _(this,null,function*(){let r=gN(t),i,o=r.ru.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.eu()):i=yield lN(r,e,n,!0),i})}function v3(t,e){return _(this,null,function*(){let n=gN(t);yield lN(n,e,!0,!1)})}function lN(t,e,n,r){return _(this,null,function*(){let i=yield X4(t.localStore,cr(e)),o=i.targetId,s=t.sharedClientState.addLocalQueryTarget(o,n),a;return r&&(a=yield _3(t,e,o,s==="current",i.resumeToken)),t.isPrimaryClient&&n&&iN(t.remoteStore,i),a})}function _3(t,e,n,r,i){return _(this,null,function*(){t.Pu=(p,y,m)=>function(k,x,U,K){return _(this,null,function*(){let J=x.view.Ga(U);J.ys&&(J=yield $R(k.localStore,x.query,!1).then(({documents:T})=>x.view.Ga(T,J)));let Me=K&&K.targetChanges.get(x.targetId),ut=K&&K.targetMismatches.get(x.targetId)!=null,Ne=x.view.applyChanges(J,k.isPrimaryClient,Me,ut);return QR(k,x.targetId,Ne.Ya),Ne.snapshot})}(t,p,y,m);let o=yield $R(t.localStore,e,!0),s=new lE(e,o.Ns),a=s.Ga(o.documents),u=Tu.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),l=s.applyChanges(a,t.isPrimaryClient,u);QR(t,n,l.Ya);let h=new dE(e,n,s);return t.ru.set(e,h),t.iu.has(n)?t.iu.get(n).push(e):t.iu.set(n,[e]),l.snapshot})}function I3(t,e,n){return _(this,null,function*(){let r=te(t),i=r.ru.get(e),o=r.iu.get(i.targetId);if(o.length>1)return r.iu.set(i.targetId,o.filter(s=>!qf(s,e))),void r.ru.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||(yield WI(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&LE(r.remoteStore,i.targetId),pE(r,i.targetId)}).catch(_a))):(pE(r,i.targetId),yield WI(r.localStore,i.targetId,!0))})}function E3(t,e){return _(this,null,function*(){let n=te(t),r=n.ru.get(e),i=n.iu.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),LE(n.remoteStore,r.targetId))})}function w3(t,e,n){return _(this,null,function*(){let r=R3(t);try{let i=yield function(s,a){let u=te(s),l=Ct.now(),h=a.reduce((m,D)=>m.add(D.key),_e()),p,y;return u.persistence.runTransaction("Locally write mutations","readwrite",m=>{let D=Wr(),k=_e();return u.Cs.getEntries(m,h).next(x=>{D=x,D.forEach((U,K)=>{K.isValidDocument()||(k=k.add(U))})}).next(()=>u.localDocuments.getOverlayedDocuments(m,D)).next(x=>{p=x;let U=[];for(let K of a){let J=D4(K,p.get(K.key).overlayedDocument);J!=null&&U.push(new Gr(K.key,J,RM(J.value.mapValue),Mo.exists(!0)))}return u.mutationQueue.addMutationBatch(m,l,U,a)}).next(x=>{y=x;let U=x.applyToLocalDocumentSet(p,k);return u.documentOverlayCache.saveOverlays(m,x.batchId,U)})}).then(()=>({batchId:y.batchId,changes:VM(p)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,a,u){let l=s.uu[s.currentUser.toKey()];l||(l=new We(he)),l=l.insert(a,u),s.uu[s.currentUser.toKey()]=l}(r,i.batchId,n),yield Ou(r,i.changes),yield Qf(r.remoteStore)}catch(i){let o=BE(i,"Failed to persist write");n.reject(o)}})}function dN(t,e){return _(this,null,function*(){let n=te(t);try{let r=yield Y4(n.localStore,e);e.targetChanges.forEach((i,o)=>{let s=n._u.get(o);s&&(Re(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?s.tu=!0:i.modifiedDocuments.size>0?Re(s.tu,14607):i.removedDocuments.size>0&&(Re(s.tu,42227),s.tu=!1))}),yield Ou(n,r,e)}catch(r){yield _a(r)}})}function KR(t,e,n){let r=te(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){let i=[];r.ru.forEach((o,s)=>{let a=s.view.ga(e);a.snapshot&&i.push(a.snapshot)}),function(s,a){let u=te(s);u.onlineState=a;let l=!1;u.queries.forEach((h,p)=>{for(let y of p.Ra)y.ga(a)&&(l=!0)}),l&&$E(u)}(r.eventManager,e),i.length&&r.nu.Q_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function C3(t,e,n){return _(this,null,function*(){let r=te(t);r.sharedClientState.updateQueryState(e,"rejected",n);let i=r._u.get(e),o=i&&i.key;if(o){let s=new We(Z.comparator);s=s.insert(o,Vn.newNoDocument(o,ie.min()));let a=_e().add(o),u=new vf(ie.min(),new Map,new We(he),s,a);yield dN(r,u),r.ou=r.ou.remove(o),r._u.delete(e),zE(r)}else yield WI(r.localStore,e,!1).then(()=>pE(r,e,n)).catch(_a)})}function b3(t,e){return _(this,null,function*(){let n=te(t),r=e.batch.batchId;try{let i=yield Q4(n.localStore,e);fN(n,r,null),hN(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),yield Ou(n,i)}catch(i){yield _a(i)}})}function D3(t,e,n){return _(this,null,function*(){let r=te(t);try{let i=yield function(s,a){let u=te(s);return u.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let h;return u.mutationQueue.lookupMutationBatch(l,a).next(p=>(Re(p!==null,37113),h=p.keys(),u.mutationQueue.removeMutationBatch(l,p))).next(()=>u.mutationQueue.performConsistencyCheck(l)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(l,h,a)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,h)).next(()=>u.localDocuments.getDocuments(l,h))})}(r.localStore,e);fN(r,e,n),hN(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),yield Ou(r,i)}catch(i){yield _a(i)}})}function hN(t,e){(t.cu.get(e)||[]).forEach(n=>{n.resolve()}),t.cu.delete(e)}function fN(t,e,n){let r=te(t),i=r.uu[r.currentUser.toKey()];if(i){let o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.uu[r.currentUser.toKey()]=i}}function pE(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(let r of t.iu.get(e))t.ru.delete(r),n&&t.nu.Tu(r,n);t.iu.delete(e),t.isPrimaryClient&&t.au.Ur(e).forEach(r=>{t.au.containsKey(r)||pN(t,r)})}function pN(t,e){t.su.delete(e.path.canonicalString());let n=t.ou.get(e);n!==null&&(LE(t.remoteStore,n),t.ou=t.ou.remove(e),t._u.delete(n),zE(t))}function QR(t,e,n){for(let r of n)r instanceof xf?(t.au.addReference(r.key,e),T3(t,r)):r instanceof kf?(B(HE,"Document no longer in limbo: "+r.key),t.au.removeReference(r.key,e),t.au.containsKey(r.key)||pN(t,r.key)):Y(19791,{Iu:r})}function T3(t,e){let n=e.key,r=n.path.canonicalString();t.ou.get(n)||t.su.has(r)||(B(HE,"New document in limbo: "+n),t.su.add(r),zE(t))}function zE(t){for(;t.su.size>0&&t.ou.size<t.maxConcurrentLimboResolutions;){let e=t.su.values().next().value;t.su.delete(e);let n=new Z(qe.fromString(e)),r=t.lu.next();t._u.set(r,new hE(n)),t.ou=t.ou.insert(n,r),iN(t.remoteStore,new Su(cr(xE(n.path)),r,"TargetPurposeLimboResolution",DE.le))}}function Ou(t,e,n){return _(this,null,function*(){let r=te(t),i=[],o=[],s=[];r.ru.isEmpty()||(r.ru.forEach((a,u)=>{s.push(r.Pu(u,e,n).then(l=>{var h;if((l||n)&&r.isPrimaryClient){let p=l?!l.fromCache:(h=n?.targetChanges.get(u.targetId))===null||h===void 0?void 0:h.current;r.sharedClientState.updateQueryState(u.targetId,p?"current":"not-current")}if(l){i.push(l);let p=$I.Ps(u.targetId,l);o.push(p)}}))}),yield Promise.all(s),r.nu.Q_(i),yield function(u,l){return _(this,null,function*(){let h=te(u);try{yield h.persistence.runTransaction("notifyLocalViewChanges","readwrite",p=>F.forEach(l,y=>F.forEach(y.ls,m=>h.persistence.referenceDelegate.addReference(p,y.targetId,m)).next(()=>F.forEach(y.hs,m=>h.persistence.referenceDelegate.removeReference(p,y.targetId,m)))))}catch(p){if(!Ia(p))throw p;B(FE,"Failed to update sequence numbers: "+p)}for(let p of l){let y=p.targetId;if(!p.fromCache){let m=h.Ss.get(y),D=m.snapshotVersion,k=m.withLastLimboFreeSnapshotVersion(D);h.Ss=h.Ss.insert(y,k)}}})}(r.localStore,o))})}function S3(t,e){return _(this,null,function*(){let n=te(t);if(!n.currentUser.isEqual(e)){B(HE,"User change. New user:",e.toKey());let r=yield nN(n.localStore,e);n.currentUser=e,function(o,s){o.cu.forEach(a=>{a.forEach(u=>{u.reject(new W(L.CANCELLED,s))})}),o.cu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield Ou(n,r.Ms)}})}function A3(t,e){let n=te(t),r=n._u.get(e);if(r&&r.tu)return _e().add(r.key);{let i=_e(),o=n.iu.get(e);if(!o)return i;for(let s of o){let a=n.ru.get(s);i=i.unionWith(a.view.Wa)}return i}}function gN(t){let e=te(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=dN.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=A3.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=C3.bind(null,e),e.nu.Q_=g3.bind(null,e.eventManager),e.nu.Tu=m3.bind(null,e.eventManager),e}function R3(t){let e=te(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=b3.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=D3.bind(null,e),e}var mN=(()=>{class t{constructor(){this.kind="memory",this.synchronizeTabs=!1}initialize(n){return _(this,null,function*(){this.serializer=Gf(n.databaseInfo.databaseId),this.sharedClientState=this.Au(n),this.persistence=this.Ru(n),yield this.persistence.start(),this.localStore=this.Vu(n),this.gcScheduler=this.mu(n,this.localStore),this.indexBackfillerScheduler=this.fu(n,this.localStore)})}mu(n,r){return null}fu(n,r){return null}Vu(n){return K4(this.persistence,new zI,n.initialUser,this.serializer)}Ru(n){return new bf(BI.Ei,this.serializer)}Au(n){return new GI}terminate(){return _(this,null,function*(){var n,r;(n=this.gcScheduler)===null||n===void 0||n.stop(),(r=this.indexBackfillerScheduler)===null||r===void 0||r.stop(),this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}}return t.provider={build:()=>new t},t})(),gE=class extends mN{constructor(e){super(),this.cacheSizeBytes=e}mu(e,n){Re(this.persistence.referenceDelegate instanceof Df,46915);let r=this.persistence.referenceDelegate.garbageCollector;return new AI(r,e.asyncQueue,n)}Ru(e){let n=this.cacheSizeBytes!==void 0?mn.withCacheSize(this.cacheSizeBytes):mn.DEFAULT;return new bf(r=>Df.Ei(r,n),this.serializer)}};var M3=(()=>{class t{initialize(n,r){return _(this,null,function*(){this.localStore||(this.localStore=n.localStore,this.sharedClientState=n.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!n.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>KR(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=S3.bind(null,this.syncEngine),yield h3(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(n){return function(){return new aE}()}createDatastore(n){let r=Gf(n.databaseInfo.databaseId),i=function(s){return new JI(s)}(n.databaseInfo);return function(s,a,u,l){return new nE(s,a,u,l)}(n.authCredentials,n.appCheckCredentials,i,r)}createRemoteStore(n){return function(i,o,s,a,u){return new iE(i,o,s,a,u)}(this.localStore,this.datastore,n.asyncQueue,r=>KR(this.syncEngine,r,0),function(){return Sf.C()?new Sf:new KI}())}createSyncEngine(n,r){return function(o,s,a,u,l,h,p){let y=new fE(o,s,a,u,l,h);return p&&(y.hu=!0),y}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,n.initialUser,n.maxConcurrentLimboResolutions,r)}terminate(){return _(this,null,function*(){var n,r;yield function(o){return _(this,null,function*(){let s=te(o);B(Fo,"RemoteStore shutting down."),s.aa.add(5),yield ku(s),s.ca.shutdown(),s.la.set("Unknown")})}(this.remoteStore),(n=this.datastore)===null||n===void 0||n.terminate(),(r=this.eventManager)===null||r===void 0||r.terminate()})}}return t.provider={build:()=>new t},t})();var mE=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.pu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.pu(this.observer.error,e):$r("Uncaught Error in snapshot listener:",e.toString()))}yu(){this.muted=!0}pu(e,n){setTimeout(()=>{this.muted||e(n)},0)}};var Ni="FirestoreClient",yE=class{constructor(e,n,r,i,o){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=ft.UNAUTHENTICATED,this.clientId=lf.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,s=>_(this,null,function*(){B(Ni,"Received user=",s.uid),yield this.authCredentialListener(s),this.user=s})),this.appCheckCredentials.start(r,s=>(B(Ni,"Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();let e=new Br;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>_(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){let r=BE(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}};function B_(t,e){return _(this,null,function*(){t.asyncQueue.verifyOperationInProgress(),B(Ni,"Initializing OfflineComponentProvider");let n=t.configuration;yield e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(i=>_(this,null,function*(){r.isEqual(i)||(yield nN(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e})}function YR(t,e){return _(this,null,function*(){t.asyncQueue.verifyOperationInProgress();let n=yield N3(t);B(Ni,"Initializing OnlineComponentProvider"),yield e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>qR(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>qR(e.remoteStore,i)),t._onlineComponents=e})}function N3(t){return _(this,null,function*(){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){B(Ni,"Using user provided OfflineComponentProvider");try{yield B_(t,t._uninitializedComponentsProvider._offline)}catch(e){let n=e;if(!function(i){return i.name==="FirebaseError"?i.code===L.FAILED_PRECONDITION||i.code===L.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;ra("Error using user provided cache. Falling back to memory cache: "+n),yield B_(t,new mN)}}else B(Ni,"Using default OfflineComponentProvider"),yield B_(t,new gE(void 0));return t._offlineComponents})}function yN(t){return _(this,null,function*(){return t._onlineComponents||(t._uninitializedComponentsProvider?(B(Ni,"Using user provided OnlineComponentProvider"),yield YR(t,t._uninitializedComponentsProvider._online)):(B(Ni,"Using default OnlineComponentProvider"),yield YR(t,new M3))),t._onlineComponents})}function P3(t){return yN(t).then(e=>e.syncEngine)}function ZR(t){return _(this,null,function*(){let e=yield yN(t),n=e.eventManager;return n.onListen=y3.bind(null,e.syncEngine),n.onUnlisten=I3.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=v3.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=E3.bind(null,e.syncEngine),n})}function vN(t){let e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}var JR=new Map;function _N(t,e,n){if(!n)throw new W(L.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function x3(t,e,n,r){if(e===!0&&r===!0)throw new W(L.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function XR(t){if(!Z.isDocumentKey(t))throw new W(L.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function eM(t){if(Z.isDocumentKey(t))throw new W(L.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function qE(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{let e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Y(12329,{type:typeof t})}function Eu(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new W(L.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let n=qE(t);throw new W(L.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}var IN="firestore.googleapis.com",tM=!0,Of=class{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new W(L.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=IN,this.ssl=tM}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:tM;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=tN;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<q4)throw new W(L.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}x3("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=vN((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new W(L.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new W(L.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new W(L.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},ma=class{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Of({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new W(L.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new W(L.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Of(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new $_;switch(r.type){case"firstParty":return new W_(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new W(L.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}_restart(){return _(this,null,function*(){this._terminateTask==="notTerminated"?yield this._terminate():this._terminateTask="notTerminated"})}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){let r=JR.get(n);r&&(B("ComponentProvider","Removing Datastore"),JR.delete(n),r.terminate())}(this),Promise.resolve()}};function EN(t,e,n,r={}){var i;let o=(t=Eu(t,ma))._getSettings(),s=Object.assign(Object.assign({},o),{emulatorOptions:t._getEmulatorOptions()}),a=`${e}:${n}`;o.host!==IN&&o.host!==a&&ra("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");let u=Object.assign(Object.assign({},o),{host:a,ssl:!1,emulatorOptions:r});if(!tr(u,s)&&(t._setSettings(u),r.mockUserToken)){let l,h;if(typeof r.mockUserToken=="string")l=r.mockUserToken,h=ft.MOCK_USER;else{l=AS(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);let p=r.mockUserToken.sub||r.mockUserToken.user_id;if(!p)throw new W(L.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");h=new ft(p)}t._authCredentials=new H_(new cf(l,h))}}var Ff=class t{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new t(this.firestore,e,this._query)}},yn=class t{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ai(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new t(this.firestore,e,this._key)}},Ai=class t extends Ff{constructor(e,n,r){super(e,n,xE(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new yn(this.firestore,null,new Z(e))}withConverter(e){return new t(this.firestore,e,this._path)}};function wN(t,e,...n){if(t=ht(t),_N("collection","path",e),t instanceof ma){let r=qe.fromString(e,...n);return eM(r),new Ai(t,null,r)}{if(!(t instanceof yn||t instanceof Ai))throw new W(L.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child(qe.fromString(e,...n));return eM(r),new Ai(t.firestore,null,r)}}function WE(t,e,...n){if(t=ht(t),arguments.length===1&&(e=lf.newId()),_N("doc","path",e),t instanceof ma){let r=qe.fromString(e,...n);return XR(r),new yn(t,null,new Z(r))}{if(!(t instanceof yn||t instanceof Ai))throw new W(L.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child(qe.fromString(e,...n));return XR(r),new yn(t.firestore,t instanceof Ai?t.converter:null,new Z(r))}}var nM="AsyncQueue",Lf=class{constructor(e=Promise.resolve()){this.Qu=[],this.$u=!1,this.Uu=[],this.Ku=null,this.Wu=!1,this.Gu=!1,this.zu=[],this.y_=new Af(this,"async_queue_retry"),this.ju=()=>{let r=U_();r&&B(nM,"Visibility state changed to "+r.visibilityState),this.y_.A_()},this.Hu=e;let n=U_();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.ju)}get isShuttingDown(){return this.$u}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Ju(),this.Yu(e)}enterRestrictedMode(e){if(!this.$u){this.$u=!0,this.Gu=e||!1;let n=U_();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.ju)}}enqueue(e){if(this.Ju(),this.$u)return new Promise(()=>{});let n=new Br;return this.Yu(()=>this.$u&&this.Gu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qu.push(e),this.Zu()))}Zu(){return _(this,null,function*(){if(this.Qu.length!==0){try{yield this.Qu[0](),this.Qu.shift(),this.y_.reset()}catch(e){if(!Ia(e))throw e;B(nM,"Operation failed with retryable error: "+e)}this.Qu.length>0&&this.y_.E_(()=>this.Zu())}})}Yu(e){let n=this.Hu.then(()=>(this.Wu=!0,e().catch(r=>{throw this.Ku=r,this.Wu=!1,$r("INTERNAL UNHANDLED ERROR: ",rM(r)),r}).then(r=>(this.Wu=!1,r))));return this.Hu=n,n}enqueueAfterDelay(e,n,r){this.Ju(),this.zu.indexOf(e)>-1&&(n=0);let i=oE.createAndSchedule(this,e,n,r,o=>this.Xu(o));return this.Uu.push(i),i}Ju(){this.Ku&&Y(47125,{ec:rM(this.Ku)})}verifyOperationInProgress(){}tc(){return _(this,null,function*(){let e;do e=this.Hu,yield e;while(e!==this.Hu)})}nc(e){for(let n of this.Uu)if(n.timerId===e)return!0;return!1}rc(e){return this.tc().then(()=>{this.Uu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(let n of this.Uu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.tc()})}sc(e){this.zu.push(e)}Xu(e){let n=this.Uu.indexOf(e);this.Uu.splice(n,1)}};function rM(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}function iM(t){return function(n,r){if(typeof n!="object"||n===null)return!1;let i=n;for(let o of r)if(o in i&&typeof i[o]=="function")return!0;return!1}(t,["next","error","complete"])}var ya=class extends ma{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new Lf,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return _(this,null,function*(){if(this._firestoreClient){let e=this._firestoreClient.terminate();this._queue=new Lf(e),this._firestoreClient=void 0,yield e}})}};function CN(t,e){let n=typeof t=="object"?t:Eo(),r=typeof t=="string"?t:e||pf,i=Bs(n,"firestore").getImmediate({identifier:r});if(!i._initialized){let o=SS("firestore");o&&EN(i,...o)}return i}function bN(t){if(t._terminated)throw new W(L.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||k3(t),t._firestoreClient}function k3(t){var e,n,r;let i=t._freezeSettings(),o=function(a,u,l,h){return new Z_(a,u,l,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,vN(h.experimentalLongPollingOptions),h.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new yE(t._authCredentials,t._appCheckCredentials,t._queue,o,t._componentsProvider&&function(a){let u=a?._online.build();return{_offline:a?._offline.build(u),_online:u}}(t._componentsProvider))}var Mu=class t{constructor(e){this._byteString=e}static fromBase64String(e){try{return new t(Mt.fromBase64String(e))}catch(n){throw new W(L.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new t(Mt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}};var Nu=class{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new W(L.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new on(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var Vf=class{constructor(e){this._methodName=e}};var Pu=class{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new W(L.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new W(L.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return he(this._lat,e._lat)||he(this._long,e._long)}};var xu=class{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0}(this._values,e._values)}};var O3=/^__.*__$/,vE=class{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Gr(e,this.data,this.fieldMask,n,this.fieldTransforms):new Oo(e,this.data,n,this.fieldTransforms)}};function DN(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Y(40011,{oc:t})}}var _E=class t{constructor(e,n,r,i,o,s){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this._c(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get oc(){return this.settings.oc}ac(e){return new t(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}uc(e){var n;let r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.ac({path:r,cc:!1});return i.lc(e),i}hc(e){var n;let r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.ac({path:r,cc:!1});return i._c(),i}Pc(e){return this.ac({path:void 0,cc:!0})}Tc(e){return jf(e,this.settings.methodName,this.settings.Ic||!1,this.path,this.settings.Ec)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}_c(){if(this.path)for(let e=0;e<this.path.length;e++)this.lc(this.path.get(e))}lc(e){if(e.length===0)throw this.Tc("Document fields must not be empty");if(DN(this.oc)&&O3.test(e))throw this.Tc('Document fields cannot begin and end with "__"')}},IE=class{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Gf(e)}dc(e,n,r,i=!1){return new _E({oc:e,methodName:n,Ec:r,path:on.emptyPath(),cc:!1,Ic:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function F3(t){let e=t._freezeSettings(),n=Gf(t._databaseId);return new IE(t._databaseId,!!e.ignoreUndefinedProperties,n)}function L3(t,e,n,r,i,o={}){let s=t.dc(o.merge||o.mergeFields?2:0,e,n,i);RN("Data must be an object, but it was:",s,r);let a=SN(r,s),u,l;if(o.merge)u=new sr(s.fieldMask),l=s.fieldTransforms;else if(o.mergeFields){let h=[];for(let p of o.mergeFields){let y=V3(e,p,n);if(!s.contains(y))throw new W(L.INVALID_ARGUMENT,`Field '${y}' is specified in your field mask but missing from your input data.`);U3(h,y)||h.push(y)}u=new sr(h),l=s.fieldTransforms.filter(p=>u.covers(p.field))}else u=null,l=s.fieldTransforms;return new vE(new Ln(a),u,l)}function TN(t,e){if(AN(t=ht(t)))return RN("Unsupported field value:",e,t),SN(t,e);if(t instanceof Vf)return function(r,i){if(!DN(i.oc))throw i.Tc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Tc(`${r._methodName}() is not currently supported inside arrays`);let o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.cc&&e.oc!==4)throw e.Tc("Nested arrays are not supported");return function(r,i){let o=[],s=0;for(let a of r){let u=TN(a,i.Pc(s));u==null&&(u={nullValue:"NULL_VALUE"}),o.push(u),s++}return{arrayValue:{values:o}}}(t,e)}return function(r,i){if((r=ht(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return I4(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){let o=Ct.fromDate(r);return{timestampValue:wf(i.serializer,o)}}if(r instanceof Ct){let o=new Ct(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:wf(i.serializer,o)}}if(r instanceof Pu)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Mu)return{bytesValue:KM(i.serializer,r._byteString)};if(r instanceof yn){let o=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(o))throw i.Tc(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:OE(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof xu)return function(s,a){return{mapValue:{fields:{[AE]:{stringValue:RE},[oa]:{arrayValue:{values:s.toArray().map(l=>{if(typeof l!="number")throw a.Tc("VectorValues must only contain numeric values.");return kE(a.serializer,l)})}}}}}}(r,i);throw i.Tc(`Unsupported field value: ${qE(r)}`)}(t,e)}function SN(t,e){let n={};return EM(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Lo(t,(r,i)=>{let o=TN(i,e.uc(r));o!=null&&(n[r]=o)}),{mapValue:{fields:n}}}function AN(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Ct||t instanceof Pu||t instanceof Mu||t instanceof yn||t instanceof Vf||t instanceof xu)}function RN(t,e,n){if(!AN(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){let r=qE(n);throw r==="an object"?e.Tc(t+" a custom object"):e.Tc(t+" "+r)}}function V3(t,e,n){if((e=ht(e))instanceof Nu)return e._internalPath;if(typeof e=="string")return MN(t,e);throw jf("Field path arguments must be of type string or ",t,!1,void 0,n)}var j3=new RegExp("[~\\*/\\[\\]]");function MN(t,e,n){if(e.search(j3)>=0)throw jf(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Nu(...e.split("."))._internalPath}catch{throw jf(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function jf(t,e,n,r,i){let o=r&&!r.isEmpty(),s=i!==void 0,a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(o||s)&&(u+=" (found",o&&(u+=` in field ${r}`),s&&(u+=` in document ${i}`),u+=")"),new W(L.INVALID_ARGUMENT,a+t+u)}function U3(t,e){return t.some(n=>n.isEqual(e))}var Uf=class{constructor(e,n,r,i,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new yn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new EE(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let n=this._document.data.field(NN("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}},EE=class extends Uf{data(){return super.data()}};function NN(t,e){return typeof e=="string"?MN(t,e):e instanceof Nu?e._internalPath:e._delegate._internalPath}function B3(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new W(L.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var wE=class{convertValue(e,n="none"){switch(Ri(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ve(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(zr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Y(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){let r={};return Lo(e,(i,o)=>{r[i]=this.convertValue(o,n)}),r}convertVectorValue(e){var n,r,i;let o=(i=(r=(n=e.fields)===null||n===void 0?void 0:n[oa].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(s=>Ve(s.doubleValue));return new xu(o)}convertGeoPoint(e){return new Pu(Ve(e.latitude),Ve(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":let r=zf(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(bu(e));default:return null}}convertTimestamp(e){let n=Hr(e);return new Ct(n.seconds,n.nanos)}convertDocumentKey(e,n){let r=qe.fromString(e);Re(eN(r),9688,{name:e});let i=new gf(r.get(1),r.get(3)),o=new Z(r.popFirst(5));return i.isEqual(n)||$r(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}};function $3(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}var Ro=class{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},Bf=class extends Uf{constructor(e,n,r,i,o,s){super(e,n,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let n=new na(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){let r=this._document.data.field(NN("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}},na=class extends Bf{data(e={}){return super.data(e)}},CE=class{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Ro(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){let e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new na(this._firestore,this._userDataWriter,r.key,r,new Ro(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new W(L.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(a=>{let u=new na(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Ro(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:u,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>o||a.type!==3).map(a=>{let u=new na(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Ro(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter),l=-1,h=-1;return a.type!==0&&(l=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),a.type!==1&&(s=s.add(a.doc),h=s.indexOf(a.doc.key)),{type:H3(a.type),doc:u,oldIndex:l,newIndex:h}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}};function H3(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Y(61501,{type:t})}}var $f=class extends wE{constructor(e){super(),this.firestore=e}convertBytes(e){return new Mu(e)}convertReference(e){let n=this.convertDocumentKey(e,this.firestore._databaseId);return new yn(this.firestore,null,n)}};function PN(t,e){let n=Eu(t.firestore,ya),r=WE(t),i=$3(t.converter,e);return z3(n,[L3(F3(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,Mo.exists(!1))]).then(()=>r)}function GE(t,...e){var n,r,i;t=ht(t);let o={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||iM(e[s])||(o=e[s],s++);let a={includeMetadataChanges:o.includeMetadataChanges,source:o.source};if(iM(e[s])){let p=e[s];e[s]=(n=p.next)===null||n===void 0?void 0:n.bind(p),e[s+1]=(r=p.error)===null||r===void 0?void 0:r.bind(p),e[s+2]=(i=p.complete)===null||i===void 0?void 0:i.bind(p)}let u,l,h;if(t instanceof yn)l=Eu(t.firestore,ya),h=xE(t._key.path),u={next:p=>{e[s]&&e[s](q3(l,t,p))},error:e[s+1],complete:e[s+2]};else{let p=Eu(t,Ff);l=Eu(p.firestore,ya),h=p._query;let y=new $f(l);u={next:m=>{e[s]&&e[s](new CE(l,y,p,m))},error:e[s+1],complete:e[s+2]},B3(t._query)}return function(y,m,D,k){let x=new mE(k),U=new uE(m,x,D);return y.asyncQueue.enqueueAndForget(()=>_(this,null,function*(){return f3(yield ZR(y),U)})),()=>{x.yu(),y.asyncQueue.enqueueAndForget(()=>_(this,null,function*(){return p3(yield ZR(y),U)}))}}(bN(l),h,a,u)}function z3(t,e){return function(r,i){let o=new Br;return r.asyncQueue.enqueueAndForget(()=>_(this,null,function*(){return w3(yield P3(r),i,o)})),o.promise}(bN(t),e)}function q3(t,e,n){let r=n.docs.get(e._key),i=new $f(t);return new Bf(t,i,e._key,r,new Ro(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(i){va=i})(wi),kn(new Bt("firestore",(r,{instanceIdentifier:i,options:o})=>{let s=r.getProvider("app").getImmediate(),a=new ya(new z_(r.getProvider("auth-internal")),new G_(s,r.getProvider("app-check-internal")),function(l,h){if(!Object.prototype.hasOwnProperty.apply(l.options,["projectId"]))throw new W(L.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new gf(l.options.projectId,h)}(s,i),s);return o=Object.assign({useFetchStreams:n},o),a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),ze(pR,gR,e),ze(pR,gR,"esm2017")})();var Yf=function(){return Yf=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},Yf.apply(this,arguments)};var K3={includeMetadataChanges:!1};function xN(t,e){return e===void 0&&(e=K3),new pe(function(n){var r=GE(t,e,{next:n.next.bind(n),error:n.error.bind(n),complete:n.complete.bind(n)});return{unsubscribe:r}})}function kN(t,e){var n;e===void 0&&(e={});var r=t.data(e);return!t.exists()||typeof r!="object"||r===null||!e.idField?r:Yf(Yf({},r),(n={},n[e.idField]=t.id,n))}function ON(t){return xN(t,{includeMetadataChanges:!0}).pipe(re(function(e){return e.docs}))}function FN(t,e){return e===void 0&&(e={}),ON(t).pipe(re(function(n){return n.map(function(r){return kN(r,e)})}))}var jn=class{constructor(e){return e}},LN="firestore",KE=class{constructor(){return Hs(LN)}};var QE=new $("angularfire2.firestore-instances");function Q3(t,e){let n=ru(LN,t,e);return n&&new jn(n)}function Y3(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new jn(r)}}var Z3={provide:KE,deps:[[new ln,QE]]},J3={provide:jn,useFactory:Q3,deps:[[new ln,QE],Pr]};function VN(t,...e){return ze("angularfire",Ci.full,"fst"),Cr([J3,Z3,{provide:QE,useFactory:Y3(t),multi:!0,deps:[Pe,_t,bi,Co,[new ln,pu],[new ln,zs],...e]}])}var jN=wt(FN,!0);var jo=wt(PN,!0,2);var Kr=wt(wN,!0,2);var Fu=wt(WE,!0,2);var UN=wt(CN,!0);var vn=class t{firestore=P(jn);userCollection=Kr(this.firestore,"products");getProducts(){return jN(this.userCollection,{idField:"id"})}getProductById(e){return this.getProducts().pipe(re(n=>n.find(r=>r.id===e)))}getProductsByCategory(e){return this.getProducts().pipe(re(n=>n.filter(r=>r.category===e)))}getCategories(){return this.getProducts().pipe(re(e=>{let n=e.map(r=>r.category);return Array.from(new Set(n))}))}static \u0275fac=function(n){return new(n||t)};static \u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"})};var _n=class t{items=hn(JSON.parse(localStorage.getItem("cartItems")||"[]"));cartItems=Rn(()=>this.items().slice().sort((e,n)=>e.product.title.localeCompare(n.product.title)));total=Rn(()=>this.items().reduce((e,n)=>e+n.product.price*n.quantity,0));updateItem(e,n){this.items.update(r=>{let i=r.find(o=>o.product.id===e);return i&&n(i),[...r.filter(o=>o.product.id!=e),i]})}saveItems(){localStorage.setItem("cartItems",JSON.stringify(this.items()))}addToCart(e,n=1){this.items.update(r=>{let i=r.find(o=>o.product.id===e.id);return i?i.quantity+n>e.stock?(alert("Not enough stock available"),r):(i.quantity+=n,r):[...r,{quantity:n,product:e}]}),this.saveItems()}delete(e){this.items.update(n=>n.filter(r=>r.product.id!=e.product.id)),this.saveItems()}incrementQuantity(e){this.updateItem(e,n=>{n.quantity<n.product.stock&&n.quantity++}),this.saveItems()}decrementQuantity(e){this.updateItem(e,n=>{if(n.quantity<=1){n.quantity=1;return}n.quantity--}),this.saveItems()}clearCart(){this.items.set([]),localStorage.removeItem("cartItems")}static \u0275fac=function(n){return new(n||t)};static \u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"})};var X3=t=>["/product",t],wa=class t{product;cartService=P(_n);router=P(Et);addToCart(){this.cartService.addToCart(this.product,1)}redirectToCart(){this.router.navigate(["/cart"])}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=ee({type:t,selectors:[["app-product-card"]],inputs:{product:"product"},decls:14,vars:14,consts:[[1,"card","p-4",2,"cursor","pointer",3,"routerLink"],[1,"mb-2","card-img-top",3,"src","alt"],[1,"fw-bold"],[1,"d-none","d-lg-block","fw-bold","btn","btn-primary",3,"click","disabled"],[1,"d-block","d-lg-none","fw-bold","btn","btn-primary",3,"click","disabled"]],template:function(n,r){n&1&&(E(0,"div",0),Q(1,"img",1),E(2,"h3",2),S(3),I(),Q(4,"hr"),E(5,"p")(6,"strong"),S(7),Qt(8,"currency"),I(),S(9),I(),E(10,"button",3),ge("click",function(o){return o.stopPropagation(),r.addToCart()}),S(11),I(),E(12,"button",4),ge("click",function(o){return o.stopPropagation(),r.addToCart(),r.redirectToCart()}),S(13),I()()),n&2&&(q("routerLink",Hd(12,X3,r.product.id)),O(),pi("alt",r.product.title),q("src",r.product.img_url,li),O(2),Ut(r.product.title),O(4),Ut(Yt(8,10,r.product.price)),O(2),st(" - ",r.product.stock," available"),O(),q("disabled",r.product.stock===0),O(),st(" ",r.product.stock>0?"Add to Cart":"Out of Stock"," "),O(),q("disabled",r.product.stock===0),O(),st(" ",r.product.stock>0?"Add to Cart":"Out of Stock"," "))},dependencies:[He,Je,Mn],styles:[".product[_ngcontent-%COMP%]{box-sizing:border-box;border:1px solid #ddd;padding:16px;border-radius:8px;box-shadow:0 1px 3px #0000000d;transition:box-shadow .2s ease,transform .2s ease;background-color:#fff}"]})};var ez=(t,e)=>e.id;function tz(t,e){if(t&1&&(E(0,"div",1),Q(1,"app-product-card",2),I()),t&2){let n=e.$implicit;O(),q("product",n)}}var Ca=class t{products;static \u0275fac=function(n){return new(n||t)};static \u0275cmp=ee({type:t,selectors:[["app-product-list"]],inputs:{products:"products"},decls:3,vars:0,consts:[[1,"row","row-gap-3"],[1,"col-12","col-md-6"],[3,"product"]],template:function(n,r){n&1&&(E(0,"div",0),Gn(1,tz,2,1,"div",1,ez),I()),n&2&&(O(),Kn(r.products))},dependencies:[Je,wa],styles:[".host[_ngcontent-%COMP%]{display:block;width:100%;padding:20px}.products-container[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(250px,1fr));gap:16px}h3[_ngcontent-%COMP%]{margin-top:0}.product[_ngcontent-%COMP%]{box-sizing:border-box;border:1px solid #ddd;padding:16px;border-radius:8px;box-shadow:0 1px 3px #0000000d;transition:box-shadow .2s ease,transform .2s ease;background-color:#fff}.product[_ngcontent-%COMP%]:hover{box-shadow:0 4px 12px #0000001a;transform:translateY(-2px)}button[_ngcontent-%COMP%]{background-color:#5f9ea0;color:#fff;border:none;padding:10px 15px;border-radius:4px;cursor:pointer}button[_ngcontent-%COMP%]:hover{background-color:#6495ed}"]})};var YN=(()=>{class t{_renderer;_elementRef;onChange=n=>{};onTouched=()=>{};constructor(n,r){this._renderer=n,this._elementRef=r}setProperty(n,r){this._renderer.setProperty(this._elementRef.nativeElement,n,r)}registerOnTouched(n){this.onTouched=n}registerOnChange(n){this.onChange=n}setDisabledState(n){this.setProperty("disabled",n)}static \u0275fac=function(r){return new(r||t)(ve(di),ve(Ar))};static \u0275dir=Qe({type:t})}return t})(),ip=(()=>{class t extends YN{static \u0275fac=(()=>{let n;return function(i){return(n||(n=Sr(t)))(i||t)}})();static \u0275dir=Qe({type:t,features:[fn]})}return t})(),Hu=new $(""),nz={provide:Hu,useExisting:qn(()=>XE),multi:!0},XE=(()=>{class t extends ip{writeValue(n){this.setProperty("checked",n)}static \u0275fac=(()=>{let n;return function(i){return(n||(n=Sr(t)))(i||t)}})();static \u0275dir=Qe({type:t,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(r,i){r&1&&ge("change",function(s){return i.onChange(s.target.checked)})("blur",function(){return i.onTouched()})},standalone:!1,features:[gi([nz]),fn]})}return t})(),rz={provide:Hu,useExisting:qn(()=>Nt),multi:!0};function iz(){let t=pn()?pn().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}var oz=new $(""),Nt=(()=>{class t extends YN{_compositionMode;_composing=!1;constructor(n,r,i){super(n,r),this._compositionMode=i,this._compositionMode==null&&(this._compositionMode=!iz())}writeValue(n){let r=n??"";this.setProperty("value",r)}_handleInput(n){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(n)}_compositionStart(){this._composing=!0}_compositionEnd(n){this._composing=!1,this._compositionMode&&this.onChange(n)}static \u0275fac=function(r){return new(r||t)(ve(di),ve(Ar),ve(oz,8))};static \u0275dir=Qe({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){r&1&&ge("input",function(s){return i._handleInput(s.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(s){return i._compositionEnd(s.target.value)})},standalone:!1,features:[gi([rz]),fn]})}return t})();function sz(t){return t==null||az(t)===0}function az(t){return t==null?null:Array.isArray(t)||typeof t=="string"?t.length:t instanceof Set?t.size:null}var ew=new $(""),ZN=new $("");function cz(t){return sz(t.value)?{required:!0}:null}function BN(t){return null}function JN(t){return t!=null}function XN(t){return so(t)?je(t):t}function eP(t){let e={};return t.forEach(n=>{e=n!=null?j(j({},e),n):e}),Object.keys(e).length===0?null:e}function tP(t,e){return e.map(n=>n(t))}function uz(t){return!t.validate}function nP(t){return t.map(e=>uz(e)?e:n=>e.validate(n))}function lz(t){if(!t)return null;let e=t.filter(JN);return e.length==0?null:function(n){return eP(tP(n,e))}}function tw(t){return t!=null?lz(nP(t)):null}function dz(t){if(!t)return null;let e=t.filter(JN);return e.length==0?null:function(n){let r=tP(n,e).map(XN);return Sg(r).pipe(re(eP))}}function nw(t){return t!=null?dz(nP(t)):null}function $N(t,e){return t===null?[e]:Array.isArray(t)?[...t,e]:[t,e]}function hz(t){return t._rawValidators}function fz(t){return t._rawAsyncValidators}function YE(t){return t?Array.isArray(t)?t:[t]:[]}function Jf(t,e){return Array.isArray(t)?t.includes(e):t===e}function HN(t,e){let n=YE(e);return YE(t).forEach(i=>{Jf(n,i)||n.push(i)}),n}function zN(t,e){return YE(e).filter(n=>!Jf(t,n))}var Xf=class{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators=[];_rawAsyncValidators=[];_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=tw(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=nw(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_onDestroyCallbacks=[];_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,n){return this.control?this.control.hasError(e,n):!1}getError(e,n){return this.control?this.control.getError(e,n):null}},Ta=class extends Xf{name;get formDirective(){return null}get path(){return null}},$u=class extends Xf{_parent=null;name=null;valueAccessor=null},ep=class{_cd;constructor(e){this._cd=e}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},pz={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},$ee=fe(j({},pz),{"[class.ng-submitted]":"isSubmitted"}),gt=(()=>{class t extends ep{constructor(n){super(n)}static \u0275fac=function(r){return new(r||t)(ve($u,2))};static \u0275dir=Qe({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){r&2&&Bd("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},standalone:!1,features:[fn]})}return t})(),xi=(()=>{class t extends ep{constructor(n){super(n)}static \u0275fac=function(r){return new(r||t)(ve(Ta,10))};static \u0275dir=Qe({type:t,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,i){r&2&&Bd("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},standalone:!1,features:[fn]})}return t})();var Lu="VALID",Zf="INVALID",ba="PENDING",Vu="DISABLED",Pi=class{},tp=class extends Pi{value;source;constructor(e,n){super(),this.value=e,this.source=n}},Uu=class extends Pi{pristine;source;constructor(e,n){super(),this.pristine=e,this.source=n}},Bu=class extends Pi{touched;source;constructor(e,n){super(),this.touched=e,this.source=n}},Da=class extends Pi{status;source;constructor(e,n){super(),this.status=e,this.source=n}},ZE=class extends Pi{source;constructor(e){super(),this.source=e}},JE=class extends Pi{source;constructor(e){super(),this.source=e}};function rP(t){return(op(t)?t.validators:t)||null}function gz(t){return Array.isArray(t)?tw(t):t||null}function iP(t,e){return(op(e)?e.asyncValidators:t)||null}function mz(t){return Array.isArray(t)?nw(t):t||null}function op(t){return t!=null&&!Array.isArray(t)&&typeof t=="object"}function yz(t,e,n){let r=t.controls;if(!(e?Object.keys(r):r).length)throw new H(1e3,"");if(!r[n])throw new H(1001,"")}function vz(t,e,n){t._forEachChild((r,i)=>{if(n[i]===void 0)throw new H(1002,"")})}var np=class{_pendingDirty=!1;_hasOwnPendingAsyncValidator=null;_pendingTouched=!1;_onCollectionChange=()=>{};_updateOn;_parent=null;_asyncValidationSubscription;_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators;_rawAsyncValidators;value;constructor(e,n){this._assignValidators(e),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get status(){return Qn(this.statusReactive)}set status(e){Qn(()=>this.statusReactive.set(e))}_status=Rn(()=>this.statusReactive());statusReactive=hn(void 0);get valid(){return this.status===Lu}get invalid(){return this.status===Zf}get pending(){return this.status==ba}get disabled(){return this.status===Vu}get enabled(){return this.status!==Vu}errors;get pristine(){return Qn(this.pristineReactive)}set pristine(e){Qn(()=>this.pristineReactive.set(e))}_pristine=Rn(()=>this.pristineReactive());pristineReactive=hn(!0);get dirty(){return!this.pristine}get touched(){return Qn(this.touchedReactive)}set touched(e){Qn(()=>this.touchedReactive.set(e))}_touched=Rn(()=>this.touchedReactive());touchedReactive=hn(!1);get untouched(){return!this.touched}_events=new Ye;events=this._events.asObservable();valueChanges;statusChanges;get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(HN(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(HN(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(zN(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(zN(e,this._rawAsyncValidators))}hasValidator(e){return Jf(this._rawValidators,e)}hasAsyncValidator(e){return Jf(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){let n=this.touched===!1;this.touched=!0;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsTouched(fe(j({},e),{sourceControl:r})),n&&e.emitEvent!==!1&&this._events.next(new Bu(!0,r))}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(n=>n.markAllAsTouched(e))}markAsUntouched(e={}){let n=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:r})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,r),n&&e.emitEvent!==!1&&this._events.next(new Bu(!1,r))}markAsDirty(e={}){let n=this.pristine===!0;this.pristine=!1;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsDirty(fe(j({},e),{sourceControl:r})),n&&e.emitEvent!==!1&&this._events.next(new Uu(!1,r))}markAsPristine(e={}){let n=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e,r),n&&e.emitEvent!==!1&&this._events.next(new Uu(!0,r))}markAsPending(e={}){this.status=ba;let n=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Da(this.status,n)),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.markAsPending(fe(j({},e),{sourceControl:n}))}disable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=Vu,this.errors=null,this._forEachChild(i=>{i.disable(fe(j({},e),{onlySelf:!0}))}),this._updateValue();let r=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new tp(this.value,r)),this._events.next(new Da(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(fe(j({},e),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=Lu,this._forEachChild(r=>{r.enable(fe(j({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(fe(j({},e),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e,n){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine({},n),this._parent._updateTouched({},n))}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Lu||this.status===ba)&&this._runAsyncValidator(r,e.emitEvent)}let n=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new tp(this.value,n)),this._events.next(new Da(this.status,n)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(fe(j({},e),{sourceControl:n}))}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Vu:Lu}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e,n){if(this.asyncValidator){this.status=ba,this._hasOwnPendingAsyncValidator={emitEvent:n!==!1};let r=XN(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(i=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(i,{emitEvent:n,shouldHaveEmitted:e})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let e=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,e}return!1}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(n.emitEvent!==!1,this,n.shouldHaveEmitted)}get(e){let n=e;return n==null||(Array.isArray(n)||(n=n.split(".")),n.length===0)?null:n.reduce((r,i)=>r&&r._find(i),this)}getError(e,n){let r=n?this.get(n):this;return r&&r.errors?r.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e,n,r){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||r)&&this._events.next(new Da(this.status,n)),this._parent&&this._parent._updateControlsErrors(e,n,r)}_initObservables(){this.valueChanges=new Ue,this.statusChanges=new Ue}_calculateStatus(){return this._allControlsDisabled()?Vu:this.errors?Zf:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(ba)?ba:this._anyControlsHaveStatus(Zf)?Zf:Lu}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e,n){let r=!this._anyControlsDirty(),i=this.pristine!==r;this.pristine=r,this._parent&&!e.onlySelf&&this._parent._updatePristine(e,n),i&&this._events.next(new Uu(this.pristine,n))}_updateTouched(e={},n){this.touched=this._anyControlsTouched(),this._events.next(new Bu(this.touched,n)),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,n)}_onDisabledChange=[];_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){op(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let n=this._parent&&this._parent.dirty;return!e&&!!n&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=gz(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=mz(this._rawAsyncValidators)}},rp=class extends np{constructor(e,n,r){super(rP(n),iP(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;registerControl(e,n){return this.controls[e]?this.controls[e]:(this.controls[e]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(e,n,r={}){this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(e,n,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],n&&this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,n={}){vz(this,!0,e),Object.keys(e).forEach(r=>{yz(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){e!=null&&(Object.keys(e).forEach(r=>{let i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e={},n={}){this._forEachChild((r,i)=>{r.reset(e?e[i]:null,{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n,this),this._updateTouched(n,this),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(e,n,r)=>(e[r]=n.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(n,r)=>r._syncPendingControls()?!0:n);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(n=>{let r=this.controls[n];r&&e(r,n)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[n,r]of Object.entries(this.controls))if(this.contains(n)&&e(r))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(n,r,i)=>((r.enabled||this.disabled)&&(n[i]=r.value),n))}_reduceChildren(e,n){let r=e;return this._forEachChild((i,o)=>{r=n(r,i,o)}),r}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var sp=new $("",{providedIn:"root",factory:()=>ap}),ap="always";function _z(t,e){return[...e.path,t]}function oP(t,e,n=ap){sP(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||n==="always")&&e.valueAccessor.setDisabledState?.(t.disabled),Ez(t,e),Cz(t,e),wz(t,e),Iz(t,e)}function qN(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function Iz(t,e){if(e.valueAccessor.setDisabledState){let n=r=>{e.valueAccessor.setDisabledState(r)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}function sP(t,e){let n=hz(t);e.validator!==null?t.setValidators($N(n,e.validator)):typeof n=="function"&&t.setValidators([n]);let r=fz(t);e.asyncValidator!==null?t.setAsyncValidators($N(r,e.asyncValidator)):typeof r=="function"&&t.setAsyncValidators([r]);let i=()=>t.updateValueAndValidity();qN(e._rawValidators,i),qN(e._rawAsyncValidators,i)}function Ez(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,t.updateOn==="change"&&aP(t,e)})}function wz(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,t.updateOn==="blur"&&t._pendingChange&&aP(t,e),t.updateOn!=="submit"&&t.markAsTouched()})}function aP(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function Cz(t,e){let n=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}function bz(t,e){t==null,sP(t,e)}function Dz(t,e){if(!t.hasOwnProperty("model"))return!1;let n=t.model;return n.isFirstChange()?!0:!Object.is(e,n.currentValue)}function Tz(t){return Object.getPrototypeOf(t.constructor)===ip}function Sz(t,e){t._syncPendingControls(),e.forEach(n=>{let r=n.control;r.updateOn==="submit"&&r._pendingChange&&(n.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function Az(t,e){if(!e)return null;Array.isArray(e);let n,r,i;return e.forEach(o=>{o.constructor===Nt?n=o:Tz(o)?r=o:i=o}),i||r||n||null}var Rz={provide:Ta,useExisting:qn(()=>Qr)},ju=Promise.resolve(),Qr=(()=>{class t extends Ta{callSetDisabledState;get submitted(){return Qn(this.submittedReactive)}_submitted=Rn(()=>this.submittedReactive());submittedReactive=hn(!1);_directives=new Set;form;ngSubmit=new Ue;options;constructor(n,r,i){super(),this.callSetDisabledState=i,this.form=new rp({},tw(n),nw(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(n){ju.then(()=>{let r=this._findContainer(n.path);n.control=r.registerControl(n.name,n.control),oP(n.control,n,this.callSetDisabledState),n.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(n)})}getControl(n){return this.form.get(n.path)}removeControl(n){ju.then(()=>{let r=this._findContainer(n.path);r&&r.removeControl(n.name),this._directives.delete(n)})}addFormGroup(n){ju.then(()=>{let r=this._findContainer(n.path),i=new rp({});bz(i,n),r.registerControl(n.name,i),i.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(n){ju.then(()=>{let r=this._findContainer(n.path);r&&r.removeControl(n.name)})}getFormGroup(n){return this.form.get(n.path)}updateModel(n,r){ju.then(()=>{this.form.get(n.path).setValue(r)})}setValue(n){this.control.setValue(n)}onSubmit(n){return this.submittedReactive.set(!0),Sz(this.form,this._directives),this.ngSubmit.emit(n),this.form._events.next(new ZE(this.control)),n?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(n=void 0){this.form.reset(n),this.submittedReactive.set(!1),this.form._events.next(new JE(this.form))}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(n){return n.pop(),n.length?this.form.get(n):this.form}static \u0275fac=function(r){return new(r||t)(ve(ew,10),ve(ZN,10),ve(sp,8))};static \u0275dir=Qe({type:t,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(r,i){r&1&&ge("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],standalone:!1,features:[gi([Rz]),fn]})}return t})();function WN(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function GN(t){return typeof t=="object"&&t!==null&&Object.keys(t).length===2&&"value"in t&&"disabled"in t}var Mz=class extends np{defaultValue=null;_onChange=[];_pendingValue;_pendingChange=!1;constructor(e=null,n,r){super(rP(n),iP(r,n)),this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),op(n)&&(n.nonNullable||n.initialValueIsDefault)&&(GN(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&n.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,n.emitViewToModelChange!==!1)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){WN(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){WN(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){GN(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var Nz={provide:$u,useExisting:qn(()=>ct)},KN=Promise.resolve(),ct=(()=>{class t extends $u{_changeDetectorRef;callSetDisabledState;control=new Mz;static ngAcceptInputType_isDisabled;_registered=!1;viewModel;name="";isDisabled;model;options;update=new Ue;constructor(n,r,i,o,s,a){super(),this._changeDetectorRef=s,this.callSetDisabledState=a,this._parent=n,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=Az(this,o)}ngOnChanges(n){if(this._checkForErrors(),!this._registered||"name"in n){if(this._registered&&(this._checkName(),this.formDirective)){let r=n.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in n&&this._updateDisabled(n),Dz(n,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){oP(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._checkName()}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(n){KN.then(()=>{this.control.setValue(n,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(n){let r=n.isDisabled.currentValue,i=r!==0&&ho(r);KN.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(n){return this._parent?_z(n,this._parent):[n]}static \u0275fac=function(r){return new(r||t)(ve(Ta,9),ve(ew,10),ve(ZN,10),ve(Hu,10),ve(Ds,8),ve(sp,8))};static \u0275dir=Qe({type:t,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],standalone:!1,features:[gi([Nz]),fn,ui]})}return t})();var ki=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275dir=Qe({type:t,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""],standalone:!1})}return t})();var Pz=new $("");var xz={provide:Hu,useExisting:qn(()=>Oi),multi:!0};function cP(t,e){return t==null?`${e}`:(e&&typeof e=="object"&&(e="Object"),`${t}: ${e}`.slice(0,50))}function kz(t){return t.split(":")[0]}var Oi=(()=>{class t extends ip{value;_optionMap=new Map;_idCounter=0;set compareWith(n){this._compareWith=n}_compareWith=Object.is;writeValue(n){this.value=n;let r=this._getOptionId(n),i=cP(r,n);this.setProperty("value",i)}registerOnChange(n){this.onChange=r=>{this.value=this._getOptionValue(r),n(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(n){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r),n))return r;return null}_getOptionValue(n){let r=kz(n);return this._optionMap.has(r)?this._optionMap.get(r):n}static \u0275fac=(()=>{let n;return function(i){return(n||(n=Sr(t)))(i||t)}})();static \u0275dir=Qe({type:t,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(r,i){r&1&&ge("change",function(s){return i.onChange(s.target.value)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[gi([xz]),fn]})}return t})(),Sa=(()=>{class t{_element;_renderer;_select;id;constructor(n,r,i){this._element=n,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption())}set ngValue(n){this._select!=null&&(this._select._optionMap.set(this.id,n),this._setElementValue(cP(this.id,n)),this._select.writeValue(this._select.value))}set value(n){this._setElementValue(n),this._select&&this._select.writeValue(this._select.value)}_setElementValue(n){this._renderer.setProperty(this._element.nativeElement,"value",n)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static \u0275fac=function(r){return new(r||t)(ve(Ar),ve(di),ve(Oi,9))};static \u0275dir=Qe({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return t})(),Oz={provide:Hu,useExisting:qn(()=>uP),multi:!0};function QN(t,e){return t==null?`${e}`:(typeof e=="string"&&(e=`'${e}'`),e&&typeof e=="object"&&(e="Object"),`${t}: ${e}`.slice(0,50))}function Fz(t){return t.split(":")[0]}var uP=(()=>{class t extends ip{value;_optionMap=new Map;_idCounter=0;set compareWith(n){this._compareWith=n}_compareWith=Object.is;writeValue(n){this.value=n;let r;if(Array.isArray(n)){let i=n.map(o=>this._getOptionId(o));r=(o,s)=>{o._setSelected(i.indexOf(s.toString())>-1)}}else r=(i,o)=>{i._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(n){this.onChange=r=>{let i=[],o=r.selectedOptions;if(o!==void 0){let s=o;for(let a=0;a<s.length;a++){let u=s[a],l=this._getOptionValue(u.value);i.push(l)}}else{let s=r.options;for(let a=0;a<s.length;a++){let u=s[a];if(u.selected){let l=this._getOptionValue(u.value);i.push(l)}}}this.value=i,n(i)}}_registerOption(n){let r=(this._idCounter++).toString();return this._optionMap.set(r,n),r}_getOptionId(n){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r)._value,n))return r;return null}_getOptionValue(n){let r=Fz(n);return this._optionMap.has(r)?this._optionMap.get(r)._value:n}static \u0275fac=(()=>{let n;return function(i){return(n||(n=Sr(t)))(i||t)}})();static \u0275dir=Qe({type:t,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(r,i){r&1&&ge("change",function(s){return i.onChange(s.target)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[gi([Oz]),fn]})}return t})(),Aa=(()=>{class t{_element;_renderer;_select;id;_value;constructor(n,r,i){this._element=n,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption(this))}set ngValue(n){this._select!=null&&(this._value=n,this._setElementValue(QN(this.id,n)),this._select.writeValue(this._select.value))}set value(n){this._select?(this._value=n,this._setElementValue(QN(this.id,n)),this._select.writeValue(this._select.value)):this._setElementValue(n)}_setElementValue(n){this._renderer.setProperty(this._element.nativeElement,"value",n)}_setSelected(n){this._renderer.setProperty(this._element.nativeElement,"selected",n)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static \u0275fac=function(r){return new(r||t)(ve(Ar),ve(di),ve(uP,9))};static \u0275dir=Qe({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return t})();var Lz=(()=>{class t{_validator=BN;_onChange;_enabled;ngOnChanges(n){if(this.inputName in n){let r=this.normalizeInput(n[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):BN,this._onChange&&this._onChange()}}validate(n){return this._validator(n)}registerOnValidatorChange(n){this._onChange=n}enabled(n){return n!=null}static \u0275fac=function(r){return new(r||t)};static \u0275dir=Qe({type:t,features:[ui]})}return t})();var Vz={provide:ew,useExisting:qn(()=>rw),multi:!0};var rw=(()=>{class t extends Lz{required;inputName="required";normalizeInput=ho;createValidator=n=>cz;enabled(n){return n}static \u0275fac=(()=>{let n;return function(i){return(n||(n=Sr(t)))(i||t)}})();static \u0275dir=Qe({type:t,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(r,i){r&2&&bc("required",i._enabled?"":null)},inputs:{required:"required"},standalone:!1,features:[gi([Vz]),fn]})}return t})();var lP=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275mod=Rr({type:t});static \u0275inj=wr({})}return t})();var Ge=(()=>{class t{static withConfig(n){return{ngModule:t,providers:[{provide:sp,useValue:n.callSetDisabledState??ap}]}}static \u0275fac=function(r){return new(r||t)};static \u0275mod=Rr({type:t});static \u0275inj=wr({imports:[lP]})}return t})(),dP=(()=>{class t{static withConfig(n){return{ngModule:t,providers:[{provide:Pz,useValue:n.warnOnNgModelWithFormControl??"always"},{provide:sp,useValue:n.callSetDisabledState??ap}]}}static \u0275fac=function(r){return new(r||t)};static \u0275mod=Rr({type:t});static \u0275inj=wr({imports:[lP]})}return t})();var jz=()=>["/checkout"],Uz=t=>["/product",t];function Bz(t,e){if(t&1){let n=bs();E(0,"div",1)(1,"div",4)(2,"div",5),Q(3,"img",6),I(),E(4,"div",7)(5,"h3"),S(6),I(),E(7,"p"),S(8),Qt(9,"currency"),I(),E(10,"p"),S(11),I()()(),E(12,"div",8)(13,"button",9),ge("click",function(){let i=Sn(n).$implicit,o=lo();return An(o.deleteFromCart(i))}),S(14," Delete "),I(),E(15,"div",10)(16,"button",11),ge("click",function(){let i=Sn(n).$implicit,o=lo();return An(o.cartService.incrementQuantity(i.product.id))}),S(17,"+"),I(),E(18,"button",11),ge("click",function(){let i=Sn(n).$implicit,o=lo();return An(o.cartService.decrementQuantity(i.product.id))}),S(19,"-"),I()()()()}if(t&2){let n=e.$implicit;O(),q("routerLink",Hd(8,Uz,n.product.id)),O(2),pi("alt",n.product.title),q("src",n.product.img_url,li),O(3),Ut(n.product.title),O(2),st(" Price: ",Yt(9,6,n.product.price),""),O(3),st(" Quantity: ",n.quantity,"")}}var Ra=class t{overflow=!1;cartService=P(_n);items=[];ngOnInit(){this.items=this.cartService.cartItems()}deleteFromCart(e){this.cartService.delete(e)}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=ee({type:t,selectors:[["app-cart"]],inputs:{overflow:"overflow"},decls:12,vars:11,consts:[[1,"card","p-4"],[1,"cart-item"],[1,"mt-2"],[1,"btn","btn-primary","py-3","fw-bold","mt-2","w-100",3,"routerLink"],[1,"row",2,"cursor","pointer",3,"routerLink"],[1,"col-3"],[1,"img-fluid",3,"src","alt"],[1,"col-9"],[1,"mt-1","d-flex","gap-2","justify-content-end"],[1,"btn","btn-danger",3,"click"],[1,"d-flex","gap-1"],[1,"btn","btn-secondary",3,"click"]],template:function(n,r){n&1&&(E(0,"div",0)(1,"div"),Gn(2,Bz,20,10,"div",1,fi),I(),E(4,"div"),Q(5,"hr"),E(6,"div",2)(7,"h3"),S(8),Qt(9,"currency"),I(),E(10,"button",3),S(11,"Proceed to Checkout"),I()()()()),n&2&&(O(),$D(r.overflow?"height: 60vh; overflow-y: auto;":""),O(),Kn(r.cartService.cartItems()),O(2),ao(r.overflow?"":"d-lg-none"),O(4),st(" Total: ",Yt(9,8,r.cartService.total()),""),O(2),ao(r.cartService.total()===0?"d-none":""),q("routerLink",Fe(10,jz)))},dependencies:[Je,Mn,He],styles:[".cart-layout[_ngcontent-%COMP%]{display:flex;align-items:flex-start;gap:2rem;padding:2rem;max-width:1200px;margin:0 auto}.product-section[_ngcontent-%COMP%]{flex:3}.cart-sidebar[_ngcontent-%COMP%]{flex:1;background-color:#f8f9fa;padding:1.5rem;border-radius:12px;box-shadow:0 4px 10px #0000000d;max-height:80vh;overflow-y:auto;position:sticky;top:2rem}.cart-sidebar[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin-bottom:1rem;font-size:1.5rem;color:#333}.cart-item[_ngcontent-%COMP%]{padding:.5rem .75rem}.cart-item[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;font-size:1.1rem;color:#222}.cart-item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:.25rem 0 0;color:#666}.checkout-btn[_ngcontent-%COMP%]{display:block;width:100%;margin-top:1.5rem;padding:.75rem;font-size:1rem;font-weight:600;background-color:#5f9ea0;color:#fff;border:none;border-radius:8px;cursor:pointer;transition:background-color .2s ease,transform .1s ease}.checkout-btn[_ngcontent-%COMP%]:hover{background-color:#6495ed;transform:scale(1.02)}.checkout-btn[_ngcontent-%COMP%]:active{transform:scale(.98)}.cart-controls[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;margin-top:.5rem}.qty-btn[_ngcontent-%COMP%]{width:32px;height:32px;font-size:1.1rem;font-weight:700;background-color:#e2e6ea;border:none;border-radius:6px;cursor:pointer;transition:background-color .2s ease}.qty-btn[_ngcontent-%COMP%]:hover{background-color:#cfd4da}.item-qty[_ngcontent-%COMP%]{font-size:1rem;font-weight:500;padding:0 .5rem}.delete-btn[_ngcontent-%COMP%]{margin-left:auto;background-color:#dc3545;color:#fff;border:none;padding:.5rem .8rem;border-radius:6px;cursor:pointer;transition:background-color .2s ease}.delete-btn[_ngcontent-%COMP%]:hover{background-color:#b52a36}"]})};function $z(t,e){if(t&1&&(E(0,"option",3),S(1),Qt(2,"titlecase"),I()),t&2){let n=e.$implicit;q("value",n),O(),Ut(Yt(2,2,n))}}var cp=class t{filterChanged=new Ue;tag="Select a category";productService=P(vn);categories=[];ngOnInit(){this.productService.getCategories().subscribe(e=>{this.categories=e})}onFilter(){this.filterChanged.emit(this.tag==="Select a category"?null:this.tag)}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=ee({type:t,selectors:[["app-product-filter"]],outputs:{filterChanged:"filterChanged"},decls:8,vars:1,consts:[[1,"d-flex","align-items-start"],["aria-label","Category filter",1,"form-select",3,"ngModelChange","ngModel"],["selected",""],[3,"value"],[1,"btn","btn-primary","ms-2",3,"click"]],template:function(n,r){n&1&&(E(0,"div",0)(1,"select",1),Ee("ngModelChange",function(o){return be(r.tag,o)||(r.tag=o),o}),E(2,"option",2),S(3,"Select a category"),I(),Gn(4,$z,3,4,"option",3,fi),I(),E(6,"button",4),ge("click",function(){return r.onFilter()}),S(7,"Filter"),I()()),n&2&&(O(),Ie("ngModel",r.tag),O(3),Kn(r.categories))},dependencies:[Ge,Sa,Aa,Oi,gt,ct,Je,Ry],encapsulation:2})};var up=class t{searchChanged=new Ue;searchText="";onSearch(){this.searchChanged.emit(this.searchText)}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=ee({type:t,selectors:[["app-product-search"]],outputs:{searchChanged:"searchChanged"},decls:4,vars:1,consts:[[1,"d-flex","align-items-start"],["type","text","placeholder","Search For Product",1,"form-control","me-2",2,"width","200px",3,"ngModelChange","ngModel"],[1,"btn","btn-primary",3,"click"]],template:function(n,r){n&1&&(E(0,"div",0)(1,"input",1),Ee("ngModelChange",function(o){return be(r.searchText,o)||(r.searchText=o),o}),I(),E(2,"button",2),ge("click",function(){return r.onSearch()}),S(3,"Search"),I()()),n&2&&(O(),Ie("ngModel",r.searchText))},dependencies:[Ge,Nt,gt,ct],encapsulation:2})};var lp=class t{products=hn([]);searchText=null;category=null;productService=P(vn);route=P(Pn);router=P(Et);ngOnInit(){this.route.queryParams.subscribe(e=>{this.searchText=e.search||null,this.category=e.category||null,this.filter()})}searchEvent(e){this.searchText=e,this.filter(),this.router.navigate(["/products"],{queryParams:{search:e,category:this.category}})}categoryEvent(e){this.category=e,this.router.navigate(["/products"],{queryParams:{search:this.searchText,category:e}}),this.filter()}filter(){this.productService.getProducts().subscribe(e=>{this.products.set(e.filter(n=>{let r=this.searchText?n.title.toLowerCase().includes(this.searchText.trim().toLowerCase()):!0,i=this.category?n.category===this.category:!0;return r&&i}))})}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=ee({type:t,selectors:[["app-products"]],decls:11,vars:2,consts:[[1,"container","py-3"],[1,"row","gx-5"],[1,"col-12","col-lg-8"],[1,"mb-3","d-flex-row","d-md-flex","justify-content-between"],[1,"me-4"],[3,"searchChanged"],[3,"filterChanged"],[3,"products"],[1,"d-none","d-lg-block","col-lg-4"],[1,"sticky-top",2,"top","10px",3,"overflow"]],template:function(n,r){n&1&&(E(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"app-product-search",5),ge("searchChanged",function(o){return r.searchEvent(o)}),I()(),E(6,"div")(7,"app-product-filter",6),ge("filterChanged",function(o){return r.categoryEvent(o)}),I()()(),Q(8,"app-product-list",7),I(),E(9,"div",8),Q(10,"app-cart",9),I()()()),n&2&&(O(8),q("products",r.products()),O(2),q("overflow",!0))},dependencies:[Ge,Ca,Ra,cp,up],encapsulation:2})};function Hz(t,e){if(t&1&&(E(0,"option",13),S(1),I()),t&2){let n=e.$implicit;q("value",n),O(),Ut(n)}}var dp=class t{id;product;productService=P(vn);cartService=P(_n);router=P(Et);location=P(yi);quantity="1";qtOptions;ngOnInit(){this.productService.getProductById(this.id).subscribe(e=>{e?(this.product=e,this.qtOptions=Array.from({length:Math.min(10,this.product.stock)},(n,r)=>r+1),this.qtOptions=Array.from({length:Math.min(10,this.product.stock)},(n,r)=>r+1)):this.router.navigate(["/products"])})}goBack(){let e=this.location.getState();e&&e.navigationId&&e.navigationId>1?this.location.back():this.router.navigate(["/products"])}addToCart(){this.cartService.addToCart(this.product,Number(this.quantity)),this.router.navigate(["/cart"])}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=ee({type:t,selectors:[["app-product"]],inputs:{id:"id"},decls:28,vars:11,consts:[[1,"container","pt-3"],[1,"btn","btn-link",3,"click"],[1,"row","mt-2"],[1,"align-self-center","d-none","d-lg-block","col-lg-6","col-xl-4","card","p-4"],[1,"mx-auto","w-75"],[1,"img-fluid",3,"src","alt"],[1,"col-12","col-lg-6","col-xl-8"],[1,"card","p-4"],[1,"card-img-top","mb-2","d-block","d-lg-none",3,"src","alt"],[1,"fw-bold"],[1,"form-group"],["for","quantity"],["id","quantity",1,"form-control",3,"ngModelChange","ngModel"],[3,"value"],[1,"mt-2","btn","btn-primary",3,"click"]],template:function(n,r){n&1&&(E(0,"div",0)(1,"button",1),ge("click",function(){return r.goBack()}),S(2,"\u2190 Back"),I(),E(3,"div",2)(4,"div",3)(5,"div",4),Q(6,"img",5),I()(),E(7,"div",6)(8,"div",7),Q(9,"img",8),E(10,"h2",9),S(11),I(),Q(12,"hr"),E(13,"p"),S(14),I(),E(15,"p"),S(16),Qt(17,"currency"),I(),E(18,"p"),S(19),I(),E(20,"div",10)(21,"label",11),S(22,"Quantity:"),I(),E(23,"select",12),Ee("ngModelChange",function(o){return be(r.quantity,o)||(r.quantity=o),o}),Gn(24,Hz,2,2,"option",13,fi),I()(),E(26,"button",14),ge("click",function(){return r.addToCart()}),S(27,"Add to Cart"),I()()()()()),n&2&&(O(6),pi("alt",r.product.title),q("src",r.product.img_url,li),O(3),pi("alt",r.product.title),q("src",r.product.img_url,li),O(2),Ut(r.product.title),O(3),Ut(r.product.description),O(2),st("Price: ",Yt(17,9,r.product.price),""),O(3),st("Stock: ",r.product.stock,""),O(4),Ie("ngModel",r.quantity),O(),Kn(r.qtOptions))},dependencies:[Je,Mn,Ge,Sa,Aa,Oi,gt,ct],encapsulation:2})};var hP=()=>["/products"],hp=class t{displayProducts;productService=P(vn);ngOnInit(){this.productService.getProducts().subscribe(e=>{this.displayProducts=e.slice()})}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=ee({type:t,selectors:[["app-home"]],decls:35,vars:9,consts:[[1,"w-100","row","row-gap-3"],[1,"col-12","col-lg-6","image"],[1,"row","text-white","p-4"],[1,"col-12","col-md-6"],[1,"fw-bold"],[1,"fs-5"],[1,"d-flex","gap-2"],[1,"fs-5","btn","btn-primary","fw-bold",3,"routerLink"],[1,"col-12","col-lg-6"],[1,"text-center","mt-2"],[3,"products"],[1,"my-4"],[1,"w-100","px-2","mt-2","row","row-gap-3"],[1,"col-12","col-md-6","col-lg-3"],[1,"text-center"],[3,"product"]],template:function(n,r){n&1&&(E(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h1",4),S(5,"Living Aura"),I(),E(6,"p",5),S(7,"Explore the variety our collection has to offer:"),I(),E(8,"div",6)(9,"button",7),S(10,"Sales/Offers"),I(),E(11,"button",7),S(12,"Shop Now"),I()()()()(),E(13,"div",8)(14,"h2",9),S(15,"Browse Our Collection"),I(),Q(16,"app-product-list",10),I()(),Q(17,"hr",11),E(18,"div",12)(19,"div",13)(20,"h2",14),S(21,"New Arrivals"),I(),Q(22,"app-product-card",15),I(),E(23,"div",13)(24,"h2",14),S(25,"Popular Picks"),I(),Q(26,"app-product-card",15),I(),E(27,"div",13)(28,"h2",14),S(29,"Spring Aura"),I(),Q(30,"app-product-card",15),I(),E(31,"div",13)(32,"h2",14),S(33,"Home Office"),I(),Q(34,"app-product-card",15),I()()),n&2&&(O(9),q("routerLink",Fe(7,hP)),O(2),q("routerLink",Fe(8,hP)),O(5),q("products",r.displayProducts.slice(0,2)),O(6),q("product",r.displayProducts[2]),O(4),q("product",r.displayProducts[3]),O(4),q("product",r.displayProducts[4]),O(4),q("product",r.displayProducts[5]))},dependencies:[He,wa,Ca],styles:[".text-shadow[_ngcontent-%COMP%] > p[_ngcontent-%COMP%], h1[_ngcontent-%COMP%]{text-shadow:2px 2px 4px rgba(0,0,0,.5)}.image[_ngcontent-%COMP%]{background-image:linear-gradient(#0006,#0000),url(https://images.unsplash.com/photo-1586023492125-27b2c045efd7?q=80&w=2158&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D);background-size:cover;background-repeat:no-repeat;background-position:bottom;height:575px}"]})};var Jt=class t{auth=P(To);router=P(Et);login(e,n){uR(this.auth,e,n).then(()=>{localStorage.setItem("token","true"),this.router.navigate(["/"])},r=>{alert(`Something went wrong: ${r.message} `),this.router.navigate(["/login"])})}register(e){sR(this.auth,e.email,e.password).then(n=>{let r=n.user,i=e.fname+" "+e.lname;N_(r,{displayName:i}),alert("Registration Successful"),this.router.navigate(["/login"])}).catch(n=>{alert(n.message),this.router.navigate(["/register"])}),N_}logout(){dR(this.auth).then(()=>{localStorage.removeItem("token"),this.router.navigate(["/login"])}).catch(e=>{alert(e.message)})}forgotPassword(e){cR(this.auth,e).then(()=>{this.router.navigate(["/verify-email"])}).catch(n=>{alert(`Something went wrong: ${n.message}`)})}signInWithGoogle(){lR(this.auth,new y_).then(e=>{this.router.navigate(["/dashboard"]),localStorage.setItem("token",JSON.stringify(e.user))}).catch(e=>{alert(e.message)})}user=hn(null);loggedIn=Rn(()=>this.user()!==null);constructor(){this.auth.onAuthStateChanged(e=>{this.user.set(e)})}static \u0275fac=function(n){return new(n||t)};static \u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"})};var fp=class t{authService=P(Jt);router=P(Et);user;ngOnInit(){this.authService.loggedIn()||this.router.navigate(["/login"]),this.user=this.authService.user()}logout(){this.authService.logout(),alert("Successfully logged out"),this.router.navigate(["/login"])}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=ee({type:t,selectors:[["app-account"]],decls:12,vars:3,consts:[[1,"container","py-2"],[1,"card","p-4"],[1,"text-center"],[1,"card-body"],[1,"btn","btn-outline-success",3,"click"]],template:function(n,r){n&1&&(E(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div"),S(5),I(),E(6,"div"),S(7),I(),E(8,"div"),S(9),I()()(),E(10,"button",4),ge("click",function(){return r.logout()}),S(11,"Logout"),I()()()),n&2&&(O(5),st("User ID: ",r.user==null?null:r.user.uid,""),O(2),st("User Name: ",r.user==null?null:r.user.displayName,""),O(2),st("Email: ",r.user==null?null:r.user.email,""))},encapsulation:2})};var zz=()=>["/register"],qz=()=>["/forgot-password"],pp=class t{authService=P(Jt);email="";password="";login(){if(this.email==""){alert("Please enter email");return}if(this.password==""){alert("Please enter your password");return}this.authService.login(this.email,this.password),this.email="",this.password=""}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=ee({type:t,selectors:[["app-login"]],decls:29,vars:6,consts:[[1,"container-fluid"],[1,"row","mt-5"],[1,"col"],[1,"col-12","col-md-6","col-lg-4"],[1,"card","p-4"],[1,"card-body"],[1,"mb-3"],[1,"text-center"],["for","exampleInputEmail1",1,"form-label"],["type","email","name","email",1,"form-control",3,"ngModelChange","ngModel"],["for","exampleInputPassword1",1,"form-label"],["type","password","name","password",1,"form-control",3,"ngModelChange","ngModel"],["type","button",1,"btn","btn-primary",3,"click"],[1,"row","mt-4"],[1,"col-12","col-md-6","text-center"],[1,"text-decoration-none",3,"routerLink"]],template:function(n,r){n&1&&(E(0,"div",0)(1,"div",1),Q(2,"div",2),E(3,"div",3)(4,"div",4)(5,"div",5)(6,"form")(7,"div",6)(8,"h4",7),S(9,"Login"),I()(),E(10,"div",6)(11,"label",8),S(12,"Email"),I(),E(13,"input",9),Ee("ngModelChange",function(o){return be(r.email,o)||(r.email=o),o}),I()(),E(14,"div",6)(15,"label",10),S(16,"Password"),I(),E(17,"input",11),Ee("ngModelChange",function(o){return be(r.password,o)||(r.password=o),o}),I()(),E(18,"div",7)(19,"button",12),ge("click",function(){return r.login()}),S(20," Submit "),I()(),E(21,"div",13)(22,"div",14)(23,"a",15),S(24,"Need Account? Register "),I()(),E(25,"div",14)(26,"a",15),S(27,"Forgot Password? "),I()()()()()()(),Q(28,"div",2),I()()),n&2&&(O(13),Ie("ngModel",r.email),O(4),Ie("ngModel",r.password),O(6),q("routerLink",Fe(4,zz)),O(3),q("routerLink",Fe(5,qz)))},dependencies:[Ge,ki,Nt,gt,xi,ct,Qr,He],encapsulation:2})};var Wz=()=>["/login"],gp=class t{user={fname:"",lname:"",email:"",password:""};authService=P(Jt);register(){if(this.user.fname==""){alert("Please enter your first name");return}if(this.user.lname==""){alert("Please enter your Last name");return}if(this.user.email==""){alert("Please enter email");return}if(this.user.password==""){alert("Please enter your password");return}this.authService.register(this.user),this.user={fname:"",lname:"",email:"",password:""}}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=ee({type:t,selectors:[["app-register"]],decls:32,vars:6,consts:[[1,"container-fluid"],[1,"row","mt-5"],[1,"col"],[1,"col-12","col-md-6","col-lg-4"],[1,"card","p-4"],[1,"card-body"],[1,"mb-3"],[1,"text-center"],["for","firstname",1,"form-label","me-2"],["type","text","name","fname",1,"form-control",3,"ngModelChange","ngModel"],["for","firstname",1,"form-label"],["type","text","name","lname",1,"form-control",3,"ngModelChange","ngModel"],["for","exampleInputEmail1",1,"form-label"],["type","email","name","email",1,"form-control",3,"ngModelChange","ngModel"],["for","exampleInputPassword1",1,"form-label"],["type","password","name","password",1,"form-control",3,"ngModelChange","ngModel"],["type","button",1,"btn","btn-primary",3,"click"],[1,"row","mt-4"],[1,"text-decoration-none",3,"routerLink"]],template:function(n,r){n&1&&(E(0,"div",0)(1,"div",1),Q(2,"div",2),E(3,"div",3)(4,"div",4)(5,"div",5)(6,"form")(7,"div",6)(8,"h4",7),S(9,"Register"),I()(),E(10,"div",6)(11,"label",8),S(12,"First Name"),I(),E(13,"input",9),Ee("ngModelChange",function(o){return be(r.user.fname,o)||(r.user.fname=o),o}),I(),E(14,"label",10),S(15,"Last Name"),I(),E(16,"input",11),Ee("ngModelChange",function(o){return be(r.user.lname,o)||(r.user.lname=o),o}),I()(),E(17,"div",6)(18,"label",12),S(19,"Email"),I(),E(20,"input",13),Ee("ngModelChange",function(o){return be(r.user.email,o)||(r.user.email=o),o}),I()(),E(21,"div",6)(22,"label",14),S(23,"Password"),I(),E(24,"input",15),Ee("ngModelChange",function(o){return be(r.user.password,o)||(r.user.password=o),o}),I()(),E(25,"div",7)(26,"button",16),ge("click",function(){return r.register()}),S(27," Register "),I()(),E(28,"div",17)(29,"a",18),S(30,"Have an Account? Login "),I()()()()()(),Q(31,"div",2),I()()),n&2&&(O(13),Ie("ngModel",r.user.fname),O(3),Ie("ngModel",r.user.lname),O(4),Ie("ngModel",r.user.email),O(4),Ie("ngModel",r.user.password),O(5),q("routerLink",Fe(5,Wz)))},dependencies:[Ge,ki,Nt,gt,xi,ct,Qr,He],encapsulation:2})};var Gz=()=>["/products"],Kz=()=>["/checkout"],mp=class t{cartService=P(_n);static \u0275fac=function(n){return new(n||t)};static \u0275cmp=ee({type:t,selectors:[["app-cart-page"]],decls:19,vars:13,consts:[[1,"container","py-3"],[1,"row","row-gap-3"],[1,"col-12","order-lg-last"],[1,"card","p-4","sticky-top",2,"top","10px"],[1,"mt-4","mb-lg-4"],[1,"btn","btn-primary","py-3","fw-bold","mt-2","w-100",3,"routerLink"],[1,"d-none","d-lg-block"],[1,"mt-2","d-none","d-lg-block"],[1,"d-block","d-lg-none"],[1,"col-12","col-lg-6","order-lg-first"]],template:function(n,r){n&1&&(E(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h2"),S(5,"Continue Shopping?"),I(),E(6,"div",4)(7,"button",5),S(8,"Back to Gallery"),I()(),Q(9,"hr",6),E(10,"div",7)(11,"h3"),S(12),Qt(13,"currency"),I(),E(14,"button",5),S(15,"Proceed to Checkout"),I()()()(),Q(16,"hr",8),E(17,"div",9),Q(18,"app-cart"),I()()()),n&2&&(O(2),ao(r.cartService.cartItems().length===0?"":"col-lg-6"),O(5),q("routerLink",Fe(11,Gz)),O(5),st(" Total: ",Yt(13,9,r.cartService.total()),""),O(2),ao(r.cartService.total()===0?"d-none":""),q("routerLink",Fe(12,Kz)),O(3),ao(r.cartService.cartItems().length===0?"d-none":""))},dependencies:[Je,Mn,Ra,He],encapsulation:2})};function Qz(t,e){t&1&&(E(0,"div",15),S(1," Thank you! Your message has been sent. "),I())}var yp=class t{firestore=P(jn);messagesCollection=Kr(this.firestore,"messages");contact={name:"",email:"",message:""};submitted=!1;onSubmit(){let e={name:this.contact.name,email:this.contact.email,message:this.contact.message,timestamp:new Date};jo(this.messagesCollection,e).then(()=>{alert("Message sent successfully"),this.submitted=!0}).catch(n=>{alert(`Error sending message: ${n}`)}),this.contact={name:"",email:"",message:""}}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=ee({type:t,selectors:[["app-contact"]],decls:22,vars:5,consts:[["contactForm","ngForm"],[1,"container","my-5"],[1,"card","shadow"],[1,"card-body"],[1,"card-title","text-center","mb-4"],[3,"ngSubmit"],[1,"form-group","mb-3"],["for","name"],["type","text","id","name","name","name","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","email"],["type","email","id","email","name","email","required","",1,"form-control",3,"ngModelChange","ngModel"],[1,"form-group","mb-4"],["for","message"],["id","message","name","message","rows","5","required","",1,"form-control",3,"ngModelChange","ngModel"],["type","submit",1,"btn","btn-primary","w-100",3,"disabled"],[1,"alert","alert-success","mt-3"]],template:function(n,r){if(n&1){let i=bs();E(0,"div",1)(1,"div",2)(2,"div",3)(3,"h2",4),S(4,"Contact Us!"),I(),E(5,"form",5,0),ge("ngSubmit",function(){return Sn(i),An(r.onSubmit())}),E(7,"div",6)(8,"label",7),S(9,"Name:"),I(),E(10,"input",8),Ee("ngModelChange",function(s){return Sn(i),be(r.contact.name,s)||(r.contact.name=s),An(s)}),I()(),E(11,"div",6)(12,"label",9),S(13,"Email:"),I(),E(14,"input",10),Ee("ngModelChange",function(s){return Sn(i),be(r.contact.email,s)||(r.contact.email=s),An(s)}),I()(),E(15,"div",11)(16,"label",12),S(17,"Message:"),I(),E(18,"textarea",13),Ee("ngModelChange",function(s){return Sn(i),be(r.contact.message,s)||(r.contact.message=s),An(s)}),I()(),E(19,"button",14),S(20," Send "),I()(),hi(21,Qz,2,0,"div",15),I()()()}if(n&2){let i=ZD(6);O(10),Ie("ngModel",r.contact.name),O(4),Ie("ngModel",r.contact.email),O(4),Ie("ngModel",r.contact.message),O(),q("disabled",!i.form.valid),O(2),co(r.submitted?21:-1)}},dependencies:[Ge,ki,Nt,gt,xi,rw,ct,Qr],encapsulation:2})};var vp=class t{static \u0275fac=function(n){return new(n||t)};static \u0275cmp=ee({type:t,selectors:[["app-about"]],decls:15,vars:0,consts:[[1,"container","my-5"],[1,"row","row-gap-3"],[1,"col-md-6"],["src","logo.png","alt","Living Aura",1,"img-fluid","rounded","shadow"]],template:function(n,r){n&1&&(E(0,"div",0)(1,"div",1)(2,"div",2),Q(3,"img",3),I(),E(4,"div",2)(5,"h2"),S(6,"About Living Aura"),I(),E(7,"p")(8,"strong"),S(9,"Living Aura"),I(),S(10," is more than an e-commerce brand \u2014 it\u2019s a lifestyle. We bring you carefully curated products that balance elegance, functionality, and sustainability. "),I(),E(11,"p"),S(12," Whether you're shopping for home, wellness, or gifts that speak from the soul, Living Aura ensures quality, creativity, and a hint of magic in every purchase. "),I(),E(13,"p"),S(14," Founded with the belief that the things we own should reflect who we are, Living Aura empowers individuals to live with intention and surround themselves with beauty and purpose. "),I()()()())},encapsulation:2})};var _p=class t{address;static \u0275fac=function(n){return new(n||t)};static \u0275cmp=ee({type:t,selectors:[["app-address-form"]],inputs:{address:"address"},decls:131,vars:7,consts:[[1,"form-group","mb-3"],["for","firstName",1,"mb-1"],["type","text","id","firstName","placeholder","First Name","name","firstName",1,"form-control",3,"ngModelChange","ngModel"],["for","lastName",1,"mb-1"],["type","text","id","lastName","placeholder","Last Name","name","lastName",1,"form-control",3,"ngModelChange","ngModel"],["for","email",1,"mb-1"],["type","text","id","email","placeholder","Email","name","lastName",1,"form-control",3,"ngModelChange","ngModel"],[1,"form-group"],["for","street",1,"mb-1"],["type","text","id","street","placeholder","Street","name","city",1,"form-control",3,"ngModelChange","ngModel"],["for","city",1,"mb-1"],["type","text","id","city","placeholder","City","name","city",1,"form-control",3,"ngModelChange","ngModel"],["for","state",1,"mb-1"],["id","state","name","state",1,"form-control",3,"ngModelChange","ngModel"],["value","","disabled","","selected",""],["value","AL"],["value","AK"],["value","AZ"],["value","AR"],["value","CA"],["value","CO"],["value","CT"],["value","DE"],["value","FL"],["value","GA"],["value","HI"],["value","ID"],["value","IL"],["value","IN"],["value","IA"],["value","KS"],["value","KY"],["value","LA"],["value","ME"],["value","MD"],["value","MA"],["value","MI"],["value","MN"],["value","MS"],["value","MO"],["value","MT"],["value","NE"],["value","NV"],["value","NH"],["value","NJ"],["value","NM"],["value","NY"],["value","NC"],["value","ND"],["value","OH"],["value","OK"],["value","OR"],["value","PA"],["value","RI"],["value","SC"],["value","SD"],["value","TN"],["value","TX"],["value","UT"],["value","VT"],["value","VA"],["value","WA"],["value","WV"],["value","WI"],["value","WY"],["for","zip",1,"mb-1"],["type","text","id","zip","placeholder","Zip Code","name","zip",1,"form-control",3,"ngModelChange","ngModel"]],template:function(n,r){n&1&&(E(0,"div",0)(1,"label",1),S(2,"First Name"),I(),E(3,"input",2),Ee("ngModelChange",function(o){return be(r.address.firstName,o)||(r.address.firstName=o),o}),I()(),E(4,"div",0)(5,"label",3),S(6,"Last Name"),I(),E(7,"input",4),Ee("ngModelChange",function(o){return be(r.address.lastName,o)||(r.address.lastName=o),o}),I()(),E(8,"div",0)(9,"label",5),S(10,"Email"),I(),E(11,"input",6),Ee("ngModelChange",function(o){return be(r.address.email,o)||(r.address.email=o),o}),I()(),E(12,"div",7)(13,"div",0)(14,"label",8),S(15,"Street"),I(),E(16,"input",9),Ee("ngModelChange",function(o){return be(r.address.address,o)||(r.address.address=o),o}),I()(),E(17,"div",0)(18,"label",10),S(19,"City"),I(),E(20,"input",11),Ee("ngModelChange",function(o){return be(r.address.city,o)||(r.address.city=o),o}),I()(),E(21,"div",0)(22,"label",12),S(23,"State"),I(),E(24,"select",13),Ee("ngModelChange",function(o){return be(r.address.state,o)||(r.address.state=o),o}),E(25,"option",14),S(26,"Select State"),I(),E(27,"option",15),S(28,"Alabama"),I(),E(29,"option",16),S(30,"Alaska"),I(),E(31,"option",17),S(32,"Arizona"),I(),E(33,"option",18),S(34,"Arkansas"),I(),E(35,"option",19),S(36,"California"),I(),E(37,"option",20),S(38,"Colorado"),I(),E(39,"option",21),S(40,"Connecticut"),I(),E(41,"option",22),S(42,"Delaware"),I(),E(43,"option",23),S(44,"Florida"),I(),E(45,"option",24),S(46,"Georgia"),I(),E(47,"option",25),S(48,"Hawaii"),I(),E(49,"option",26),S(50,"Idaho"),I(),E(51,"option",27),S(52,"Illinois"),I(),E(53,"option",28),S(54,"Indiana"),I(),E(55,"option",29),S(56,"Iowa"),I(),E(57,"option",30),S(58,"Kansas"),I(),E(59,"option",31),S(60,"Kentucky"),I(),E(61,"option",32),S(62,"Louisiana"),I(),E(63,"option",33),S(64,"Maine"),I(),E(65,"option",34),S(66,"Maryland"),I(),E(67,"option",35),S(68,"Massachusetts"),I(),E(69,"option",36),S(70,"Michigan"),I(),E(71,"option",37),S(72,"Minnesota"),I(),E(73,"option",38),S(74,"Mississippi"),I(),E(75,"option",39),S(76,"Missouri"),I(),E(77,"option",40),S(78,"Montana"),I(),E(79,"option",41),S(80,"Nebraska"),I(),E(81,"option",42),S(82,"Nevada"),I(),E(83,"option",43),S(84,"New Hampshire"),I(),E(85,"option",44),S(86,"New Jersey"),I(),E(87,"option",45),S(88,"New Mexico"),I(),E(89,"option",46),S(90,"New York"),I(),E(91,"option",47),S(92,"North Carolina"),I(),E(93,"option",48),S(94,"North Dakota"),I(),E(95,"option",49),S(96,"Ohio"),I(),E(97,"option",50),S(98,"Oklahoma"),I(),E(99,"option",51),S(100,"Oregon"),I(),E(101,"option",52),S(102,"Pennsylvania"),I(),E(103,"option",53),S(104,"Rhode Island"),I(),E(105,"option",54),S(106,"South Carolina"),I(),E(107,"option",55),S(108,"South Dakota"),I(),E(109,"option",56),S(110,"Tennessee"),I(),E(111,"option",57),S(112,"Texas"),I(),E(113,"option",58),S(114,"Utah"),I(),E(115,"option",59),S(116,"Vermont"),I(),E(117,"option",60),S(118,"Virginia"),I(),E(119,"option",61),S(120,"Washington"),I(),E(121,"option",62),S(122,"West Virginia"),I(),E(123,"option",63),S(124,"Wisconsin"),I(),E(125,"option",64),S(126,"Wyoming"),I()()(),E(127,"div",0)(128,"label",65),S(129,"Zip"),I(),E(130,"input",66),Ee("ngModelChange",function(o){return be(r.address.zip,o)||(r.address.zip=o),o}),I()()()),n&2&&(O(3),Ie("ngModel",r.address.firstName),O(4),Ie("ngModel",r.address.lastName),O(4),Ie("ngModel",r.address.email),O(5),Ie("ngModel",r.address.address),O(4),Ie("ngModel",r.address.city),O(4),Ie("ngModel",r.address.state),O(106),Ie("ngModel",r.address.zip))},dependencies:[Je,Ge,Sa,Aa,Nt,Oi,gt,ct],encapsulation:2})};function Yz(t,e){if(t&1&&(Q(0,"hr"),E(1,"h3",6),S(2,"Billing Address"),I(),Q(3,"app-address-form",7)),t&2){let n=lo();O(3),q("address",n.billingAddress)}}function Zz(t,e){if(t&1){let n=bs();E(0,"div",6)(1,"button",25),ge("click",function(){Sn(n);let i=lo();return An(i.placeOrder())}),S(2,"Complete Order"),I()()}}function Jz(t,e){if(t&1&&(E(0,"div",23)(1,"span"),S(2),I(),E(3,"span"),S(4),Qt(5,"currency"),I()()),t&2){let n=e.$implicit;O(2),wy("",n.quantity," x ",n.product.title,""),O(2),Ut(Yt(5,3,n.product.price))}}var Ip=class t{cartService=P(_n);authService=P(Jt);router=P(Et);firestore=P(jn);ordersCollection=Kr(this.firestore,"orders");items;total=0;shippingAddress={firstName:this.authService.user()?.displayName?.split(" ")[0]||"",lastName:this.authService.user()?.displayName?.split(" ")[1]||"",email:this.authService.user()?.email||"",address:"",city:"",state:"",zip:""};billingAddress={firstName:this.authService.user()?.displayName?.split(" ")[0]||"",lastName:this.authService.user()?.displayName?.split(" ")[1]||"",email:this.authService.user()?.email||"",address:"",city:"",state:"",zip:""};paymentInfo={cardNumber:"",cardName:"",expiryDate:"",cvv:""};shippingSameAsBilling=!1;ngOnInit(){this.items=this.cartService.cartItems(),this.total=this.cartService.total(),this.items.length===0&&this.router.navigate(["/products"])}isValidAddress(e){return e.firstName.trim()!==""&&e.lastName.trim()!==""&&e.email.trim()!==""&&e.address.trim()!==""&&e.city.trim()!==""&&e.state.trim()!==""&&e.zip.trim()!==""}isValidPaymentInfo(e){return e.cardNumber.trim()!==""&&e.cardName.trim()!==""&&e.expiryDate.trim()!==""&&e.cvv.trim()!==""}isValidForm(){return this.isValidAddress(this.shippingAddress)&&(this.shippingSameAsBilling||this.isValidAddress(this.billingAddress))&&this.isValidPaymentInfo(this.paymentInfo)}placeOrder(){return _(this,null,function*(){if(!this.isValidForm()){alert("Please fill in all required fields.");return}try{let e=yield jo(Kr(this.firestore,"addresses"),this.shippingAddress),n=this.shippingSameAsBilling?e:yield jo(Kr(this.firestore,"addresses"),this.billingAddress),r=yield jo(Kr(this.firestore,"card"),this.paymentInfo),o={orderitems:this.items.map(s=>({product:Fu(this.firestore,"products",s.product.id),quantity:s.quantity})),total:this.total,shippingAddress:Fu(this.firestore,"addresses",e.id),billingAddress:Fu(this.firestore,"addresses",n.id),paymentInfo:Fu(this.firestore,"card",r.id),userId:this.authService.user()?.uid||null,userEmail:this.authService.user()?.email||null,orderDate:new Date().toISOString()};yield jo(this.ordersCollection,o),alert("Order placed successfully!"),this.cartService.clearCart(),this.router.navigate(["/checkout/thank-you"])}catch(e){console.error("Error placing order:",e),alert("Failed to place order. Please try again.")}})}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=ee({type:t,selectors:[["app-checkout"]],decls:52,vars:11,consts:[[1,"container","py-3"],[1,"row","row-gap-2"],[1,"col-md-7"],[1,"card"],[1,"card-header","text-center"],[1,"card-body"],[1,"text-center"],[3,"address"],[1,"form-check"],["type","checkbox","id","sameAsShipping",1,"form-check-input",3,"ngModelChange","ngModel"],["for","sameAsShipping",1,"form-check-label"],[1,"mb-3"],["for","cardNumber",1,"form-label"],["type","text","id","cardNumber","placeholder","1234 5678 9012 3456",1,"form-control",3,"ngModelChange","ngModel"],["for","cardName",1,"form-label"],["type","text","id","cardName","placeholder","John Doe",1,"form-control",3,"ngModelChange","ngModel"],[1,"row"],[1,"col-md-6","mb-3"],["for","expiryDate",1,"form-label"],["type","text","id","expiryDate","placeholder","MM/YY",1,"form-control",3,"ngModelChange","ngModel"],["for","cvv",1,"form-label"],["type","text","id","cvv","placeholder","123",1,"form-control",3,"ngModelChange","ngModel"],[1,"col-md-5","order-first","order-md-last"],[1,"d-flex","justify-content-between"],[1,"mt-3","d-flex","justify-content-between"],[1,"btn","btn-primary","mt-3",3,"click"]],template:function(n,r){n&1&&(E(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"h3"),S(6,"Checkout"),I()(),E(7,"div",5)(8,"h3",6),S(9,"Shipping Address"),I(),Q(10,"app-address-form",7),E(11,"div",8)(12,"input",9),Ee("ngModelChange",function(o){return be(r.shippingSameAsBilling,o)||(r.shippingSameAsBilling=o),o}),I(),E(13,"label",10),S(14,"Billing address same as shipping"),I()(),hi(15,Yz,4,1),Q(16,"hr"),E(17,"h3",6),S(18,"Payment Information"),I(),E(19,"div",11)(20,"label",12),S(21,"Card Number"),I(),E(22,"input",13),Ee("ngModelChange",function(o){return be(r.paymentInfo.cardNumber,o)||(r.paymentInfo.cardNumber=o),o}),I()(),E(23,"div",11)(24,"label",14),S(25,"Name on Card"),I(),E(26,"input",15),Ee("ngModelChange",function(o){return be(r.paymentInfo.cardName,o)||(r.paymentInfo.cardName=o),o}),I()(),E(27,"div",16)(28,"div",17)(29,"label",18),S(30,"Expiry Date"),I(),E(31,"input",19),Ee("ngModelChange",function(o){return be(r.paymentInfo.expiryDate,o)||(r.paymentInfo.expiryDate=o),o}),I()(),E(32,"div",17)(33,"label",20),S(34,"CVV"),I(),E(35,"input",21),Ee("ngModelChange",function(o){return be(r.paymentInfo.cvv,o)||(r.paymentInfo.cvv=o),o}),I()()()()(),hi(36,Zz,3,0,"div",6),I(),E(37,"div",22)(38,"div",3)(39,"div",4)(40,"h3"),S(41,"Cart Summary"),I()(),E(42,"div",5),Gn(43,Jz,6,5,"div",23,fi),Q(45,"hr"),E(46,"div",24)(47,"strong"),S(48,"Total:"),I(),E(49,"strong"),S(50),Qt(51,"currency"),I()()()()()()()),n&2&&(O(10),q("address",r.shippingAddress),O(2),Ie("ngModel",r.shippingSameAsBilling),O(3),co(r.shippingSameAsBilling?-1:15),O(7),Ie("ngModel",r.paymentInfo.cardNumber),O(4),Ie("ngModel",r.paymentInfo.cardName),O(5),Ie("ngModel",r.paymentInfo.expiryDate),O(4),Ie("ngModel",r.paymentInfo.cvv),O(),co(r.total>0?36:-1),O(7),Kn(r.items),O(7),Ut(Yt(51,9,r.total)))},dependencies:[Je,Mn,Ge,Nt,XE,gt,ct,_p],encapsulation:2})};var Xz=()=>["/login"],Ep=class t{authService=P(Jt);email="";forgotPassword(){this.authService.forgotPassword(this.email),this.email=""}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=ee({type:t,selectors:[["app-forgot-password"]],decls:21,vars:3,consts:[[1,"container-fluid"],[1,"row","mt-5"],[1,"col"],[1,"col-12","col-md-6","col-lg-4"],[1,"card","p-4"],[1,"card-body"],[1,"mb-3"],[1,"text-center"],["for","exampleInputEmail1",1,"form-label"],["type","email","name","email",1,"form-control",3,"ngModelChange","ngModel"],["type","button",1,"btn","btn-primary",3,"click"],[1,"row","mt-4"],[1,"text-decoration-none",3,"routerLink"]],template:function(n,r){n&1&&(E(0,"div",0)(1,"div",1),Q(2,"div",2),E(3,"div",3)(4,"div",4)(5,"div",5)(6,"form")(7,"div",6)(8,"h4",7),S(9,"Forgot Password"),I()(),E(10,"div",6)(11,"label",8),S(12,"Email"),I(),E(13,"input",9),Ee("ngModelChange",function(o){return be(r.email,o)||(r.email=o),o}),I()(),E(14,"div",7)(15,"button",10),ge("click",function(){return r.forgotPassword()}),S(16," Forgot Password "),I()(),E(17,"div",11)(18,"a",12),S(19,"Back to Login "),I()()()()()(),Q(20,"div",2),I()()),n&2&&(O(13),Ie("ngModel",r.email),O(5),q("routerLink",Fe(2,Xz)))},dependencies:[Ge,ki,Nt,gt,xi,ct,Qr,He],encapsulation:2})};var wp=class t{static \u0275fac=function(n){return new(n||t)};static \u0275cmp=ee({type:t,selectors:[["app-thank-you"]],decls:10,vars:0,consts:[[1,"text-center"],[1,"card","p-4"],[1,"text-success","mb-3"],[1,"mb-2"],[1,"mb-4"],["routerLink","/",1,"btn","btn-primary"]],template:function(n,r){n&1&&(E(0,"div",0)(1,"div",1)(2,"h2",2),S(3,"Thank You!"),I(),E(4,"p",3),S(5,"Your order has been successfully placed."),I(),E(6,"p",4),S(7,"A confirmation email has been sent to your inbox."),I(),E(8,"a",5),S(9,"Return to Home"),I()()())},dependencies:[He],encapsulation:2})};var fP=[{path:"cart",component:mp},{path:"",component:hp},{path:"profile",component:fp},{path:"products",component:lp},{path:"product/:id",component:dp},{path:"login",component:pp},{path:"register",component:gp},{path:"contact",component:yp},{path:"about",component:vp},{path:"checkout",component:Ip},{path:"checkout/thank-you",component:wp},{path:"forgot-password",component:Ep}];var eq={apiKey:"AIzaSyCzRN8aPRSP6oNP2kR7sztL_ZqqyzfJTVk",authDomain:"living-aura.firebaseapp.com",projectId:"living-aura",storageBucket:"living-aura.firebasestorage.app",messagingSenderId:"579401673753",appId:"1:579401673753:web:f0364e6b1abe81d5798e88"},pP={providers:[iT({eventCoalescing:!0}),lv(fP,dv()),eA(()=>tA(eq)),VN(()=>UN()),oR(()=>aR())]};var tq=()=>["/products"],nq=()=>["/about"],rq=()=>["/contact"],iq=()=>["/cart"],oq=()=>["/profile"],sq=()=>["/login"];function aq(t,e){t&1&&(E(0,"a",8),S(1,"Profile"),I()),t&2&&q("routerLink",Fe(1,oq))}function cq(t,e){t&1&&(E(0,"a",8),S(1,"Login/Register"),I()),t&2&&q("routerLink",Fe(1,sq))}var Cp=class t{isLoggedIn=!1;authService=P(Jt);static \u0275fac=function(n){return new(n||t)};static \u0275cmp=ee({type:t,selectors:[["app-navbar"]],decls:23,vars:9,consts:[[1,"navbar","navbar-expand-lg","navbar-light","bg-light"],[1,"container-fluid"],["src","logo.png","alt","Logo","routerLink","/",1,"navbar-brand","navbar-logo",2,"width","240px","cursor","pointer"],["type","button","data-bs-toggle","collapse","data-bs-target","#navbarNav","aria-controls","navbarNav","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler"],[1,"navbar-toggler-icon"],["id","navbarNav",1,"collapse","navbar-collapse"],[1,"navbar-nav","me-auto"],[1,"nav-item"],[1,"nav-link",3,"routerLink"],[1,"navbar-nav"]],template:function(n,r){n&1&&(E(0,"nav",0)(1,"div",1),Q(2,"img",2),E(3,"button",3),Q(4,"span",4),I(),E(5,"div",5)(6,"ul",6)(7,"li",7)(8,"a",8),S(9,"Products"),I()(),E(10,"li",7)(11,"a",8),S(12,"About"),I()(),E(13,"li",7)(14,"a",8),S(15,"Contact"),I()(),E(16,"li",7)(17,"a",8),S(18,"Cart"),I()()(),E(19,"ul",9)(20,"li",7),hi(21,aq,2,2,"a",8)(22,cq,2,2,"a",8),I()()()()()),n&2&&(O(8),q("routerLink",Fe(5,tq)),O(3),q("routerLink",Fe(6,nq)),O(3),q("routerLink",Fe(7,rq)),O(3),q("routerLink",Fe(8,iq)),O(4),co(r.authService.loggedIn()?21:22))},dependencies:[He],encapsulation:2})};var uq=()=>["/"],lq=()=>["/about"],dq=()=>["/contact"],bp=class t{static \u0275fac=function(n){return new(n||t)};static \u0275cmp=ee({type:t,selectors:[["app-footer"]],decls:11,vars:6,consts:[[1,"pt-4","pb-2","footer"],[1,"container","text-center"],[1,"d-flex","justify-content-center","gap-3"],[1,"nav-item",3,"routerLink"]],template:function(n,r){n&1&&(E(0,"footer",0)(1,"div",1)(2,"p"),S(3,"\xA9 2025 Living Aura. All rights reserved."),I(),E(4,"nav",2)(5,"a",3),S(6,"Home"),I(),E(7,"a",3),S(8,"About Us"),I(),E(9,"a",3),S(10,"Contact"),I()()()()),n&2&&(O(5),q("routerLink",Fe(3,uq)),O(2),q("routerLink",Fe(4,lq)),O(2),q("routerLink",Fe(5,dq)))},dependencies:[He],encapsulation:2})};var Dp=class t{products;productService=P(vn);ngOnInit(){this.productService.getProducts().subscribe(e=>{this.products=e})}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=ee({type:t,selectors:[["app-root"]],decls:3,vars:0,template:function(n,r){n&1&&Q(0,"app-navbar")(1,"router-outlet")(2,"app-footer")},dependencies:[Kc,Je,Ge,dP,Cp,bp],encapsulation:2})};jy(Dp,pP).catch(t=>console.error(t));
